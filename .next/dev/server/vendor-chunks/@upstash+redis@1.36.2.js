"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@upstash+redis@1.36.2";
exports.ids = ["vendor-chunks/@upstash+redis@1.36.2"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpClient: () => (/* binding */ HttpClient),\n/* harmony export */   Redis: () => (/* binding */ Redis),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   error_exports: () => (/* binding */ error_exports)\n/* harmony export */ });\n/* harmony import */ var uncrypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uncrypto */ \"(rsc)/./node_modules/.pnpm/uncrypto@0.1.3/node_modules/uncrypto/dist/crypto.node.mjs\");\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// pkg/error.ts\nvar error_exports = {};\n__export(error_exports, {\n  UpstashError: () => UpstashError,\n  UpstashJSONParseError: () => UpstashJSONParseError,\n  UrlError: () => UrlError\n});\nvar UpstashError = class extends Error {\n  constructor(message, options) {\n    super(message, options);\n    this.name = \"UpstashError\";\n  }\n};\nvar UrlError = class extends Error {\n  constructor(url) {\n    super(\n      `Upstash Redis client was passed an invalid URL. You should pass a URL starting with https. Received: \"${url}\". `\n    );\n    this.name = \"UrlError\";\n  }\n};\nvar UpstashJSONParseError = class extends UpstashError {\n  constructor(body, options) {\n    const truncatedBody = body.length > 200 ? body.slice(0, 200) + \"...\" : body;\n    super(`Unable to parse response body: ${truncatedBody}`, options);\n    this.name = \"UpstashJSONParseError\";\n  }\n};\n\n// pkg/util.ts\nfunction parseRecursive(obj) {\n  const parsed = Array.isArray(obj) ? obj.map((o) => {\n    try {\n      return parseRecursive(o);\n    } catch {\n      return o;\n    }\n  }) : JSON.parse(obj);\n  if (typeof parsed === \"number\" && parsed.toString() !== obj) {\n    return obj;\n  }\n  return parsed;\n}\nfunction parseResponse(result) {\n  try {\n    return parseRecursive(result);\n  } catch {\n    return result;\n  }\n}\nfunction deserializeScanResponse(result) {\n  return [result[0], ...parseResponse(result.slice(1))];\n}\nfunction deserializeScanWithTypesResponse(result) {\n  const [cursor, keys] = result;\n  const parsedKeys = [];\n  for (let i = 0; i < keys.length; i += 2) {\n    parsedKeys.push({ key: keys[i], type: keys[i + 1] });\n  }\n  return [cursor, parsedKeys];\n}\nfunction mergeHeaders(...headers) {\n  const merged = {};\n  for (const header of headers) {\n    if (!header) continue;\n    for (const [key, value] of Object.entries(header)) {\n      if (value !== void 0 && value !== null) {\n        merged[key] = value;\n      }\n    }\n  }\n  return merged;\n}\nfunction kvArrayToObject(v) {\n  if (typeof v === \"object\" && v !== null && !Array.isArray(v)) return v;\n  if (!Array.isArray(v)) return {};\n  const obj = {};\n  for (let i = 0; i < v.length; i += 2) {\n    if (typeof v[i] === \"string\") obj[v[i]] = v[i + 1];\n  }\n  return obj;\n}\n\n// pkg/http.ts\nvar MAX_BUFFER_SIZE = 1024 * 1024;\nvar HttpClient = class {\n  baseUrl;\n  headers;\n  options;\n  readYourWrites;\n  upstashSyncToken = \"\";\n  hasCredentials;\n  retry;\n  constructor(config) {\n    this.options = {\n      backend: config.options?.backend,\n      agent: config.agent,\n      responseEncoding: config.responseEncoding ?? \"base64\",\n      // default to base64\n      cache: config.cache,\n      signal: config.signal,\n      keepAlive: config.keepAlive ?? true\n    };\n    this.upstashSyncToken = \"\";\n    this.readYourWrites = config.readYourWrites ?? true;\n    this.baseUrl = (config.baseUrl || \"\").replace(/\\/$/, \"\");\n    const urlRegex = /^https?:\\/\\/[^\\s#$./?].\\S*$/;\n    if (this.baseUrl && !urlRegex.test(this.baseUrl)) {\n      throw new UrlError(this.baseUrl);\n    }\n    this.headers = {\n      \"Content-Type\": \"application/json\",\n      ...config.headers\n    };\n    this.hasCredentials = Boolean(this.baseUrl && this.headers.authorization.split(\" \")[1]);\n    if (this.options.responseEncoding === \"base64\") {\n      this.headers[\"Upstash-Encoding\"] = \"base64\";\n    }\n    this.retry = typeof config.retry === \"boolean\" && !config.retry ? {\n      attempts: 1,\n      backoff: () => 0\n    } : {\n      attempts: config.retry?.retries ?? 5,\n      backoff: config.retry?.backoff ?? ((retryCount) => Math.exp(retryCount) * 50)\n    };\n  }\n  mergeTelemetry(telemetry) {\n    this.headers = merge(this.headers, \"Upstash-Telemetry-Runtime\", telemetry.runtime);\n    this.headers = merge(this.headers, \"Upstash-Telemetry-Platform\", telemetry.platform);\n    this.headers = merge(this.headers, \"Upstash-Telemetry-Sdk\", telemetry.sdk);\n  }\n  async request(req) {\n    const requestHeaders = mergeHeaders(this.headers, req.headers ?? {});\n    const requestUrl = [this.baseUrl, ...req.path ?? []].join(\"/\");\n    const isEventStream = requestHeaders.Accept === \"text/event-stream\";\n    const signal = req.signal ?? this.options.signal;\n    const isSignalFunction = typeof signal === \"function\";\n    const requestOptions = {\n      //@ts-expect-error this should throw due to bun regression\n      cache: this.options.cache,\n      method: \"POST\",\n      headers: requestHeaders,\n      body: JSON.stringify(req.body),\n      keepalive: this.options.keepAlive,\n      agent: this.options.agent,\n      signal: isSignalFunction ? signal() : signal,\n      /**\n       * Fastly specific\n       */\n      backend: this.options.backend\n    };\n    if (!this.hasCredentials) {\n      console.warn(\n        \"[Upstash Redis] Redis client was initialized without url or token. Failed to execute command.\"\n      );\n    }\n    if (this.readYourWrites) {\n      const newHeader = this.upstashSyncToken;\n      this.headers[\"upstash-sync-token\"] = newHeader;\n    }\n    let res = null;\n    let error = null;\n    for (let i = 0; i <= this.retry.attempts; i++) {\n      try {\n        res = await fetch(requestUrl, requestOptions);\n        break;\n      } catch (error_) {\n        if (requestOptions.signal?.aborted && isSignalFunction) {\n          throw error_;\n        } else if (requestOptions.signal?.aborted) {\n          const myBlob = new Blob([\n            JSON.stringify({ result: requestOptions.signal.reason ?? \"Aborted\" })\n          ]);\n          const myOptions = {\n            status: 200,\n            statusText: requestOptions.signal.reason ?? \"Aborted\"\n          };\n          res = new Response(myBlob, myOptions);\n          break;\n        }\n        error = error_;\n        if (i < this.retry.attempts) {\n          await new Promise((r) => setTimeout(r, this.retry.backoff(i)));\n        }\n      }\n    }\n    if (!res) {\n      throw error ?? new Error(\"Exhausted all retries\");\n    }\n    if (!res.ok) {\n      let body2;\n      const rawBody2 = await res.text();\n      try {\n        body2 = JSON.parse(rawBody2);\n      } catch (error2) {\n        throw new UpstashJSONParseError(rawBody2, { cause: error2 });\n      }\n      throw new UpstashError(`${body2.error}, command was: ${JSON.stringify(req.body)}`);\n    }\n    if (this.readYourWrites) {\n      const headers = res.headers;\n      this.upstashSyncToken = headers.get(\"upstash-sync-token\") ?? \"\";\n    }\n    if (isEventStream && req && req.onMessage && res.body) {\n      const reader = res.body.getReader();\n      const decoder = new TextDecoder();\n      (async () => {\n        try {\n          let buffer = \"\";\n          while (true) {\n            const { value, done } = await reader.read();\n            if (done) break;\n            buffer += decoder.decode(value, { stream: true });\n            const lines = buffer.split(\"\\n\");\n            buffer = lines.pop() || \"\";\n            if (buffer.length > MAX_BUFFER_SIZE) {\n              throw new Error(\"Buffer size exceeded (1MB)\");\n            }\n            for (const line of lines) {\n              if (line.startsWith(\"data: \")) {\n                const data = line.slice(6);\n                req.onMessage?.(data);\n              }\n            }\n          }\n        } catch (error2) {\n          if (error2 instanceof Error && error2.name === \"AbortError\") {\n          } else {\n            console.error(\"Stream reading error:\", error2);\n          }\n        } finally {\n          try {\n            await reader.cancel();\n          } catch {\n          }\n        }\n      })();\n      return { result: 1 };\n    }\n    let body;\n    const rawBody = await res.text();\n    try {\n      body = JSON.parse(rawBody);\n    } catch (error2) {\n      throw new UpstashJSONParseError(rawBody, { cause: error2 });\n    }\n    if (this.readYourWrites) {\n      const headers = res.headers;\n      this.upstashSyncToken = headers.get(\"upstash-sync-token\") ?? \"\";\n    }\n    if (this.options.responseEncoding === \"base64\") {\n      if (Array.isArray(body)) {\n        return body.map(({ result: result2, error: error2 }) => ({\n          result: decode(result2),\n          error: error2\n        }));\n      }\n      const result = decode(body.result);\n      return { result, error: body.error };\n    }\n    return body;\n  }\n};\nfunction base64decode(b64) {\n  let dec = \"\";\n  try {\n    const binString = atob(b64);\n    const size = binString.length;\n    const bytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n      bytes[i] = binString.charCodeAt(i);\n    }\n    dec = new TextDecoder().decode(bytes);\n  } catch {\n    dec = b64;\n  }\n  return dec;\n}\nfunction decode(raw) {\n  let result = void 0;\n  switch (typeof raw) {\n    case \"undefined\": {\n      return raw;\n    }\n    case \"number\": {\n      result = raw;\n      break;\n    }\n    case \"object\": {\n      if (Array.isArray(raw)) {\n        result = raw.map(\n          (v) => typeof v === \"string\" ? base64decode(v) : Array.isArray(v) ? v.map((element) => decode(element)) : v\n        );\n      } else {\n        result = null;\n      }\n      break;\n    }\n    case \"string\": {\n      result = raw === \"OK\" ? \"OK\" : base64decode(raw);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  return result;\n}\nfunction merge(obj, key, value) {\n  if (!value) {\n    return obj;\n  }\n  obj[key] = obj[key] ? [obj[key], value].join(\",\") : value;\n  return obj;\n}\n\n// pkg/commands/command.ts\nvar defaultSerializer = (c) => {\n  switch (typeof c) {\n    case \"string\":\n    case \"number\":\n    case \"boolean\": {\n      return c;\n    }\n    default: {\n      return JSON.stringify(c);\n    }\n  }\n};\nvar Command = class {\n  command;\n  serialize;\n  deserialize;\n  headers;\n  path;\n  onMessage;\n  isStreaming;\n  signal;\n  /**\n   * Create a new command instance.\n   *\n   * You can define a custom `deserialize` function. By default we try to deserialize as json.\n   */\n  constructor(command, opts) {\n    this.serialize = defaultSerializer;\n    this.deserialize = opts?.automaticDeserialization === void 0 || opts.automaticDeserialization ? opts?.deserialize ?? parseResponse : (x) => x;\n    this.command = command.map((c) => this.serialize(c));\n    this.headers = opts?.headers;\n    this.path = opts?.path;\n    this.onMessage = opts?.streamOptions?.onMessage;\n    this.isStreaming = opts?.streamOptions?.isStreaming ?? false;\n    this.signal = opts?.streamOptions?.signal;\n    if (opts?.latencyLogging) {\n      const originalExec = this.exec.bind(this);\n      this.exec = async (client) => {\n        const start = performance.now();\n        const result = await originalExec(client);\n        const end = performance.now();\n        const loggerResult = (end - start).toFixed(2);\n        console.log(\n          `Latency for \\x1B[38;2;19;185;39m${this.command[0].toString().toUpperCase()}\\x1B[0m: \\x1B[38;2;0;255;255m${loggerResult} ms\\x1B[0m`\n        );\n        return result;\n      };\n    }\n  }\n  /**\n   * Execute the command using a client.\n   */\n  async exec(client) {\n    const { result, error } = await client.request({\n      body: this.command,\n      path: this.path,\n      upstashSyncToken: client.upstashSyncToken,\n      headers: this.headers,\n      onMessage: this.onMessage,\n      isStreaming: this.isStreaming,\n      signal: this.signal\n    });\n    if (error) {\n      throw new UpstashError(error);\n    }\n    if (result === void 0) {\n      throw new TypeError(\"Request did not return a result\");\n    }\n    return this.deserialize(result);\n  }\n};\n\n// pkg/commands/hrandfield.ts\nfunction deserialize(result) {\n  if (result.length === 0) {\n    return null;\n  }\n  const obj = {};\n  for (let i = 0; i < result.length; i += 2) {\n    const key = result[i];\n    const value = result[i + 1];\n    try {\n      obj[key] = JSON.parse(value);\n    } catch {\n      obj[key] = value;\n    }\n  }\n  return obj;\n}\nvar HRandFieldCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"hrandfield\", cmd[0]];\n    if (typeof cmd[1] === \"number\") {\n      command.push(cmd[1]);\n    }\n    if (cmd[2]) {\n      command.push(\"WITHVALUES\");\n    }\n    super(command, {\n      // @ts-expect-error to silence compiler\n      deserialize: cmd[2] ? (result) => deserialize(result) : opts?.deserialize,\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/append.ts\nvar AppendCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"append\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/bitcount.ts\nvar BitCountCommand = class extends Command {\n  constructor([key, start, end], opts) {\n    const command = [\"bitcount\", key];\n    if (typeof start === \"number\") {\n      command.push(start);\n    }\n    if (typeof end === \"number\") {\n      command.push(end);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/bitfield.ts\nvar BitFieldCommand = class {\n  constructor(args, client, opts, execOperation = (command) => command.exec(this.client)) {\n    this.client = client;\n    this.opts = opts;\n    this.execOperation = execOperation;\n    this.command = [\"bitfield\", ...args];\n  }\n  command;\n  chain(...args) {\n    this.command.push(...args);\n    return this;\n  }\n  get(...args) {\n    return this.chain(\"get\", ...args);\n  }\n  set(...args) {\n    return this.chain(\"set\", ...args);\n  }\n  incrby(...args) {\n    return this.chain(\"incrby\", ...args);\n  }\n  overflow(overflow) {\n    return this.chain(\"overflow\", overflow);\n  }\n  exec() {\n    const command = new Command(this.command, this.opts);\n    return this.execOperation(command);\n  }\n};\n\n// pkg/commands/bitop.ts\nvar BitOpCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"bitop\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/bitpos.ts\nvar BitPosCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"bitpos\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/client_setinfo.ts\nvar ClientSetInfoCommand = class extends Command {\n  constructor([attribute, value], opts) {\n    super([\"CLIENT\", \"SETINFO\", attribute.toUpperCase(), value], opts);\n  }\n};\n\n// pkg/commands/copy.ts\nvar CopyCommand = class extends Command {\n  constructor([key, destinationKey, opts], commandOptions) {\n    super([\"COPY\", key, destinationKey, ...opts?.replace ? [\"REPLACE\"] : []], {\n      ...commandOptions,\n      deserialize(result) {\n        if (result > 0) {\n          return \"COPIED\";\n        }\n        return \"NOT_COPIED\";\n      }\n    });\n  }\n};\n\n// pkg/commands/dbsize.ts\nvar DBSizeCommand = class extends Command {\n  constructor(opts) {\n    super([\"dbsize\"], opts);\n  }\n};\n\n// pkg/commands/decr.ts\nvar DecrCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"decr\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/decrby.ts\nvar DecrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"decrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/del.ts\nvar DelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"del\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/echo.ts\nvar EchoCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"echo\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/evalRo.ts\nvar EvalROCommand = class extends Command {\n  constructor([script, keys, args], opts) {\n    super([\"eval_ro\", script, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/eval.ts\nvar EvalCommand = class extends Command {\n  constructor([script, keys, args], opts) {\n    super([\"eval\", script, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/evalshaRo.ts\nvar EvalshaROCommand = class extends Command {\n  constructor([sha, keys, args], opts) {\n    super([\"evalsha_ro\", sha, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/evalsha.ts\nvar EvalshaCommand = class extends Command {\n  constructor([sha, keys, args], opts) {\n    super([\"evalsha\", sha, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/exec.ts\nvar ExecCommand = class extends Command {\n  constructor(cmd, opts) {\n    const normalizedCmd = cmd.map((arg) => typeof arg === \"string\" ? arg : String(arg));\n    super(normalizedCmd, opts);\n  }\n};\n\n// pkg/commands/exists.ts\nvar ExistsCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"exists\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/expire.ts\nvar ExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"expire\", ...cmd.filter(Boolean)], opts);\n  }\n};\n\n// pkg/commands/expireat.ts\nvar ExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"expireat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/fcall.ts\nvar FCallCommand = class extends Command {\n  constructor([functionName, keys, args], opts) {\n    super([\"fcall\", functionName, ...keys ? [keys.length, ...keys] : [0], ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/fcall_ro.ts\nvar FCallRoCommand = class extends Command {\n  constructor([functionName, keys, args], opts) {\n    super(\n      [\"fcall_ro\", functionName, ...keys ? [keys.length, ...keys] : [0], ...args ?? []],\n      opts\n    );\n  }\n};\n\n// pkg/commands/flushall.ts\nvar FlushAllCommand = class extends Command {\n  constructor(args, opts) {\n    const command = [\"flushall\"];\n    if (args && args.length > 0 && args[0].async) {\n      command.push(\"async\");\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/flushdb.ts\nvar FlushDBCommand = class extends Command {\n  constructor([opts], cmdOpts) {\n    const command = [\"flushdb\"];\n    if (opts?.async) {\n      command.push(\"async\");\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/function_delete.ts\nvar FunctionDeleteCommand = class extends Command {\n  constructor([libraryName], opts) {\n    super([\"function\", \"delete\", libraryName], opts);\n  }\n};\n\n// pkg/commands/function_flush.ts\nvar FunctionFlushCommand = class extends Command {\n  constructor(opts) {\n    super([\"function\", \"flush\"], opts);\n  }\n};\n\n// pkg/commands/function_list.ts\nvar FunctionListCommand = class extends Command {\n  constructor([args], opts) {\n    const command = [\"function\", \"list\"];\n    if (args?.libraryName) {\n      command.push(\"libraryname\", args.libraryName);\n    }\n    if (args?.withCode) {\n      command.push(\"withcode\");\n    }\n    super(command, { deserialize: deserialize2, ...opts });\n  }\n};\nfunction deserialize2(result) {\n  if (!Array.isArray(result)) return [];\n  return result.map((libRaw) => {\n    const lib = kvArrayToObject(libRaw);\n    const functionsParsed = lib.functions.map(\n      (fnRaw) => kvArrayToObject(fnRaw)\n    );\n    return {\n      libraryName: lib.library_name,\n      engine: lib.engine,\n      functions: functionsParsed.map((fn) => ({\n        name: fn.name,\n        description: fn.description ?? void 0,\n        flags: fn.flags\n      })),\n      libraryCode: lib.library_code\n    };\n  });\n}\n\n// pkg/commands/function_load.ts\nvar FunctionLoadCommand = class extends Command {\n  constructor([args], opts) {\n    super([\"function\", \"load\", ...args.replace ? [\"replace\"] : [], args.code], opts);\n  }\n};\n\n// pkg/commands/function_stats.ts\nvar FunctionStatsCommand = class extends Command {\n  constructor(opts) {\n    super([\"function\", \"stats\"], { deserialize: deserialize3, ...opts });\n  }\n};\nfunction deserialize3(result) {\n  const rawEngines = kvArrayToObject(kvArrayToObject(result).engines);\n  const parsedEngines = Object.fromEntries(\n    Object.entries(rawEngines).map(([key, value]) => [key, kvArrayToObject(value)])\n  );\n  const final = {\n    engines: Object.fromEntries(\n      Object.entries(parsedEngines).map(([key, value]) => [\n        key,\n        {\n          librariesCount: value.libraries_count,\n          functionsCount: value.functions_count\n        }\n      ])\n    )\n  };\n  return final;\n}\n\n// pkg/commands/geo_add.ts\nvar GeoAddCommand = class extends Command {\n  constructor([key, arg1, ...arg2], opts) {\n    const command = [\"geoadd\", key];\n    if (\"nx\" in arg1 && arg1.nx) {\n      command.push(\"nx\");\n    } else if (\"xx\" in arg1 && arg1.xx) {\n      command.push(\"xx\");\n    }\n    if (\"ch\" in arg1 && arg1.ch) {\n      command.push(\"ch\");\n    }\n    if (\"latitude\" in arg1 && arg1.latitude) {\n      command.push(arg1.longitude, arg1.latitude, arg1.member);\n    }\n    command.push(\n      ...arg2.flatMap(({ latitude, longitude, member }) => [longitude, latitude, member])\n    );\n    super(command, opts);\n  }\n};\n\n// pkg/commands/geo_dist.ts\nvar GeoDistCommand = class extends Command {\n  constructor([key, member1, member2, unit = \"M\"], opts) {\n    super([\"GEODIST\", key, member1, member2, unit], opts);\n  }\n};\n\n// pkg/commands/geo_hash.ts\nvar GeoHashCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key] = cmd;\n    const members = Array.isArray(cmd[1]) ? cmd[1] : cmd.slice(1);\n    super([\"GEOHASH\", key, ...members], opts);\n  }\n};\n\n// pkg/commands/geo_pos.ts\nvar GeoPosCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key] = cmd;\n    const members = Array.isArray(cmd[1]) ? cmd[1] : cmd.slice(1);\n    super([\"GEOPOS\", key, ...members], {\n      deserialize: (result) => transform(result),\n      ...opts\n    });\n  }\n};\nfunction transform(result) {\n  const final = [];\n  for (const pos of result) {\n    if (!pos?.[0] || !pos?.[1]) {\n      continue;\n    }\n    final.push({ lng: Number.parseFloat(pos[0]), lat: Number.parseFloat(pos[1]) });\n  }\n  return final;\n}\n\n// pkg/commands/geo_search.ts\nvar GeoSearchCommand = class extends Command {\n  constructor([key, centerPoint, shape, order, opts], commandOptions) {\n    const command = [\"GEOSEARCH\", key];\n    if (centerPoint.type === \"FROMMEMBER\" || centerPoint.type === \"frommember\") {\n      command.push(centerPoint.type, centerPoint.member);\n    }\n    if (centerPoint.type === \"FROMLONLAT\" || centerPoint.type === \"fromlonlat\") {\n      command.push(centerPoint.type, centerPoint.coordinate.lon, centerPoint.coordinate.lat);\n    }\n    if (shape.type === \"BYRADIUS\" || shape.type === \"byradius\") {\n      command.push(shape.type, shape.radius, shape.radiusType);\n    }\n    if (shape.type === \"BYBOX\" || shape.type === \"bybox\") {\n      command.push(shape.type, shape.rect.width, shape.rect.height, shape.rectType);\n    }\n    command.push(order);\n    if (opts?.count) {\n      command.push(\"COUNT\", opts.count.limit, ...opts.count.any ? [\"ANY\"] : []);\n    }\n    const transform2 = (result) => {\n      if (!opts?.withCoord && !opts?.withDist && !opts?.withHash) {\n        return result.map((member) => {\n          try {\n            return { member: JSON.parse(member) };\n          } catch {\n            return { member };\n          }\n        });\n      }\n      return result.map((members) => {\n        let counter = 1;\n        const obj = {};\n        try {\n          obj.member = JSON.parse(members[0]);\n        } catch {\n          obj.member = members[0];\n        }\n        if (opts.withDist) {\n          obj.dist = Number.parseFloat(members[counter++]);\n        }\n        if (opts.withHash) {\n          obj.hash = members[counter++].toString();\n        }\n        if (opts.withCoord) {\n          obj.coord = {\n            long: Number.parseFloat(members[counter][0]),\n            lat: Number.parseFloat(members[counter][1])\n          };\n        }\n        return obj;\n      });\n    };\n    super(\n      [\n        ...command,\n        ...opts?.withCoord ? [\"WITHCOORD\"] : [],\n        ...opts?.withDist ? [\"WITHDIST\"] : [],\n        ...opts?.withHash ? [\"WITHHASH\"] : []\n      ],\n      {\n        deserialize: transform2,\n        ...commandOptions\n      }\n    );\n  }\n};\n\n// pkg/commands/geo_search_store.ts\nvar GeoSearchStoreCommand = class extends Command {\n  constructor([destination, key, centerPoint, shape, order, opts], commandOptions) {\n    const command = [\"GEOSEARCHSTORE\", destination, key];\n    if (centerPoint.type === \"FROMMEMBER\" || centerPoint.type === \"frommember\") {\n      command.push(centerPoint.type, centerPoint.member);\n    }\n    if (centerPoint.type === \"FROMLONLAT\" || centerPoint.type === \"fromlonlat\") {\n      command.push(centerPoint.type, centerPoint.coordinate.lon, centerPoint.coordinate.lat);\n    }\n    if (shape.type === \"BYRADIUS\" || shape.type === \"byradius\") {\n      command.push(shape.type, shape.radius, shape.radiusType);\n    }\n    if (shape.type === \"BYBOX\" || shape.type === \"bybox\") {\n      command.push(shape.type, shape.rect.width, shape.rect.height, shape.rectType);\n    }\n    command.push(order);\n    if (opts?.count) {\n      command.push(\"COUNT\", opts.count.limit, ...opts.count.any ? [\"ANY\"] : []);\n    }\n    super([...command, ...opts?.storeDist ? [\"STOREDIST\"] : []], commandOptions);\n  }\n};\n\n// pkg/commands/get.ts\nvar GetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"get\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getbit.ts\nvar GetBitCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getbit\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getdel.ts\nvar GetDelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getdel\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getex.ts\nvar GetExCommand = class extends Command {\n  constructor([key, opts], cmdOpts) {\n    const command = [\"getex\", key];\n    if (opts) {\n      if (\"ex\" in opts && typeof opts.ex === \"number\") {\n        command.push(\"ex\", opts.ex);\n      } else if (\"px\" in opts && typeof opts.px === \"number\") {\n        command.push(\"px\", opts.px);\n      } else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n        command.push(\"exat\", opts.exat);\n      } else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n        command.push(\"pxat\", opts.pxat);\n      } else if (\"persist\" in opts && opts.persist) {\n        command.push(\"persist\");\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/getrange.ts\nvar GetRangeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getrange\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getset.ts\nvar GetSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getset\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hdel.ts\nvar HDelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hdel\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hexists.ts\nvar HExistsCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hexists\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hexpire.ts\nvar HExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, seconds, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hexpire\",\n        key,\n        seconds,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hexpireat.ts\nvar HExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, timestamp, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hexpireat\",\n        key,\n        timestamp,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hexpiretime.ts\nvar HExpireTimeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hexpiretime\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hpersist.ts\nvar HPersistCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hpersist\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hpexpire.ts\nvar HPExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, milliseconds, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hpexpire\",\n        key,\n        milliseconds,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hpexpireat.ts\nvar HPExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, timestamp, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hpexpireat\",\n        key,\n        timestamp,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hpexpiretime.ts\nvar HPExpireTimeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hpexpiretime\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hpttl.ts\nvar HPTtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hpttl\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hget.ts\nvar HGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hget\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hgetall.ts\nfunction deserialize4(result) {\n  if (result.length === 0) {\n    return null;\n  }\n  const obj = {};\n  for (let i = 0; i < result.length; i += 2) {\n    const key = result[i];\n    const value = result[i + 1];\n    try {\n      const valueIsNumberAndNotSafeInteger = !Number.isNaN(Number(value)) && !Number.isSafeInteger(Number(value));\n      obj[key] = valueIsNumberAndNotSafeInteger ? value : JSON.parse(value);\n    } catch {\n      obj[key] = value;\n    }\n  }\n  return obj;\n}\nvar HGetAllCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hgetall\", ...cmd], {\n      deserialize: (result) => deserialize4(result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hmget.ts\nfunction deserialize5(fields, result) {\n  if (result.every((field) => field === null)) {\n    return null;\n  }\n  const obj = {};\n  for (const [i, field] of fields.entries()) {\n    try {\n      obj[field] = JSON.parse(result[i]);\n    } catch {\n      obj[field] = result[i];\n    }\n  }\n  return obj;\n}\nvar HMGetCommand = class extends Command {\n  constructor([key, ...fields], opts) {\n    super([\"hmget\", key, ...fields], {\n      deserialize: (result) => deserialize5(fields, result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hgetdel.ts\nvar HGetDelCommand = class extends Command {\n  constructor([key, ...fields], opts) {\n    super([\"hgetdel\", key, \"FIELDS\", fields.length, ...fields], {\n      deserialize: (result) => deserialize5(fields.map(String), result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hgetex.ts\nvar HGetExCommand = class extends Command {\n  constructor([key, opts, ...fields], cmdOpts) {\n    const command = [\"hgetex\", key];\n    if (\"ex\" in opts && typeof opts.ex === \"number\") {\n      command.push(\"EX\", opts.ex);\n    } else if (\"px\" in opts && typeof opts.px === \"number\") {\n      command.push(\"PX\", opts.px);\n    } else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n      command.push(\"EXAT\", opts.exat);\n    } else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n      command.push(\"PXAT\", opts.pxat);\n    } else if (\"persist\" in opts && opts.persist) {\n      command.push(\"PERSIST\");\n    }\n    command.push(\"FIELDS\", fields.length, ...fields);\n    super(command, {\n      deserialize: (result) => deserialize5(fields.map(String), result),\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/hincrby.ts\nvar HIncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hincrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hincrbyfloat.ts\nvar HIncrByFloatCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hincrbyfloat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hkeys.ts\nvar HKeysCommand = class extends Command {\n  constructor([key], opts) {\n    super([\"hkeys\", key], opts);\n  }\n};\n\n// pkg/commands/hlen.ts\nvar HLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hlen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hmset.ts\nvar HMSetCommand = class extends Command {\n  constructor([key, kv], opts) {\n    super([\"hmset\", key, ...Object.entries(kv).flatMap(([field, value]) => [field, value])], opts);\n  }\n};\n\n// pkg/commands/hscan.ts\nvar HScanCommand = class extends Command {\n  constructor([key, cursor, cmdOpts], opts) {\n    const command = [\"hscan\", key, cursor];\n    if (cmdOpts?.match) {\n      command.push(\"match\", cmdOpts.match);\n    }\n    if (typeof cmdOpts?.count === \"number\") {\n      command.push(\"count\", cmdOpts.count);\n    }\n    super(command, {\n      deserialize: deserializeScanResponse,\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hset.ts\nvar HSetCommand = class extends Command {\n  constructor([key, kv], opts) {\n    super([\"hset\", key, ...Object.entries(kv).flatMap(([field, value]) => [field, value])], opts);\n  }\n};\n\n// pkg/commands/hsetex.ts\nvar HSetExCommand = class extends Command {\n  constructor([key, opts, kv], cmdOpts) {\n    const command = [\"hsetex\", key];\n    if (opts.conditional) {\n      command.push(opts.conditional.toUpperCase());\n    }\n    if (opts.expiration) {\n      if (\"ex\" in opts.expiration && typeof opts.expiration.ex === \"number\") {\n        command.push(\"EX\", opts.expiration.ex);\n      } else if (\"px\" in opts.expiration && typeof opts.expiration.px === \"number\") {\n        command.push(\"PX\", opts.expiration.px);\n      } else if (\"exat\" in opts.expiration && typeof opts.expiration.exat === \"number\") {\n        command.push(\"EXAT\", opts.expiration.exat);\n      } else if (\"pxat\" in opts.expiration && typeof opts.expiration.pxat === \"number\") {\n        command.push(\"PXAT\", opts.expiration.pxat);\n      } else if (\"keepttl\" in opts.expiration && opts.expiration.keepttl) {\n        command.push(\"KEEPTTL\");\n      }\n    }\n    const entries = Object.entries(kv);\n    command.push(\"FIELDS\", entries.length);\n    for (const [field, value] of entries) {\n      command.push(field, value);\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/hsetnx.ts\nvar HSetNXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hsetnx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hstrlen.ts\nvar HStrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hstrlen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/httl.ts\nvar HTtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"httl\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hvals.ts\nvar HValsCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hvals\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/incr.ts\nvar IncrCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"incr\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/incrby.ts\nvar IncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"incrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/incrbyfloat.ts\nvar IncrByFloatCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"incrbyfloat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrappend.ts\nvar JsonArrAppendCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRAPPEND\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrindex.ts\nvar JsonArrIndexCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRINDEX\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrinsert.ts\nvar JsonArrInsertCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRINSERT\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrlen.ts\nvar JsonArrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRLEN\", cmd[0], cmd[1] ?? \"$\"], opts);\n  }\n};\n\n// pkg/commands/json_arrpop.ts\nvar JsonArrPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRPOP\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrtrim.ts\nvar JsonArrTrimCommand = class extends Command {\n  constructor(cmd, opts) {\n    const path = cmd[1] ?? \"$\";\n    const start = cmd[2] ?? 0;\n    const stop = cmd[3] ?? 0;\n    super([\"JSON.ARRTRIM\", cmd[0], path, start, stop], opts);\n  }\n};\n\n// pkg/commands/json_clear.ts\nvar JsonClearCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.CLEAR\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_del.ts\nvar JsonDelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.DEL\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_forget.ts\nvar JsonForgetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.FORGET\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_get.ts\nvar JsonGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.GET\"];\n    if (typeof cmd[1] === \"string\") {\n      command.push(...cmd);\n    } else {\n      command.push(cmd[0]);\n      if (cmd[1]) {\n        if (cmd[1].indent) {\n          command.push(\"INDENT\", cmd[1].indent);\n        }\n        if (cmd[1].newline) {\n          command.push(\"NEWLINE\", cmd[1].newline);\n        }\n        if (cmd[1].space) {\n          command.push(\"SPACE\", cmd[1].space);\n        }\n      }\n      command.push(...cmd.slice(2));\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_merge.ts\nvar JsonMergeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.MERGE\", ...cmd];\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_mget.ts\nvar JsonMGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.MGET\", ...cmd[0], cmd[1]], opts);\n  }\n};\n\n// pkg/commands/json_mset.ts\nvar JsonMSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.MSET\"];\n    for (const c of cmd) {\n      command.push(c.key, c.path, c.value);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_numincrby.ts\nvar JsonNumIncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.NUMINCRBY\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_nummultby.ts\nvar JsonNumMultByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.NUMMULTBY\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_objkeys.ts\nvar JsonObjKeysCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.OBJKEYS\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_objlen.ts\nvar JsonObjLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.OBJLEN\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_resp.ts\nvar JsonRespCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.RESP\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_set.ts\nvar JsonSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.SET\", cmd[0], cmd[1], cmd[2]];\n    if (cmd[3]) {\n      if (cmd[3].nx) {\n        command.push(\"NX\");\n      } else if (cmd[3].xx) {\n        command.push(\"XX\");\n      }\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_strappend.ts\nvar JsonStrAppendCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.STRAPPEND\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_strlen.ts\nvar JsonStrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.STRLEN\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_toggle.ts\nvar JsonToggleCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.TOGGLE\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_type.ts\nvar JsonTypeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.TYPE\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/keys.ts\nvar KeysCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"keys\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lindex.ts\nvar LIndexCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lindex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/linsert.ts\nvar LInsertCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"linsert\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/llen.ts\nvar LLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"llen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lmove.ts\nvar LMoveCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lmove\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lmpop.ts\nvar LmPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [numkeys, keys, direction, count] = cmd;\n    super([\"LMPOP\", numkeys, ...keys, direction, ...count ? [\"COUNT\", count] : []], opts);\n  }\n};\n\n// pkg/commands/lpop.ts\nvar LPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lpop\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lpos.ts\nvar LPosCommand = class extends Command {\n  constructor(cmd, opts) {\n    const args = [\"lpos\", cmd[0], cmd[1]];\n    if (typeof cmd[2]?.rank === \"number\") {\n      args.push(\"rank\", cmd[2].rank);\n    }\n    if (typeof cmd[2]?.count === \"number\") {\n      args.push(\"count\", cmd[2].count);\n    }\n    if (typeof cmd[2]?.maxLen === \"number\") {\n      args.push(\"maxLen\", cmd[2].maxLen);\n    }\n    super(args, opts);\n  }\n};\n\n// pkg/commands/lpush.ts\nvar LPushCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lpush\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lpushx.ts\nvar LPushXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lpushx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lrange.ts\nvar LRangeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lrange\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lrem.ts\nvar LRemCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lrem\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lset.ts\nvar LSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lset\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/ltrim.ts\nvar LTrimCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"ltrim\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/mget.ts\nvar MGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const keys = Array.isArray(cmd[0]) ? cmd[0] : cmd;\n    super([\"mget\", ...keys], opts);\n  }\n};\n\n// pkg/commands/mset.ts\nvar MSetCommand = class extends Command {\n  constructor([kv], opts) {\n    super([\"mset\", ...Object.entries(kv).flatMap(([key, value]) => [key, value])], opts);\n  }\n};\n\n// pkg/commands/msetnx.ts\nvar MSetNXCommand = class extends Command {\n  constructor([kv], opts) {\n    super([\"msetnx\", ...Object.entries(kv).flat()], opts);\n  }\n};\n\n// pkg/commands/persist.ts\nvar PersistCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"persist\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pexpire.ts\nvar PExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pexpire\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pexpireat.ts\nvar PExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pexpireat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pfadd.ts\nvar PfAddCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pfadd\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pfcount.ts\nvar PfCountCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pfcount\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pfmerge.ts\nvar PfMergeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pfmerge\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/ping.ts\nvar PingCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"ping\"];\n    if (cmd?.[0] !== void 0) {\n      command.push(cmd[0]);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/psetex.ts\nvar PSetEXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"psetex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pttl.ts\nvar PTtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pttl\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/publish.ts\nvar PublishCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"publish\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/randomkey.ts\nvar RandomKeyCommand = class extends Command {\n  constructor(opts) {\n    super([\"randomkey\"], opts);\n  }\n};\n\n// pkg/commands/rename.ts\nvar RenameCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rename\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/renamenx.ts\nvar RenameNXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"renamenx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/rpop.ts\nvar RPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rpop\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/rpush.ts\nvar RPushCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rpush\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/rpushx.ts\nvar RPushXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rpushx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sadd.ts\nvar SAddCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sadd\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/scan.ts\nvar ScanCommand = class extends Command {\n  constructor([cursor, opts], cmdOpts) {\n    const command = [\"scan\", cursor];\n    if (opts?.match) {\n      command.push(\"match\", opts.match);\n    }\n    if (typeof opts?.count === \"number\") {\n      command.push(\"count\", opts.count);\n    }\n    if (opts && \"withType\" in opts && opts.withType === true) {\n      command.push(\"withtype\");\n    } else if (opts && \"type\" in opts && opts.type && opts.type.length > 0) {\n      command.push(\"type\", opts.type);\n    }\n    super(command, {\n      // @ts-expect-error ignore types here\n      deserialize: opts?.withType ? deserializeScanWithTypesResponse : deserializeScanResponse,\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/scard.ts\nvar SCardCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"scard\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/script_exists.ts\nvar ScriptExistsCommand = class extends Command {\n  constructor(hashes, opts) {\n    super([\"script\", \"exists\", ...hashes], {\n      deserialize: (result) => result,\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/script_flush.ts\nvar ScriptFlushCommand = class extends Command {\n  constructor([opts], cmdOpts) {\n    const cmd = [\"script\", \"flush\"];\n    if (opts?.sync) {\n      cmd.push(\"sync\");\n    } else if (opts?.async) {\n      cmd.push(\"async\");\n    }\n    super(cmd, cmdOpts);\n  }\n};\n\n// pkg/commands/script_load.ts\nvar ScriptLoadCommand = class extends Command {\n  constructor(args, opts) {\n    super([\"script\", \"load\", ...args], opts);\n  }\n};\n\n// pkg/commands/sdiff.ts\nvar SDiffCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sdiff\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sdiffstore.ts\nvar SDiffStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sdiffstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/set.ts\nvar SetCommand = class extends Command {\n  constructor([key, value, opts], cmdOpts) {\n    const command = [\"set\", key, value];\n    if (opts) {\n      if (\"nx\" in opts && opts.nx) {\n        command.push(\"nx\");\n      } else if (\"xx\" in opts && opts.xx) {\n        command.push(\"xx\");\n      }\n      if (\"get\" in opts && opts.get) {\n        command.push(\"get\");\n      }\n      if (\"ex\" in opts && typeof opts.ex === \"number\") {\n        command.push(\"ex\", opts.ex);\n      } else if (\"px\" in opts && typeof opts.px === \"number\") {\n        command.push(\"px\", opts.px);\n      } else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n        command.push(\"exat\", opts.exat);\n      } else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n        command.push(\"pxat\", opts.pxat);\n      } else if (\"keepTtl\" in opts && opts.keepTtl) {\n        command.push(\"keepTtl\");\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/setbit.ts\nvar SetBitCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setbit\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/setex.ts\nvar SetExCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/setnx.ts\nvar SetNxCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setnx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/setrange.ts\nvar SetRangeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setrange\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sinter.ts\nvar SInterCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sinter\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sinterstore.ts\nvar SInterStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sinterstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sismember.ts\nvar SIsMemberCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sismember\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/smembers.ts\nvar SMembersCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"smembers\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/smismember.ts\nvar SMIsMemberCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"smismember\", cmd[0], ...cmd[1]], opts);\n  }\n};\n\n// pkg/commands/smove.ts\nvar SMoveCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"smove\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/spop.ts\nvar SPopCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"spop\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/srandmember.ts\nvar SRandMemberCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"srandmember\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/srem.ts\nvar SRemCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"srem\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sscan.ts\nvar SScanCommand = class extends Command {\n  constructor([key, cursor, opts], cmdOpts) {\n    const command = [\"sscan\", key, cursor];\n    if (opts?.match) {\n      command.push(\"match\", opts.match);\n    }\n    if (typeof opts?.count === \"number\") {\n      command.push(\"count\", opts.count);\n    }\n    super(command, {\n      deserialize: deserializeScanResponse,\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/strlen.ts\nvar StrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"strlen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sunion.ts\nvar SUnionCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sunion\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sunionstore.ts\nvar SUnionStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sunionstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/time.ts\nvar TimeCommand = class extends Command {\n  constructor(opts) {\n    super([\"time\"], opts);\n  }\n};\n\n// pkg/commands/touch.ts\nvar TouchCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"touch\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/ttl.ts\nvar TtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"ttl\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/type.ts\nvar TypeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"type\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/unlink.ts\nvar UnlinkCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"unlink\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/xack.ts\nvar XAckCommand = class extends Command {\n  constructor([key, group, id], opts) {\n    const ids = Array.isArray(id) ? [...id] : [id];\n    super([\"XACK\", key, group, ...ids], opts);\n  }\n};\n\n// pkg/commands/xackdel.ts\nvar XAckDelCommand = class extends Command {\n  constructor([key, group, opts, ...ids], cmdOpts) {\n    const command = [\"XACKDEL\", key, group];\n    command.push(opts.toUpperCase());\n    command.push(\"IDS\", ids.length, ...ids);\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/xadd.ts\nvar XAddCommand = class extends Command {\n  constructor([key, id, entries, opts], commandOptions) {\n    const command = [\"XADD\", key];\n    if (opts) {\n      if (opts.nomkStream) {\n        command.push(\"NOMKSTREAM\");\n      }\n      if (opts.trim) {\n        command.push(opts.trim.type, opts.trim.comparison, opts.trim.threshold);\n        if (opts.trim.limit !== void 0) {\n          command.push(\"LIMIT\", opts.trim.limit);\n        }\n      }\n    }\n    command.push(id);\n    for (const [k, v] of Object.entries(entries)) {\n      command.push(k, v);\n    }\n    super(command, commandOptions);\n  }\n};\n\n// pkg/commands/xautoclaim.ts\nvar XAutoClaim = class extends Command {\n  constructor([key, group, consumer, minIdleTime, start, options], opts) {\n    const commands = [];\n    if (options?.count) {\n      commands.push(\"COUNT\", options.count);\n    }\n    if (options?.justId) {\n      commands.push(\"JUSTID\");\n    }\n    super([\"XAUTOCLAIM\", key, group, consumer, minIdleTime, start, ...commands], opts);\n  }\n};\n\n// pkg/commands/xclaim.ts\nvar XClaimCommand = class extends Command {\n  constructor([key, group, consumer, minIdleTime, id, options], opts) {\n    const ids = Array.isArray(id) ? [...id] : [id];\n    const commands = [];\n    if (options?.idleMS) {\n      commands.push(\"IDLE\", options.idleMS);\n    }\n    if (options?.idleMS) {\n      commands.push(\"TIME\", options.timeMS);\n    }\n    if (options?.retryCount) {\n      commands.push(\"RETRYCOUNT\", options.retryCount);\n    }\n    if (options?.force) {\n      commands.push(\"FORCE\");\n    }\n    if (options?.justId) {\n      commands.push(\"JUSTID\");\n    }\n    if (options?.lastId) {\n      commands.push(\"LASTID\", options.lastId);\n    }\n    super([\"XCLAIM\", key, group, consumer, minIdleTime, ...ids, ...commands], opts);\n  }\n};\n\n// pkg/commands/xdel.ts\nvar XDelCommand = class extends Command {\n  constructor([key, ids], opts) {\n    const cmds = Array.isArray(ids) ? [...ids] : [ids];\n    super([\"XDEL\", key, ...cmds], opts);\n  }\n};\n\n// pkg/commands/xdelex.ts\nvar XDelExCommand = class extends Command {\n  constructor([key, opts, ...ids], cmdOpts) {\n    const command = [\"XDELEX\", key];\n    if (opts) {\n      command.push(opts.toUpperCase());\n    }\n    command.push(\"IDS\", ids.length, ...ids);\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/xgroup.ts\nvar XGroupCommand = class extends Command {\n  constructor([key, opts], commandOptions) {\n    const command = [\"XGROUP\"];\n    switch (opts.type) {\n      case \"CREATE\": {\n        command.push(\"CREATE\", key, opts.group, opts.id);\n        if (opts.options) {\n          if (opts.options.MKSTREAM) {\n            command.push(\"MKSTREAM\");\n          }\n          if (opts.options.ENTRIESREAD !== void 0) {\n            command.push(\"ENTRIESREAD\", opts.options.ENTRIESREAD.toString());\n          }\n        }\n        break;\n      }\n      case \"CREATECONSUMER\": {\n        command.push(\"CREATECONSUMER\", key, opts.group, opts.consumer);\n        break;\n      }\n      case \"DELCONSUMER\": {\n        command.push(\"DELCONSUMER\", key, opts.group, opts.consumer);\n        break;\n      }\n      case \"DESTROY\": {\n        command.push(\"DESTROY\", key, opts.group);\n        break;\n      }\n      case \"SETID\": {\n        command.push(\"SETID\", key, opts.group, opts.id);\n        if (opts.options?.ENTRIESREAD !== void 0) {\n          command.push(\"ENTRIESREAD\", opts.options.ENTRIESREAD.toString());\n        }\n        break;\n      }\n      default: {\n        throw new Error(\"Invalid XGROUP\");\n      }\n    }\n    super(command, commandOptions);\n  }\n};\n\n// pkg/commands/xinfo.ts\nvar XInfoCommand = class extends Command {\n  constructor([key, options], opts) {\n    const cmds = [];\n    if (options.type === \"CONSUMERS\") {\n      cmds.push(\"CONSUMERS\", key, options.group);\n    } else {\n      cmds.push(\"GROUPS\", key);\n    }\n    super([\"XINFO\", ...cmds], opts);\n  }\n};\n\n// pkg/commands/xlen.ts\nvar XLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"XLEN\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/xpending.ts\nvar XPendingCommand = class extends Command {\n  constructor([key, group, start, end, count, options], opts) {\n    const consumers = options?.consumer === void 0 ? [] : Array.isArray(options.consumer) ? [...options.consumer] : [options.consumer];\n    super(\n      [\n        \"XPENDING\",\n        key,\n        group,\n        ...options?.idleTime ? [\"IDLE\", options.idleTime] : [],\n        start,\n        end,\n        count,\n        ...consumers\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/xrange.ts\nfunction deserialize6(result) {\n  const obj = {};\n  for (const e of result) {\n    for (let i = 0; i < e.length; i += 2) {\n      const streamId = e[i];\n      const entries = e[i + 1];\n      if (!(streamId in obj)) {\n        obj[streamId] = {};\n      }\n      for (let j = 0; j < entries.length; j += 2) {\n        const field = entries[j];\n        const value = entries[j + 1];\n        try {\n          obj[streamId][field] = JSON.parse(value);\n        } catch {\n          obj[streamId][field] = value;\n        }\n      }\n    }\n  }\n  return obj;\n}\nvar XRangeCommand = class extends Command {\n  constructor([key, start, end, count], opts) {\n    const command = [\"XRANGE\", key, start, end];\n    if (typeof count === \"number\") {\n      command.push(\"COUNT\", count);\n    }\n    super(command, {\n      deserialize: (result) => deserialize6(result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/xread.ts\nvar UNBALANCED_XREAD_ERR = \"ERR Unbalanced XREAD list of streams: for each stream key an ID or '$' must be specified\";\nvar XReadCommand = class extends Command {\n  constructor([key, id, options], opts) {\n    if (Array.isArray(key) && Array.isArray(id) && key.length !== id.length) {\n      throw new Error(UNBALANCED_XREAD_ERR);\n    }\n    const commands = [];\n    if (typeof options?.count === \"number\") {\n      commands.push(\"COUNT\", options.count);\n    }\n    if (typeof options?.blockMS === \"number\") {\n      commands.push(\"BLOCK\", options.blockMS);\n    }\n    commands.push(\n      \"STREAMS\",\n      ...Array.isArray(key) ? [...key] : [key],\n      ...Array.isArray(id) ? [...id] : [id]\n    );\n    super([\"XREAD\", ...commands], opts);\n  }\n};\n\n// pkg/commands/xreadgroup.ts\nvar UNBALANCED_XREADGROUP_ERR = \"ERR Unbalanced XREADGROUP list of streams: for each stream key an ID or '$' must be specified\";\nvar XReadGroupCommand = class extends Command {\n  constructor([group, consumer, key, id, options], opts) {\n    if (Array.isArray(key) && Array.isArray(id) && key.length !== id.length) {\n      throw new Error(UNBALANCED_XREADGROUP_ERR);\n    }\n    const commands = [];\n    if (typeof options?.count === \"number\") {\n      commands.push(\"COUNT\", options.count);\n    }\n    if (typeof options?.blockMS === \"number\") {\n      commands.push(\"BLOCK\", options.blockMS);\n    }\n    if (typeof options?.NOACK === \"boolean\" && options.NOACK) {\n      commands.push(\"NOACK\");\n    }\n    commands.push(\n      \"STREAMS\",\n      ...Array.isArray(key) ? [...key] : [key],\n      ...Array.isArray(id) ? [...id] : [id]\n    );\n    super([\"XREADGROUP\", \"GROUP\", group, consumer, ...commands], opts);\n  }\n};\n\n// pkg/commands/xrevrange.ts\nvar XRevRangeCommand = class extends Command {\n  constructor([key, end, start, count], opts) {\n    const command = [\"XREVRANGE\", key, end, start];\n    if (typeof count === \"number\") {\n      command.push(\"COUNT\", count);\n    }\n    super(command, {\n      deserialize: (result) => deserialize7(result),\n      ...opts\n    });\n  }\n};\nfunction deserialize7(result) {\n  const obj = {};\n  for (const e of result) {\n    for (let i = 0; i < e.length; i += 2) {\n      const streamId = e[i];\n      const entries = e[i + 1];\n      if (!(streamId in obj)) {\n        obj[streamId] = {};\n      }\n      for (let j = 0; j < entries.length; j += 2) {\n        const field = entries[j];\n        const value = entries[j + 1];\n        try {\n          obj[streamId][field] = JSON.parse(value);\n        } catch {\n          obj[streamId][field] = value;\n        }\n      }\n    }\n  }\n  return obj;\n}\n\n// pkg/commands/xtrim.ts\nvar XTrimCommand = class extends Command {\n  constructor([key, options], opts) {\n    const { limit, strategy, threshold, exactness = \"~\" } = options;\n    super([\"XTRIM\", key, strategy, exactness, threshold, ...limit ? [\"LIMIT\", limit] : []], opts);\n  }\n};\n\n// pkg/commands/zadd.ts\nvar ZAddCommand = class extends Command {\n  constructor([key, arg1, ...arg2], opts) {\n    const command = [\"zadd\", key];\n    if (\"nx\" in arg1 && arg1.nx) {\n      command.push(\"nx\");\n    } else if (\"xx\" in arg1 && arg1.xx) {\n      command.push(\"xx\");\n    }\n    if (\"ch\" in arg1 && arg1.ch) {\n      command.push(\"ch\");\n    }\n    if (\"incr\" in arg1 && arg1.incr) {\n      command.push(\"incr\");\n    }\n    if (\"lt\" in arg1 && arg1.lt) {\n      command.push(\"lt\");\n    } else if (\"gt\" in arg1 && arg1.gt) {\n      command.push(\"gt\");\n    }\n    if (\"score\" in arg1 && \"member\" in arg1) {\n      command.push(arg1.score, arg1.member);\n    }\n    command.push(...arg2.flatMap(({ score, member }) => [score, member]));\n    super(command, opts);\n  }\n};\n\n// pkg/commands/zcard.ts\nvar ZCardCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zcard\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zcount.ts\nvar ZCountCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zcount\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zincrby.ts\nvar ZIncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zincrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zinterstore.ts\nvar ZInterStoreCommand = class extends Command {\n  constructor([destination, numKeys, keyOrKeys, opts], cmdOpts) {\n    const command = [\"zinterstore\", destination, numKeys];\n    if (Array.isArray(keyOrKeys)) {\n      command.push(...keyOrKeys);\n    } else {\n      command.push(keyOrKeys);\n    }\n    if (opts) {\n      if (\"weights\" in opts && opts.weights) {\n        command.push(\"weights\", ...opts.weights);\n      } else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n        command.push(\"weights\", opts.weight);\n      }\n      if (\"aggregate\" in opts) {\n        command.push(\"aggregate\", opts.aggregate);\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zlexcount.ts\nvar ZLexCountCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zlexcount\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zpopmax.ts\nvar ZPopMaxCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"zpopmax\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/zpopmin.ts\nvar ZPopMinCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"zpopmin\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/zrange.ts\nvar ZRangeCommand = class extends Command {\n  constructor([key, min, max, opts], cmdOpts) {\n    const command = [\"zrange\", key, min, max];\n    if (opts?.byScore) {\n      command.push(\"byscore\");\n    }\n    if (opts?.byLex) {\n      command.push(\"bylex\");\n    }\n    if (opts?.rev) {\n      command.push(\"rev\");\n    }\n    if (opts?.count !== void 0 && opts.offset !== void 0) {\n      command.push(\"limit\", opts.offset, opts.count);\n    }\n    if (opts?.withScores) {\n      command.push(\"withscores\");\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zrank.ts\nvar ZRankCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zrank\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zrem.ts\nvar ZRemCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zrem\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zremrangebylex.ts\nvar ZRemRangeByLexCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zremrangebylex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zremrangebyrank.ts\nvar ZRemRangeByRankCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zremrangebyrank\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zremrangebyscore.ts\nvar ZRemRangeByScoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zremrangebyscore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zrevrank.ts\nvar ZRevRankCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zrevrank\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zscan.ts\nvar ZScanCommand = class extends Command {\n  constructor([key, cursor, opts], cmdOpts) {\n    const command = [\"zscan\", key, cursor];\n    if (opts?.match) {\n      command.push(\"match\", opts.match);\n    }\n    if (typeof opts?.count === \"number\") {\n      command.push(\"count\", opts.count);\n    }\n    super(command, {\n      deserialize: deserializeScanResponse,\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/zscore.ts\nvar ZScoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zscore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zunion.ts\nvar ZUnionCommand = class extends Command {\n  constructor([numKeys, keyOrKeys, opts], cmdOpts) {\n    const command = [\"zunion\", numKeys];\n    if (Array.isArray(keyOrKeys)) {\n      command.push(...keyOrKeys);\n    } else {\n      command.push(keyOrKeys);\n    }\n    if (opts) {\n      if (\"weights\" in opts && opts.weights) {\n        command.push(\"weights\", ...opts.weights);\n      } else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n        command.push(\"weights\", opts.weight);\n      }\n      if (\"aggregate\" in opts) {\n        command.push(\"aggregate\", opts.aggregate);\n      }\n      if (opts.withScores) {\n        command.push(\"withscores\");\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zunionstore.ts\nvar ZUnionStoreCommand = class extends Command {\n  constructor([destination, numKeys, keyOrKeys, opts], cmdOpts) {\n    const command = [\"zunionstore\", destination, numKeys];\n    if (Array.isArray(keyOrKeys)) {\n      command.push(...keyOrKeys);\n    } else {\n      command.push(keyOrKeys);\n    }\n    if (opts) {\n      if (\"weights\" in opts && opts.weights) {\n        command.push(\"weights\", ...opts.weights);\n      } else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n        command.push(\"weights\", opts.weight);\n      }\n      if (\"aggregate\" in opts) {\n        command.push(\"aggregate\", opts.aggregate);\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zdiffstore.ts\nvar ZDiffStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zdiffstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zmscore.ts\nvar ZMScoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, members] = cmd;\n    super([\"zmscore\", key, ...members], opts);\n  }\n};\n\n// pkg/pipeline.ts\nvar Pipeline = class {\n  client;\n  commands;\n  commandOptions;\n  multiExec;\n  constructor(opts) {\n    this.client = opts.client;\n    this.commands = [];\n    this.commandOptions = opts.commandOptions;\n    this.multiExec = opts.multiExec ?? false;\n    if (this.commandOptions?.latencyLogging) {\n      const originalExec = this.exec.bind(this);\n      this.exec = async (options) => {\n        const start = performance.now();\n        const result = await (options ? originalExec(options) : originalExec());\n        const end = performance.now();\n        const loggerResult = (end - start).toFixed(2);\n        console.log(\n          `Latency for \\x1B[38;2;19;185;39m${this.multiExec ? [\"MULTI-EXEC\"] : [\"PIPELINE\"].toString().toUpperCase()}\\x1B[0m: \\x1B[38;2;0;255;255m${loggerResult} ms\\x1B[0m`\n        );\n        return result;\n      };\n    }\n  }\n  exec = async (options) => {\n    if (this.commands.length === 0) {\n      throw new Error(\"Pipeline is empty\");\n    }\n    const path = this.multiExec ? [\"multi-exec\"] : [\"pipeline\"];\n    const res = await this.client.request({\n      path,\n      body: Object.values(this.commands).map((c) => c.command)\n    });\n    return options?.keepErrors ? res.map(({ error, result }, i) => {\n      return {\n        error,\n        result: this.commands[i].deserialize(result)\n      };\n    }) : res.map(({ error, result }, i) => {\n      if (error) {\n        throw new UpstashError(\n          `Command ${i + 1} [ ${this.commands[i].command[0]} ] failed: ${error}`\n        );\n      }\n      return this.commands[i].deserialize(result);\n    });\n  };\n  /**\n   * Returns the length of pipeline before the execution\n   */\n  length() {\n    return this.commands.length;\n  }\n  /**\n   * Pushes a command into the pipeline and returns a chainable instance of the\n   * pipeline\n   */\n  chain(command) {\n    this.commands.push(command);\n    return this;\n  }\n  /**\n   * @see https://redis.io/commands/append\n   */\n  append = (...args) => this.chain(new AppendCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/bitcount\n   */\n  bitcount = (...args) => this.chain(new BitCountCommand(args, this.commandOptions));\n  /**\n   * Returns an instance that can be used to execute `BITFIELD` commands on one key.\n   *\n   * @example\n   * ```typescript\n   * redis.set(\"mykey\", 0);\n   * const result = await redis.pipeline()\n   *   .bitfield(\"mykey\")\n   *   .set(\"u4\", 0, 16)\n   *   .incr(\"u4\", \"#1\", 1)\n   *   .exec();\n   * console.log(result); // [[0, 1]]\n   * ```\n   *\n   * @see https://redis.io/commands/bitfield\n   */\n  bitfield = (...args) => new BitFieldCommand(args, this.client, this.commandOptions, this.chain.bind(this));\n  /**\n   * @see https://redis.io/commands/bitop\n   */\n  bitop = (op, destinationKey, sourceKey, ...sourceKeys) => this.chain(\n    new BitOpCommand([op, destinationKey, sourceKey, ...sourceKeys], this.commandOptions)\n  );\n  /**\n   * @see https://redis.io/commands/bitpos\n   */\n  bitpos = (...args) => this.chain(new BitPosCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/client-setinfo\n   */\n  clientSetinfo = (...args) => this.chain(new ClientSetInfoCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/copy\n   */\n  copy = (...args) => this.chain(new CopyCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zdiffstore\n   */\n  zdiffstore = (...args) => this.chain(new ZDiffStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/dbsize\n   */\n  dbsize = () => this.chain(new DBSizeCommand(this.commandOptions));\n  /**\n   * @see https://redis.io/commands/decr\n   */\n  decr = (...args) => this.chain(new DecrCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/decrby\n   */\n  decrby = (...args) => this.chain(new DecrByCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/del\n   */\n  del = (...args) => this.chain(new DelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/echo\n   */\n  echo = (...args) => this.chain(new EchoCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/eval_ro\n   */\n  evalRo = (...args) => this.chain(new EvalROCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/eval\n   */\n  eval = (...args) => this.chain(new EvalCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/evalsha_ro\n   */\n  evalshaRo = (...args) => this.chain(new EvalshaROCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/evalsha\n   */\n  evalsha = (...args) => this.chain(new EvalshaCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/exists\n   */\n  exists = (...args) => this.chain(new ExistsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/expire\n   */\n  expire = (...args) => this.chain(new ExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/expireat\n   */\n  expireat = (...args) => this.chain(new ExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/flushall\n   */\n  flushall = (args) => this.chain(new FlushAllCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/flushdb\n   */\n  flushdb = (...args) => this.chain(new FlushDBCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geoadd\n   */\n  geoadd = (...args) => this.chain(new GeoAddCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geodist\n   */\n  geodist = (...args) => this.chain(new GeoDistCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geopos\n   */\n  geopos = (...args) => this.chain(new GeoPosCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geohash\n   */\n  geohash = (...args) => this.chain(new GeoHashCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geosearch\n   */\n  geosearch = (...args) => this.chain(new GeoSearchCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geosearchstore\n   */\n  geosearchstore = (...args) => this.chain(new GeoSearchStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/get\n   */\n  get = (...args) => this.chain(new GetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getbit\n   */\n  getbit = (...args) => this.chain(new GetBitCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getdel\n   */\n  getdel = (...args) => this.chain(new GetDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getex\n   */\n  getex = (...args) => this.chain(new GetExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getrange\n   */\n  getrange = (...args) => this.chain(new GetRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getset\n   */\n  getset = (key, value) => this.chain(new GetSetCommand([key, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hdel\n   */\n  hdel = (...args) => this.chain(new HDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexists\n   */\n  hexists = (...args) => this.chain(new HExistsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexpire\n   */\n  hexpire = (...args) => this.chain(new HExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexpireat\n   */\n  hexpireat = (...args) => this.chain(new HExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexpiretime\n   */\n  hexpiretime = (...args) => this.chain(new HExpireTimeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/httl\n   */\n  httl = (...args) => this.chain(new HTtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpexpire\n   */\n  hpexpire = (...args) => this.chain(new HPExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpexpireat\n   */\n  hpexpireat = (...args) => this.chain(new HPExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpexpiretime\n   */\n  hpexpiretime = (...args) => this.chain(new HPExpireTimeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpttl\n   */\n  hpttl = (...args) => this.chain(new HPTtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpersist\n   */\n  hpersist = (...args) => this.chain(new HPersistCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hget\n   */\n  hget = (...args) => this.chain(new HGetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hgetall\n   */\n  hgetall = (...args) => this.chain(new HGetAllCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hgetdel\n   */\n  hgetdel = (...args) => this.chain(new HGetDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hgetex\n   */\n  hgetex = (...args) => this.chain(new HGetExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hincrby\n   */\n  hincrby = (...args) => this.chain(new HIncrByCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hincrbyfloat\n   */\n  hincrbyfloat = (...args) => this.chain(new HIncrByFloatCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hkeys\n   */\n  hkeys = (...args) => this.chain(new HKeysCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hlen\n   */\n  hlen = (...args) => this.chain(new HLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hmget\n   */\n  hmget = (...args) => this.chain(new HMGetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hmset\n   */\n  hmset = (key, kv) => this.chain(new HMSetCommand([key, kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hrandfield\n   */\n  hrandfield = (key, count, withValues) => this.chain(new HRandFieldCommand([key, count, withValues], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hscan\n   */\n  hscan = (...args) => this.chain(new HScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hset\n   */\n  hset = (key, kv) => this.chain(new HSetCommand([key, kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hsetex\n   */\n  hsetex = (...args) => this.chain(new HSetExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hsetnx\n   */\n  hsetnx = (key, field, value) => this.chain(new HSetNXCommand([key, field, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hstrlen\n   */\n  hstrlen = (...args) => this.chain(new HStrLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hvals\n   */\n  hvals = (...args) => this.chain(new HValsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/incr\n   */\n  incr = (...args) => this.chain(new IncrCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/incrby\n   */\n  incrby = (...args) => this.chain(new IncrByCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/incrbyfloat\n   */\n  incrbyfloat = (...args) => this.chain(new IncrByFloatCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/keys\n   */\n  keys = (...args) => this.chain(new KeysCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lindex\n   */\n  lindex = (...args) => this.chain(new LIndexCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/linsert\n   */\n  linsert = (key, direction, pivot, value) => this.chain(new LInsertCommand([key, direction, pivot, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/llen\n   */\n  llen = (...args) => this.chain(new LLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lmove\n   */\n  lmove = (...args) => this.chain(new LMoveCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpop\n   */\n  lpop = (...args) => this.chain(new LPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lmpop\n   */\n  lmpop = (...args) => this.chain(new LmPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpos\n   */\n  lpos = (...args) => this.chain(new LPosCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpush\n   */\n  lpush = (key, ...elements) => this.chain(new LPushCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpushx\n   */\n  lpushx = (key, ...elements) => this.chain(new LPushXCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lrange\n   */\n  lrange = (...args) => this.chain(new LRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lrem\n   */\n  lrem = (key, count, value) => this.chain(new LRemCommand([key, count, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lset\n   */\n  lset = (key, index, value) => this.chain(new LSetCommand([key, index, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/ltrim\n   */\n  ltrim = (...args) => this.chain(new LTrimCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/mget\n   */\n  mget = (...args) => this.chain(new MGetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/mset\n   */\n  mset = (kv) => this.chain(new MSetCommand([kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/msetnx\n   */\n  msetnx = (kv) => this.chain(new MSetNXCommand([kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/persist\n   */\n  persist = (...args) => this.chain(new PersistCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pexpire\n   */\n  pexpire = (...args) => this.chain(new PExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pexpireat\n   */\n  pexpireat = (...args) => this.chain(new PExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pfadd\n   */\n  pfadd = (...args) => this.chain(new PfAddCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pfcount\n   */\n  pfcount = (...args) => this.chain(new PfCountCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pfmerge\n   */\n  pfmerge = (...args) => this.chain(new PfMergeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/ping\n   */\n  ping = (args) => this.chain(new PingCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/psetex\n   */\n  psetex = (key, ttl, value) => this.chain(new PSetEXCommand([key, ttl, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pttl\n   */\n  pttl = (...args) => this.chain(new PTtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/publish\n   */\n  publish = (...args) => this.chain(new PublishCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/randomkey\n   */\n  randomkey = () => this.chain(new RandomKeyCommand(this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rename\n   */\n  rename = (...args) => this.chain(new RenameCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/renamenx\n   */\n  renamenx = (...args) => this.chain(new RenameNXCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rpop\n   */\n  rpop = (...args) => this.chain(new RPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rpush\n   */\n  rpush = (key, ...elements) => this.chain(new RPushCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rpushx\n   */\n  rpushx = (key, ...elements) => this.chain(new RPushXCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sadd\n   */\n  sadd = (key, member, ...members) => this.chain(new SAddCommand([key, member, ...members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/scan\n   */\n  scan = (...args) => this.chain(new ScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/scard\n   */\n  scard = (...args) => this.chain(new SCardCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/script-exists\n   */\n  scriptExists = (...args) => this.chain(new ScriptExistsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/script-flush\n   */\n  scriptFlush = (...args) => this.chain(new ScriptFlushCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/script-load\n   */\n  scriptLoad = (...args) => this.chain(new ScriptLoadCommand(args, this.commandOptions));\n  /*)*\n   * @see https://redis.io/commands/sdiff\n   */\n  sdiff = (...args) => this.chain(new SDiffCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sdiffstore\n   */\n  sdiffstore = (...args) => this.chain(new SDiffStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/set\n   */\n  set = (key, value, opts) => this.chain(new SetCommand([key, value, opts], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setbit\n   */\n  setbit = (...args) => this.chain(new SetBitCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setex\n   */\n  setex = (key, ttl, value) => this.chain(new SetExCommand([key, ttl, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setnx\n   */\n  setnx = (key, value) => this.chain(new SetNxCommand([key, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setrange\n   */\n  setrange = (...args) => this.chain(new SetRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sinter\n   */\n  sinter = (...args) => this.chain(new SInterCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sinterstore\n   */\n  sinterstore = (...args) => this.chain(new SInterStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sismember\n   */\n  sismember = (key, member) => this.chain(new SIsMemberCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/smembers\n   */\n  smembers = (...args) => this.chain(new SMembersCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/smismember\n   */\n  smismember = (key, members) => this.chain(new SMIsMemberCommand([key, members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/smove\n   */\n  smove = (source, destination, member) => this.chain(new SMoveCommand([source, destination, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/spop\n   */\n  spop = (...args) => this.chain(new SPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/srandmember\n   */\n  srandmember = (...args) => this.chain(new SRandMemberCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/srem\n   */\n  srem = (key, ...members) => this.chain(new SRemCommand([key, ...members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sscan\n   */\n  sscan = (...args) => this.chain(new SScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/strlen\n   */\n  strlen = (...args) => this.chain(new StrLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sunion\n   */\n  sunion = (...args) => this.chain(new SUnionCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sunionstore\n   */\n  sunionstore = (...args) => this.chain(new SUnionStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/time\n   */\n  time = () => this.chain(new TimeCommand(this.commandOptions));\n  /**\n   * @see https://redis.io/commands/touch\n   */\n  touch = (...args) => this.chain(new TouchCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/ttl\n   */\n  ttl = (...args) => this.chain(new TtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/type\n   */\n  type = (...args) => this.chain(new TypeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/unlink\n   */\n  unlink = (...args) => this.chain(new UnlinkCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zadd\n   */\n  zadd = (...args) => {\n    if (\"score\" in args[1]) {\n      return this.chain(\n        new ZAddCommand([args[0], args[1], ...args.slice(2)], this.commandOptions)\n      );\n    }\n    return this.chain(\n      new ZAddCommand(\n        [args[0], args[1], ...args.slice(2)],\n        this.commandOptions\n      )\n    );\n  };\n  /**\n   * @see https://redis.io/commands/xadd\n   */\n  xadd = (...args) => this.chain(new XAddCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xack\n   */\n  xack = (...args) => this.chain(new XAckCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xackdel\n   */\n  xackdel = (...args) => this.chain(new XAckDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xdel\n   */\n  xdel = (...args) => this.chain(new XDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xdelex\n   */\n  xdelex = (...args) => this.chain(new XDelExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xgroup\n   */\n  xgroup = (...args) => this.chain(new XGroupCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xread\n   */\n  xread = (...args) => this.chain(new XReadCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xreadgroup\n   */\n  xreadgroup = (...args) => this.chain(new XReadGroupCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xinfo\n   */\n  xinfo = (...args) => this.chain(new XInfoCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xlen\n   */\n  xlen = (...args) => this.chain(new XLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xpending\n   */\n  xpending = (...args) => this.chain(new XPendingCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xclaim\n   */\n  xclaim = (...args) => this.chain(new XClaimCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xautoclaim\n   */\n  xautoclaim = (...args) => this.chain(new XAutoClaim(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xtrim\n   */\n  xtrim = (...args) => this.chain(new XTrimCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xrange\n   */\n  xrange = (...args) => this.chain(new XRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xrevrange\n   */\n  xrevrange = (...args) => this.chain(new XRevRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zcard\n   */\n  zcard = (...args) => this.chain(new ZCardCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zcount\n   */\n  zcount = (...args) => this.chain(new ZCountCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zincrby\n   */\n  zincrby = (key, increment, member) => this.chain(new ZIncrByCommand([key, increment, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zinterstore\n   */\n  zinterstore = (...args) => this.chain(new ZInterStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zlexcount\n   */\n  zlexcount = (...args) => this.chain(new ZLexCountCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zmscore\n   */\n  zmscore = (...args) => this.chain(new ZMScoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zpopmax\n   */\n  zpopmax = (...args) => this.chain(new ZPopMaxCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zpopmin\n   */\n  zpopmin = (...args) => this.chain(new ZPopMinCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrange\n   */\n  zrange = (...args) => this.chain(new ZRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrank\n   */\n  zrank = (key, member) => this.chain(new ZRankCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrem\n   */\n  zrem = (key, ...members) => this.chain(new ZRemCommand([key, ...members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zremrangebylex\n   */\n  zremrangebylex = (...args) => this.chain(new ZRemRangeByLexCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zremrangebyrank\n   */\n  zremrangebyrank = (...args) => this.chain(new ZRemRangeByRankCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zremrangebyscore\n   */\n  zremrangebyscore = (...args) => this.chain(new ZRemRangeByScoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrevrank\n   */\n  zrevrank = (key, member) => this.chain(new ZRevRankCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zscan\n   */\n  zscan = (...args) => this.chain(new ZScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zscore\n   */\n  zscore = (key, member) => this.chain(new ZScoreCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zunionstore\n   */\n  zunionstore = (...args) => this.chain(new ZUnionStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zunion\n   */\n  zunion = (...args) => this.chain(new ZUnionCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/?group=json\n   */\n  get json() {\n    return {\n      /**\n       * @see https://redis.io/commands/json.arrappend\n       */\n      arrappend: (...args) => this.chain(new JsonArrAppendCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrindex\n       */\n      arrindex: (...args) => this.chain(new JsonArrIndexCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrinsert\n       */\n      arrinsert: (...args) => this.chain(new JsonArrInsertCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrlen\n       */\n      arrlen: (...args) => this.chain(new JsonArrLenCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrpop\n       */\n      arrpop: (...args) => this.chain(new JsonArrPopCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrtrim\n       */\n      arrtrim: (...args) => this.chain(new JsonArrTrimCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.clear\n       */\n      clear: (...args) => this.chain(new JsonClearCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.del\n       */\n      del: (...args) => this.chain(new JsonDelCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.forget\n       */\n      forget: (...args) => this.chain(new JsonForgetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.get\n       */\n      get: (...args) => this.chain(new JsonGetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.merge\n       */\n      merge: (...args) => this.chain(new JsonMergeCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.mget\n       */\n      mget: (...args) => this.chain(new JsonMGetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.mset\n       */\n      mset: (...args) => this.chain(new JsonMSetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.numincrby\n       */\n      numincrby: (...args) => this.chain(new JsonNumIncrByCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.nummultby\n       */\n      nummultby: (...args) => this.chain(new JsonNumMultByCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.objkeys\n       */\n      objkeys: (...args) => this.chain(new JsonObjKeysCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.objlen\n       */\n      objlen: (...args) => this.chain(new JsonObjLenCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.resp\n       */\n      resp: (...args) => this.chain(new JsonRespCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.set\n       */\n      set: (...args) => this.chain(new JsonSetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.strappend\n       */\n      strappend: (...args) => this.chain(new JsonStrAppendCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.strlen\n       */\n      strlen: (...args) => this.chain(new JsonStrLenCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.toggle\n       */\n      toggle: (...args) => this.chain(new JsonToggleCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.type\n       */\n      type: (...args) => this.chain(new JsonTypeCommand(args, this.commandOptions))\n    };\n  }\n  get functions() {\n    return {\n      /**\n       * @see https://redis.io/docs/latest/commands/function-load/\n       */\n      load: (...args) => this.chain(new FunctionLoadCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-list/\n       */\n      list: (...args) => this.chain(new FunctionListCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-delete/\n       */\n      delete: (...args) => this.chain(new FunctionDeleteCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-flush/\n       */\n      flush: () => this.chain(new FunctionFlushCommand(this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-stats/\n       */\n      stats: () => this.chain(new FunctionStatsCommand(this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall/\n       */\n      call: (...args) => this.chain(new FCallCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall_ro/\n       */\n      callRo: (...args) => this.chain(new FCallRoCommand(args, this.commandOptions))\n    };\n  }\n};\n\n// pkg/auto-pipeline.ts\nvar EXCLUDE_COMMANDS = /* @__PURE__ */ new Set([\n  \"scan\",\n  \"keys\",\n  \"flushdb\",\n  \"flushall\",\n  \"dbsize\",\n  \"hscan\",\n  \"hgetall\",\n  \"hkeys\",\n  \"lrange\",\n  \"sscan\",\n  \"smembers\",\n  \"xrange\",\n  \"xrevrange\",\n  \"zscan\",\n  \"zrange\",\n  \"exec\"\n]);\nfunction createAutoPipelineProxy(_redis, namespace = \"root\") {\n  const redis = _redis;\n  if (!redis.autoPipelineExecutor) {\n    redis.autoPipelineExecutor = new AutoPipelineExecutor(redis);\n  }\n  return new Proxy(redis, {\n    get: (redis2, command) => {\n      if (command === \"pipelineCounter\") {\n        return redis2.autoPipelineExecutor.pipelineCounter;\n      }\n      if (namespace === \"root\" && command === \"json\") {\n        return createAutoPipelineProxy(redis2, \"json\");\n      }\n      if (namespace === \"root\" && command === \"functions\") {\n        return createAutoPipelineProxy(redis2, \"functions\");\n      }\n      if (namespace === \"root\") {\n        const commandInRedisButNotPipeline = command in redis2 && !(command in redis2.autoPipelineExecutor.pipeline);\n        const isCommandExcluded = EXCLUDE_COMMANDS.has(command);\n        if (commandInRedisButNotPipeline || isCommandExcluded) {\n          return redis2[command];\n        }\n      }\n      const pipeline = redis2.autoPipelineExecutor.pipeline;\n      const targetFunction = namespace === \"json\" ? pipeline.json[command] : namespace === \"functions\" ? pipeline.functions[command] : pipeline[command];\n      const isFunction = typeof targetFunction === \"function\";\n      if (isFunction) {\n        return (...args) => {\n          return redis2.autoPipelineExecutor.withAutoPipeline((pipeline2) => {\n            const targetFunction2 = namespace === \"json\" ? pipeline2.json[command] : namespace === \"functions\" ? pipeline2.functions[command] : pipeline2[command];\n            targetFunction2(...args);\n          });\n        };\n      }\n      return targetFunction;\n    }\n  });\n}\nvar AutoPipelineExecutor = class {\n  pipelinePromises = /* @__PURE__ */ new WeakMap();\n  activePipeline = null;\n  indexInCurrentPipeline = 0;\n  redis;\n  pipeline;\n  // only to make sure that proxy can work\n  pipelineCounter = 0;\n  // to keep track of how many times a pipeline was executed\n  constructor(redis) {\n    this.redis = redis;\n    this.pipeline = redis.pipeline();\n  }\n  async withAutoPipeline(executeWithPipeline) {\n    const pipeline = this.activePipeline ?? this.redis.pipeline();\n    if (!this.activePipeline) {\n      this.activePipeline = pipeline;\n      this.indexInCurrentPipeline = 0;\n    }\n    const index = this.indexInCurrentPipeline++;\n    executeWithPipeline(pipeline);\n    const pipelineDone = this.deferExecution().then(() => {\n      if (!this.pipelinePromises.has(pipeline)) {\n        const pipelinePromise = pipeline.exec({ keepErrors: true });\n        this.pipelineCounter += 1;\n        this.pipelinePromises.set(pipeline, pipelinePromise);\n        this.activePipeline = null;\n      }\n      return this.pipelinePromises.get(pipeline);\n    });\n    const results = await pipelineDone;\n    const commandResult = results[index];\n    if (commandResult.error) {\n      throw new UpstashError(`Command failed: ${commandResult.error}`);\n    }\n    return commandResult.result;\n  }\n  async deferExecution() {\n    await Promise.resolve();\n    await Promise.resolve();\n  }\n};\n\n// pkg/commands/psubscribe.ts\nvar PSubscribeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const sseHeaders = {\n      Accept: \"text/event-stream\",\n      \"Cache-Control\": \"no-cache\",\n      Connection: \"keep-alive\"\n    };\n    super([], {\n      ...opts,\n      headers: sseHeaders,\n      path: [\"psubscribe\", ...cmd],\n      streamOptions: {\n        isStreaming: true,\n        onMessage: opts?.streamOptions?.onMessage,\n        signal: opts?.streamOptions?.signal\n      }\n    });\n  }\n};\n\n// pkg/commands/subscribe.ts\nvar Subscriber = class extends EventTarget {\n  subscriptions;\n  client;\n  listeners;\n  opts;\n  constructor(client, channels, isPattern = false, opts) {\n    super();\n    this.client = client;\n    this.subscriptions = /* @__PURE__ */ new Map();\n    this.listeners = /* @__PURE__ */ new Map();\n    this.opts = opts;\n    for (const channel of channels) {\n      if (isPattern) {\n        this.subscribeToPattern(channel);\n      } else {\n        this.subscribeToChannel(channel);\n      }\n    }\n  }\n  subscribeToChannel(channel) {\n    const controller = new AbortController();\n    const command = new SubscribeCommand([channel], {\n      streamOptions: {\n        signal: controller.signal,\n        onMessage: (data) => this.handleMessage(data, false)\n      }\n    });\n    command.exec(this.client).catch((error) => {\n      if (error.name !== \"AbortError\") {\n        this.dispatchToListeners(\"error\", error);\n      }\n    });\n    this.subscriptions.set(channel, {\n      command,\n      controller,\n      isPattern: false\n    });\n  }\n  subscribeToPattern(pattern) {\n    const controller = new AbortController();\n    const command = new PSubscribeCommand([pattern], {\n      streamOptions: {\n        signal: controller.signal,\n        onMessage: (data) => this.handleMessage(data, true)\n      }\n    });\n    command.exec(this.client).catch((error) => {\n      if (error.name !== \"AbortError\") {\n        this.dispatchToListeners(\"error\", error);\n      }\n    });\n    this.subscriptions.set(pattern, {\n      command,\n      controller,\n      isPattern: true\n    });\n  }\n  handleMessage(data, isPattern) {\n    const messageData = data.replace(/^data:\\s*/, \"\");\n    const firstCommaIndex = messageData.indexOf(\",\");\n    const secondCommaIndex = messageData.indexOf(\",\", firstCommaIndex + 1);\n    const thirdCommaIndex = isPattern ? messageData.indexOf(\",\", secondCommaIndex + 1) : -1;\n    if (firstCommaIndex !== -1 && secondCommaIndex !== -1) {\n      const type = messageData.slice(0, firstCommaIndex);\n      if (isPattern && type === \"pmessage\" && thirdCommaIndex !== -1) {\n        const pattern = messageData.slice(firstCommaIndex + 1, secondCommaIndex);\n        const channel = messageData.slice(secondCommaIndex + 1, thirdCommaIndex);\n        const messageStr = messageData.slice(thirdCommaIndex + 1);\n        try {\n          const message = this.opts?.automaticDeserialization === false ? messageStr : JSON.parse(messageStr);\n          this.dispatchToListeners(\"pmessage\", { pattern, channel, message });\n          this.dispatchToListeners(`pmessage:${pattern}`, { pattern, channel, message });\n        } catch (error) {\n          this.dispatchToListeners(\"error\", new Error(`Failed to parse message: ${error}`));\n        }\n      } else {\n        const channel = messageData.slice(firstCommaIndex + 1, secondCommaIndex);\n        const messageStr = messageData.slice(secondCommaIndex + 1);\n        try {\n          if (type === \"subscribe\" || type === \"psubscribe\" || type === \"unsubscribe\" || type === \"punsubscribe\") {\n            const count = Number.parseInt(messageStr);\n            this.dispatchToListeners(type, count);\n          } else {\n            const message = this.opts?.automaticDeserialization === false ? messageStr : parseWithTryCatch(messageStr);\n            this.dispatchToListeners(type, { channel, message });\n            this.dispatchToListeners(`${type}:${channel}`, { channel, message });\n          }\n        } catch (error) {\n          this.dispatchToListeners(\"error\", new Error(`Failed to parse message: ${error}`));\n        }\n      }\n    }\n  }\n  dispatchToListeners(type, data) {\n    const listeners = this.listeners.get(type);\n    if (listeners) {\n      for (const listener of listeners) {\n        listener(data);\n      }\n    }\n  }\n  on(type, listener) {\n    if (!this.listeners.has(type)) {\n      this.listeners.set(type, /* @__PURE__ */ new Set());\n    }\n    this.listeners.get(type)?.add(listener);\n  }\n  removeAllListeners() {\n    this.listeners.clear();\n  }\n  async unsubscribe(channels) {\n    if (channels) {\n      for (const channel of channels) {\n        const subscription = this.subscriptions.get(channel);\n        if (subscription) {\n          try {\n            subscription.controller.abort();\n          } catch {\n          }\n          this.subscriptions.delete(channel);\n        }\n      }\n    } else {\n      for (const subscription of this.subscriptions.values()) {\n        try {\n          subscription.controller.abort();\n        } catch {\n        }\n      }\n      this.subscriptions.clear();\n      this.removeAllListeners();\n    }\n  }\n  getSubscribedChannels() {\n    return [...this.subscriptions.keys()];\n  }\n};\nvar SubscribeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const sseHeaders = {\n      Accept: \"text/event-stream\",\n      \"Cache-Control\": \"no-cache\",\n      Connection: \"keep-alive\"\n    };\n    super([], {\n      ...opts,\n      headers: sseHeaders,\n      path: [\"subscribe\", ...cmd],\n      streamOptions: {\n        isStreaming: true,\n        onMessage: opts?.streamOptions?.onMessage,\n        signal: opts?.streamOptions?.signal\n      }\n    });\n  }\n};\nvar parseWithTryCatch = (str) => {\n  try {\n    return JSON.parse(str);\n  } catch {\n    return str;\n  }\n};\n\n// pkg/script.ts\n\nvar Script = class {\n  script;\n  /**\n   * @deprecated This property is initialized to an empty string and will be set in the init method\n   * asynchronously. Do not use this property immidiately after the constructor.\n   *\n   * This property is only exposed for backwards compatibility and will be removed in the\n   * future major release.\n   */\n  sha1;\n  redis;\n  constructor(redis, script) {\n    this.redis = redis;\n    this.script = script;\n    this.sha1 = \"\";\n    void this.init(script);\n  }\n  /**\n   * Initialize the script by computing its SHA-1 hash.\n   */\n  async init(script) {\n    if (this.sha1) return;\n    this.sha1 = await this.digest(script);\n  }\n  /**\n   * Send an `EVAL` command to redis.\n   */\n  async eval(keys, args) {\n    await this.init(this.script);\n    return await this.redis.eval(this.script, keys, args);\n  }\n  /**\n   * Calculates the sha1 hash of the script and then calls `EVALSHA`.\n   */\n  async evalsha(keys, args) {\n    await this.init(this.script);\n    return await this.redis.evalsha(this.sha1, keys, args);\n  }\n  /**\n   * Optimistically try to run `EVALSHA` first.\n   * If the script is not loaded in redis, it will fall back and try again with `EVAL`.\n   *\n   * Following calls will be able to use the cached script\n   */\n  async exec(keys, args) {\n    await this.init(this.script);\n    const res = await this.redis.evalsha(this.sha1, keys, args).catch(async (error) => {\n      if (error instanceof Error && error.message.toLowerCase().includes(\"noscript\")) {\n        return await this.redis.eval(this.script, keys, args);\n      }\n      throw error;\n    });\n    return res;\n  }\n  /**\n   * Compute the sha1 hash of the script and return its hex representation.\n   */\n  async digest(s) {\n    const data = new TextEncoder().encode(s);\n    const hashBuffer = await uncrypto__WEBPACK_IMPORTED_MODULE_0__.subtle.digest(\"SHA-1\", data);\n    const hashArray = [...new Uint8Array(hashBuffer)];\n    return hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n};\n\n// pkg/scriptRo.ts\n\nvar ScriptRO = class {\n  script;\n  /**\n   * @deprecated This property is initialized to an empty string and will be set in the init method\n   * asynchronously. Do not use this property immidiately after the constructor.\n   *\n   * This property is only exposed for backwards compatibility and will be removed in the\n   * future major release.\n   */\n  sha1;\n  redis;\n  constructor(redis, script) {\n    this.redis = redis;\n    this.sha1 = \"\";\n    this.script = script;\n    void this.init(script);\n  }\n  async init(script) {\n    if (this.sha1) return;\n    this.sha1 = await this.digest(script);\n  }\n  /**\n   * Send an `EVAL_RO` command to redis.\n   */\n  async evalRo(keys, args) {\n    await this.init(this.script);\n    return await this.redis.evalRo(this.script, keys, args);\n  }\n  /**\n   * Calculates the sha1 hash of the script and then calls `EVALSHA_RO`.\n   */\n  async evalshaRo(keys, args) {\n    await this.init(this.script);\n    return await this.redis.evalshaRo(this.sha1, keys, args);\n  }\n  /**\n   * Optimistically try to run `EVALSHA_RO` first.\n   * If the script is not loaded in redis, it will fall back and try again with `EVAL_RO`.\n   *\n   * Following calls will be able to use the cached script\n   */\n  async exec(keys, args) {\n    await this.init(this.script);\n    const res = await this.redis.evalshaRo(this.sha1, keys, args).catch(async (error) => {\n      if (error instanceof Error && error.message.toLowerCase().includes(\"noscript\")) {\n        return await this.redis.evalRo(this.script, keys, args);\n      }\n      throw error;\n    });\n    return res;\n  }\n  /**\n   * Compute the sha1 hash of the script and return its hex representation.\n   */\n  async digest(s) {\n    const data = new TextEncoder().encode(s);\n    const hashBuffer = await uncrypto__WEBPACK_IMPORTED_MODULE_0__.subtle.digest(\"SHA-1\", data);\n    const hashArray = [...new Uint8Array(hashBuffer)];\n    return hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n};\n\n// pkg/redis.ts\nvar Redis = class {\n  client;\n  opts;\n  enableTelemetry;\n  enableAutoPipelining;\n  /**\n   * Create a new redis client\n   *\n   * @example\n   * ```typescript\n   * const redis = new Redis({\n   *  url: \"<UPSTASH_REDIS_REST_URL>\",\n   *  token: \"<UPSTASH_REDIS_REST_TOKEN>\",\n   * });\n   * ```\n   */\n  constructor(client, opts) {\n    this.client = client;\n    this.opts = opts;\n    this.enableTelemetry = opts?.enableTelemetry ?? true;\n    if (opts?.readYourWrites === false) {\n      this.client.readYourWrites = false;\n    }\n    this.enableAutoPipelining = opts?.enableAutoPipelining ?? true;\n  }\n  get readYourWritesSyncToken() {\n    return this.client.upstashSyncToken;\n  }\n  set readYourWritesSyncToken(session) {\n    this.client.upstashSyncToken = session;\n  }\n  get json() {\n    return {\n      /**\n       * @see https://redis.io/commands/json.arrappend\n       */\n      arrappend: (...args) => new JsonArrAppendCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrindex\n       */\n      arrindex: (...args) => new JsonArrIndexCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrinsert\n       */\n      arrinsert: (...args) => new JsonArrInsertCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrlen\n       */\n      arrlen: (...args) => new JsonArrLenCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrpop\n       */\n      arrpop: (...args) => new JsonArrPopCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrtrim\n       */\n      arrtrim: (...args) => new JsonArrTrimCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.clear\n       */\n      clear: (...args) => new JsonClearCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.del\n       */\n      del: (...args) => new JsonDelCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.forget\n       */\n      forget: (...args) => new JsonForgetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.get\n       */\n      get: (...args) => new JsonGetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.merge\n       */\n      merge: (...args) => new JsonMergeCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.mget\n       */\n      mget: (...args) => new JsonMGetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.mset\n       */\n      mset: (...args) => new JsonMSetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.numincrby\n       */\n      numincrby: (...args) => new JsonNumIncrByCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.nummultby\n       */\n      nummultby: (...args) => new JsonNumMultByCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.objkeys\n       */\n      objkeys: (...args) => new JsonObjKeysCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.objlen\n       */\n      objlen: (...args) => new JsonObjLenCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.resp\n       */\n      resp: (...args) => new JsonRespCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.set\n       */\n      set: (...args) => new JsonSetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.strappend\n       */\n      strappend: (...args) => new JsonStrAppendCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.strlen\n       */\n      strlen: (...args) => new JsonStrLenCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.toggle\n       */\n      toggle: (...args) => new JsonToggleCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.type\n       */\n      type: (...args) => new JsonTypeCommand(args, this.opts).exec(this.client)\n    };\n  }\n  get functions() {\n    return {\n      /**\n       * @see https://redis.io/docs/latest/commands/function-load/\n       */\n      load: (...args) => new FunctionLoadCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-list/\n       */\n      list: (...args) => new FunctionListCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-delete/\n       */\n      delete: (...args) => new FunctionDeleteCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-flush/\n       */\n      flush: () => new FunctionFlushCommand(this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-stats/\n       *\n       * Note: `running_script` field is not supported and therefore not included in the type.\n       */\n      stats: () => new FunctionStatsCommand(this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall/\n       */\n      call: (...args) => new FCallCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall_ro/\n       */\n      callRo: (...args) => new FCallRoCommand(args, this.opts).exec(this.client)\n    };\n  }\n  /**\n   * Wrap a new middleware around the HTTP client.\n   */\n  use = (middleware) => {\n    const makeRequest = this.client.request.bind(this.client);\n    this.client.request = (req) => middleware(req, makeRequest);\n  };\n  /**\n   * Technically this is not private, we can hide it from intellisense by doing this\n   */\n  addTelemetry = (telemetry) => {\n    if (!this.enableTelemetry) {\n      return;\n    }\n    try {\n      this.client.mergeTelemetry(telemetry);\n    } catch {\n    }\n  };\n  /**\n   * Creates a new script.\n   *\n   * Scripts offer the ability to optimistically try to execute a script without having to send the\n   * entire script to the server. If the script is loaded on the server, it tries again by sending\n   * the entire script. Afterwards, the script is cached on the server.\n   *\n   * @param script - The script to create\n   * @param opts - Optional options to pass to the script `{ readonly?: boolean }`\n   * @returns A new script\n   *\n   * @example\n   * ```ts\n   * const redis = new Redis({...})\n   *\n   * const script = redis.createScript<string>(\"return ARGV[1];\")\n   * const arg1 = await script.eval([], [\"Hello World\"])\n   * expect(arg1, \"Hello World\")\n   * ```\n   * @example\n   * ```ts\n   * const redis = new Redis({...})\n   *\n   * const script = redis.createScript<string>(\"return ARGV[1];\", { readonly: true })\n   * const arg1 = await script.evalRo([], [\"Hello World\"])\n   * expect(arg1, \"Hello World\")\n   * ```\n   */\n  createScript(script, opts) {\n    return opts?.readonly ? new ScriptRO(this, script) : new Script(this, script);\n  }\n  /**\n   * Create a new pipeline that allows you to send requests in bulk.\n   *\n   * @see {@link Pipeline}\n   */\n  pipeline = () => new Pipeline({\n    client: this.client,\n    commandOptions: this.opts,\n    multiExec: false\n  });\n  autoPipeline = () => {\n    return createAutoPipelineProxy(this);\n  };\n  /**\n   * Create a new transaction to allow executing multiple steps atomically.\n   *\n   * All the commands in a transaction are serialized and executed sequentially. A request sent by\n   * another client will never be served in the middle of the execution of a Redis Transaction. This\n   * guarantees that the commands are executed as a single isolated operation.\n   *\n   * @see {@link Pipeline}\n   */\n  multi = () => new Pipeline({\n    client: this.client,\n    commandOptions: this.opts,\n    multiExec: true\n  });\n  /**\n   * Returns an instance that can be used to execute `BITFIELD` commands on one key.\n   *\n   * @example\n   * ```typescript\n   * redis.set(\"mykey\", 0);\n   * const result = await redis.bitfield(\"mykey\")\n   *   .set(\"u4\", 0, 16)\n   *   .incr(\"u4\", \"#1\", 1)\n   *   .exec();\n   * console.log(result); // [0, 1]\n   * ```\n   *\n   * @see https://redis.io/commands/bitfield\n   */\n  bitfield = (...args) => new BitFieldCommand(args, this.client, this.opts);\n  /**\n   * @see https://redis.io/commands/append\n   */\n  append = (...args) => new AppendCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/bitcount\n   */\n  bitcount = (...args) => new BitCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/bitop\n   */\n  bitop = (op, destinationKey, sourceKey, ...sourceKeys) => new BitOpCommand([op, destinationKey, sourceKey, ...sourceKeys], this.opts).exec(\n    this.client\n  );\n  /**\n   * @see https://redis.io/commands/bitpos\n   */\n  bitpos = (...args) => new BitPosCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/client-setinfo\n   */\n  clientSetinfo = (...args) => new ClientSetInfoCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/copy\n   */\n  copy = (...args) => new CopyCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/dbsize\n   */\n  dbsize = () => new DBSizeCommand(this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/decr\n   */\n  decr = (...args) => new DecrCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/decrby\n   */\n  decrby = (...args) => new DecrByCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/del\n   */\n  del = (...args) => new DelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/echo\n   */\n  echo = (...args) => new EchoCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/eval_ro\n   */\n  evalRo = (...args) => new EvalROCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/eval\n   */\n  eval = (...args) => new EvalCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/evalsha_ro\n   */\n  evalshaRo = (...args) => new EvalshaROCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/evalsha\n   */\n  evalsha = (...args) => new EvalshaCommand(args, this.opts).exec(this.client);\n  /**\n   * Generic method to execute any Redis command.\n   */\n  exec = (args) => new ExecCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/exists\n   */\n  exists = (...args) => new ExistsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/expire\n   */\n  expire = (...args) => new ExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/expireat\n   */\n  expireat = (...args) => new ExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/flushall\n   */\n  flushall = (args) => new FlushAllCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/flushdb\n   */\n  flushdb = (...args) => new FlushDBCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geoadd\n   */\n  geoadd = (...args) => new GeoAddCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geopos\n   */\n  geopos = (...args) => new GeoPosCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geodist\n   */\n  geodist = (...args) => new GeoDistCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geohash\n   */\n  geohash = (...args) => new GeoHashCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geosearch\n   */\n  geosearch = (...args) => new GeoSearchCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geosearchstore\n   */\n  geosearchstore = (...args) => new GeoSearchStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/get\n   */\n  get = (...args) => new GetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getbit\n   */\n  getbit = (...args) => new GetBitCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getdel\n   */\n  getdel = (...args) => new GetDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getex\n   */\n  getex = (...args) => new GetExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getrange\n   */\n  getrange = (...args) => new GetRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getset\n   */\n  getset = (key, value) => new GetSetCommand([key, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hdel\n   */\n  hdel = (...args) => new HDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexists\n   */\n  hexists = (...args) => new HExistsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexpire\n   */\n  hexpire = (...args) => new HExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexpireat\n   */\n  hexpireat = (...args) => new HExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexpiretime\n   */\n  hexpiretime = (...args) => new HExpireTimeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/httl\n   */\n  httl = (...args) => new HTtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpexpire\n   */\n  hpexpire = (...args) => new HPExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpexpireat\n   */\n  hpexpireat = (...args) => new HPExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpexpiretime\n   */\n  hpexpiretime = (...args) => new HPExpireTimeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpttl\n   */\n  hpttl = (...args) => new HPTtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpersist\n   */\n  hpersist = (...args) => new HPersistCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hget\n   */\n  hget = (...args) => new HGetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hgetall\n   */\n  hgetall = (...args) => new HGetAllCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hgetdel\n   */\n  hgetdel = (...args) => new HGetDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hgetex\n   */\n  hgetex = (...args) => new HGetExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hincrby\n   */\n  hincrby = (...args) => new HIncrByCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hincrbyfloat\n   */\n  hincrbyfloat = (...args) => new HIncrByFloatCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hkeys\n   */\n  hkeys = (...args) => new HKeysCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hlen\n   */\n  hlen = (...args) => new HLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hmget\n   */\n  hmget = (...args) => new HMGetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hmset\n   */\n  hmset = (key, kv) => new HMSetCommand([key, kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hrandfield\n   */\n  hrandfield = (key, count, withValues) => new HRandFieldCommand([key, count, withValues], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hscan\n   */\n  hscan = (...args) => new HScanCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hset\n   */\n  hset = (key, kv) => new HSetCommand([key, kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hsetex\n   */\n  hsetex = (...args) => new HSetExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hsetnx\n   */\n  hsetnx = (key, field, value) => new HSetNXCommand([key, field, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hstrlen\n   */\n  hstrlen = (...args) => new HStrLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hvals\n   */\n  hvals = (...args) => new HValsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/incr\n   */\n  incr = (...args) => new IncrCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/incrby\n   */\n  incrby = (...args) => new IncrByCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/incrbyfloat\n   */\n  incrbyfloat = (...args) => new IncrByFloatCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/keys\n   */\n  keys = (...args) => new KeysCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lindex\n   */\n  lindex = (...args) => new LIndexCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/linsert\n   */\n  linsert = (key, direction, pivot, value) => new LInsertCommand([key, direction, pivot, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/llen\n   */\n  llen = (...args) => new LLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lmove\n   */\n  lmove = (...args) => new LMoveCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpop\n   */\n  lpop = (...args) => new LPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lmpop\n   */\n  lmpop = (...args) => new LmPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpos\n   */\n  lpos = (...args) => new LPosCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpush\n   */\n  lpush = (key, ...elements) => new LPushCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpushx\n   */\n  lpushx = (key, ...elements) => new LPushXCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lrange\n   */\n  lrange = (...args) => new LRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lrem\n   */\n  lrem = (key, count, value) => new LRemCommand([key, count, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lset\n   */\n  lset = (key, index, value) => new LSetCommand([key, index, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/ltrim\n   */\n  ltrim = (...args) => new LTrimCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/mget\n   */\n  mget = (...args) => new MGetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/mset\n   */\n  mset = (kv) => new MSetCommand([kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/msetnx\n   */\n  msetnx = (kv) => new MSetNXCommand([kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/persist\n   */\n  persist = (...args) => new PersistCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pexpire\n   */\n  pexpire = (...args) => new PExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pexpireat\n   */\n  pexpireat = (...args) => new PExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pfadd\n   */\n  pfadd = (...args) => new PfAddCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pfcount\n   */\n  pfcount = (...args) => new PfCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pfmerge\n   */\n  pfmerge = (...args) => new PfMergeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/ping\n   */\n  ping = (args) => new PingCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/psetex\n   */\n  psetex = (key, ttl, value) => new PSetEXCommand([key, ttl, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/psubscribe\n   */\n  psubscribe = (patterns) => {\n    const patternArray = Array.isArray(patterns) ? patterns : [patterns];\n    return new Subscriber(this.client, patternArray, true, this.opts);\n  };\n  /**\n   * @see https://redis.io/commands/pttl\n   */\n  pttl = (...args) => new PTtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/publish\n   */\n  publish = (...args) => new PublishCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/randomkey\n   */\n  randomkey = () => new RandomKeyCommand().exec(this.client);\n  /**\n   * @see https://redis.io/commands/rename\n   */\n  rename = (...args) => new RenameCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/renamenx\n   */\n  renamenx = (...args) => new RenameNXCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/rpop\n   */\n  rpop = (...args) => new RPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/rpush\n   */\n  rpush = (key, ...elements) => new RPushCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/rpushx\n   */\n  rpushx = (key, ...elements) => new RPushXCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sadd\n   */\n  sadd = (key, member, ...members) => new SAddCommand([key, member, ...members], this.opts).exec(this.client);\n  scan(cursor, opts) {\n    return new ScanCommand([cursor, opts], this.opts).exec(this.client);\n  }\n  /**\n   * @see https://redis.io/commands/scard\n   */\n  scard = (...args) => new SCardCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/script-exists\n   */\n  scriptExists = (...args) => new ScriptExistsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/script-flush\n   */\n  scriptFlush = (...args) => new ScriptFlushCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/script-load\n   */\n  scriptLoad = (...args) => new ScriptLoadCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sdiff\n   */\n  sdiff = (...args) => new SDiffCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sdiffstore\n   */\n  sdiffstore = (...args) => new SDiffStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/set\n   */\n  set = (key, value, opts) => new SetCommand([key, value, opts], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setbit\n   */\n  setbit = (...args) => new SetBitCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setex\n   */\n  setex = (key, ttl, value) => new SetExCommand([key, ttl, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setnx\n   */\n  setnx = (key, value) => new SetNxCommand([key, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setrange\n   */\n  setrange = (...args) => new SetRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sinter\n   */\n  sinter = (...args) => new SInterCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sinterstore\n   */\n  sinterstore = (...args) => new SInterStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sismember\n   */\n  sismember = (key, member) => new SIsMemberCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/smismember\n   */\n  smismember = (key, members) => new SMIsMemberCommand([key, members], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/smembers\n   */\n  smembers = (...args) => new SMembersCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/smove\n   */\n  smove = (source, destination, member) => new SMoveCommand([source, destination, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/spop\n   */\n  spop = (...args) => new SPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/srandmember\n   */\n  srandmember = (...args) => new SRandMemberCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/srem\n   */\n  srem = (key, ...members) => new SRemCommand([key, ...members], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sscan\n   */\n  sscan = (...args) => new SScanCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/strlen\n   */\n  strlen = (...args) => new StrLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/subscribe\n   */\n  subscribe = (channels) => {\n    const channelArray = Array.isArray(channels) ? channels : [channels];\n    return new Subscriber(this.client, channelArray, false, this.opts);\n  };\n  /**\n   * @see https://redis.io/commands/sunion\n   */\n  sunion = (...args) => new SUnionCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sunionstore\n   */\n  sunionstore = (...args) => new SUnionStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/time\n   */\n  time = () => new TimeCommand().exec(this.client);\n  /**\n   * @see https://redis.io/commands/touch\n   */\n  touch = (...args) => new TouchCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/ttl\n   */\n  ttl = (...args) => new TtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/type\n   */\n  type = (...args) => new TypeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/unlink\n   */\n  unlink = (...args) => new UnlinkCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xadd\n   */\n  xadd = (...args) => new XAddCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xack\n   */\n  xack = (...args) => new XAckCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xackdel\n   */\n  xackdel = (...args) => new XAckDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xdel\n   */\n  xdel = (...args) => new XDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xdelex\n   */\n  xdelex = (...args) => new XDelExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xgroup\n   */\n  xgroup = (...args) => new XGroupCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xread\n   */\n  xread = (...args) => new XReadCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xreadgroup\n   */\n  xreadgroup = (...args) => new XReadGroupCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xinfo\n   */\n  xinfo = (...args) => new XInfoCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xlen\n   */\n  xlen = (...args) => new XLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xpending\n   */\n  xpending = (...args) => new XPendingCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xclaim\n   */\n  xclaim = (...args) => new XClaimCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xautoclaim\n   */\n  xautoclaim = (...args) => new XAutoClaim(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xtrim\n   */\n  xtrim = (...args) => new XTrimCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xrange\n   */\n  xrange = (...args) => new XRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xrevrange\n   */\n  xrevrange = (...args) => new XRevRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zadd\n   */\n  zadd = (...args) => {\n    if (\"score\" in args[1]) {\n      return new ZAddCommand([args[0], args[1], ...args.slice(2)], this.opts).exec(\n        this.client\n      );\n    }\n    return new ZAddCommand(\n      [args[0], args[1], ...args.slice(2)],\n      this.opts\n    ).exec(this.client);\n  };\n  /**\n   * @see https://redis.io/commands/zcard\n   */\n  zcard = (...args) => new ZCardCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zcount\n   */\n  zcount = (...args) => new ZCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zdiffstore\n   */\n  zdiffstore = (...args) => new ZDiffStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zincrby\n   */\n  zincrby = (key, increment, member) => new ZIncrByCommand([key, increment, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zinterstore\n   */\n  zinterstore = (...args) => new ZInterStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zlexcount\n   */\n  zlexcount = (...args) => new ZLexCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zmscore\n   */\n  zmscore = (...args) => new ZMScoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zpopmax\n   */\n  zpopmax = (...args) => new ZPopMaxCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zpopmin\n   */\n  zpopmin = (...args) => new ZPopMinCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrange\n   */\n  zrange = (...args) => new ZRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrank\n   */\n  zrank = (key, member) => new ZRankCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrem\n   */\n  zrem = (key, ...members) => new ZRemCommand([key, ...members], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zremrangebylex\n   */\n  zremrangebylex = (...args) => new ZRemRangeByLexCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zremrangebyrank\n   */\n  zremrangebyrank = (...args) => new ZRemRangeByRankCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zremrangebyscore\n   */\n  zremrangebyscore = (...args) => new ZRemRangeByScoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrevrank\n   */\n  zrevrank = (key, member) => new ZRevRankCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zscan\n   */\n  zscan = (...args) => new ZScanCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zscore\n   */\n  zscore = (key, member) => new ZScoreCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zunion\n   */\n  zunion = (...args) => new ZUnionCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zunionstore\n   */\n  zunionstore = (...args) => new ZUnionStoreCommand(args, this.opts).exec(this.client);\n};\n\n// version.ts\nvar VERSION = \"v1.36.2\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHVwc3Rhc2grcmVkaXNAMS4zNi4yL25vZGVfbW9kdWxlcy9AdXBzdGFzaC9yZWRpcy9jaHVuay1RM1NXWDRCQi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csSUFBSTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxjQUFjO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUJBQWlCO0FBQ25DLHNCQUFzQixpQ0FBaUM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNkJBQTZCLG1EQUFtRDtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixvREFBb0QsZUFBZTtBQUNuRTtBQUNBLGdDQUFnQyxZQUFZLGlCQUFpQix5QkFBeUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04saURBQWlELGVBQWU7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixFQUFFLEdBQUcsSUFBSSxLQUFLLHlDQUF5QyxpQkFBaUIsRUFBRSxFQUFFLElBQUksTUFBTSxjQUFjO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvQ0FBb0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkJBQTZCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRUFBZ0U7QUFDakY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixZQUFZO0FBQ1oscUJBQXFCO0FBQ3JCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQThDO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxlQUFlO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEVBQUUsR0FBRyxJQUFJLEtBQUssd0VBQXdFLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxNQUFNLGNBQWM7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGVBQWUsZUFBZTtBQUNuQztBQUNBO0FBQ0EscUJBQXFCLE9BQU8sSUFBSSw2QkFBNkIsWUFBWSxNQUFNO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxrQkFBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsb0JBQW9CO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwyQkFBMkI7QUFDNUUsK0NBQStDLFFBQVEsS0FBSywyQkFBMkI7QUFDdkYsVUFBVTtBQUNWLGtGQUFrRixNQUFNO0FBQ3hGO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLDZDQUE2QyxrQkFBa0I7QUFDL0Qsd0NBQXdDLEtBQUssR0FBRyxRQUFRLEtBQUssa0JBQWtCO0FBQy9FO0FBQ0EsVUFBVTtBQUNWLGtGQUFrRixNQUFNO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ2tDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0Q0FBTTtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNENBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxvQkFBb0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsSUFBSTtBQUNsQztBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLElBQUk7QUFDbEM7QUFDQSwrREFBK0QsS0FBSyxnQkFBZ0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBT0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy90aWFuemloYW8vQ29kZUJ1ZGR5L1Byb3RvZm9saW8vbm9kZV9tb2R1bGVzLy5wbnBtL0B1cHN0YXNoK3JlZGlzQDEuMzYuMi9ub2RlX21vZHVsZXMvQHVwc3Rhc2gvcmVkaXMvY2h1bmstUTNTV1g0QkIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG5cbi8vIHBrZy9lcnJvci50c1xudmFyIGVycm9yX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGVycm9yX2V4cG9ydHMsIHtcbiAgVXBzdGFzaEVycm9yOiAoKSA9PiBVcHN0YXNoRXJyb3IsXG4gIFVwc3Rhc2hKU09OUGFyc2VFcnJvcjogKCkgPT4gVXBzdGFzaEpTT05QYXJzZUVycm9yLFxuICBVcmxFcnJvcjogKCkgPT4gVXJsRXJyb3Jcbn0pO1xudmFyIFVwc3Rhc2hFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgdGhpcy5uYW1lID0gXCJVcHN0YXNoRXJyb3JcIjtcbiAgfVxufTtcbnZhciBVcmxFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICBzdXBlcihcbiAgICAgIGBVcHN0YXNoIFJlZGlzIGNsaWVudCB3YXMgcGFzc2VkIGFuIGludmFsaWQgVVJMLiBZb3Ugc2hvdWxkIHBhc3MgYSBVUkwgc3RhcnRpbmcgd2l0aCBodHRwcy4gUmVjZWl2ZWQ6IFwiJHt1cmx9XCIuIGBcbiAgICApO1xuICAgIHRoaXMubmFtZSA9IFwiVXJsRXJyb3JcIjtcbiAgfVxufTtcbnZhciBVcHN0YXNoSlNPTlBhcnNlRXJyb3IgPSBjbGFzcyBleHRlbmRzIFVwc3Rhc2hFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGJvZHksIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0cnVuY2F0ZWRCb2R5ID0gYm9keS5sZW5ndGggPiAyMDAgPyBib2R5LnNsaWNlKDAsIDIwMCkgKyBcIi4uLlwiIDogYm9keTtcbiAgICBzdXBlcihgVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGJvZHk6ICR7dHJ1bmNhdGVkQm9keX1gLCBvcHRpb25zKTtcbiAgICB0aGlzLm5hbWUgPSBcIlVwc3Rhc2hKU09OUGFyc2VFcnJvclwiO1xuICB9XG59O1xuXG4vLyBwa2cvdXRpbC50c1xuZnVuY3Rpb24gcGFyc2VSZWN1cnNpdmUob2JqKSB7XG4gIGNvbnN0IHBhcnNlZCA9IEFycmF5LmlzQXJyYXkob2JqKSA/IG9iai5tYXAoKG8pID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHBhcnNlUmVjdXJzaXZlKG8pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG87XG4gICAgfVxuICB9KSA6IEpTT04ucGFyc2Uob2JqKTtcbiAgaWYgKHR5cGVvZiBwYXJzZWQgPT09IFwibnVtYmVyXCIgJiYgcGFyc2VkLnRvU3RyaW5nKCkgIT09IG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzdWx0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHBhcnNlUmVjdXJzaXZlKHJlc3VsdCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplU2NhblJlc3BvbnNlKHJlc3VsdCkge1xuICByZXR1cm4gW3Jlc3VsdFswXSwgLi4ucGFyc2VSZXNwb25zZShyZXN1bHQuc2xpY2UoMSkpXTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplU2NhbldpdGhUeXBlc1Jlc3BvbnNlKHJlc3VsdCkge1xuICBjb25zdCBbY3Vyc29yLCBrZXlzXSA9IHJlc3VsdDtcbiAgY29uc3QgcGFyc2VkS2V5cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBwYXJzZWRLZXlzLnB1c2goeyBrZXk6IGtleXNbaV0sIHR5cGU6IGtleXNbaSArIDFdIH0pO1xuICB9XG4gIHJldHVybiBbY3Vyc29yLCBwYXJzZWRLZXlzXTtcbn1cbmZ1bmN0aW9uIG1lcmdlSGVhZGVycyguLi5oZWFkZXJzKSB7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuICBmb3IgKGNvbnN0IGhlYWRlciBvZiBoZWFkZXJzKSB7XG4gICAgaWYgKCFoZWFkZXIpIGNvbnRpbnVlO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcikpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG1lcmdlZFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5mdW5jdGlvbiBrdkFycmF5VG9PYmplY3Qodikge1xuICBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIHY7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIHt9O1xuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgaWYgKHR5cGVvZiB2W2ldID09PSBcInN0cmluZ1wiKSBvYmpbdltpXV0gPSB2W2kgKyAxXTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vLyBwa2cvaHR0cC50c1xudmFyIE1BWF9CVUZGRVJfU0laRSA9IDEwMjQgKiAxMDI0O1xudmFyIEh0dHBDbGllbnQgPSBjbGFzcyB7XG4gIGJhc2VVcmw7XG4gIGhlYWRlcnM7XG4gIG9wdGlvbnM7XG4gIHJlYWRZb3VyV3JpdGVzO1xuICB1cHN0YXNoU3luY1Rva2VuID0gXCJcIjtcbiAgaGFzQ3JlZGVudGlhbHM7XG4gIHJldHJ5O1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBiYWNrZW5kOiBjb25maWcub3B0aW9ucz8uYmFja2VuZCxcbiAgICAgIGFnZW50OiBjb25maWcuYWdlbnQsXG4gICAgICByZXNwb25zZUVuY29kaW5nOiBjb25maWcucmVzcG9uc2VFbmNvZGluZyA/PyBcImJhc2U2NFwiLFxuICAgICAgLy8gZGVmYXVsdCB0byBiYXNlNjRcbiAgICAgIGNhY2hlOiBjb25maWcuY2FjaGUsXG4gICAgICBzaWduYWw6IGNvbmZpZy5zaWduYWwsXG4gICAgICBrZWVwQWxpdmU6IGNvbmZpZy5rZWVwQWxpdmUgPz8gdHJ1ZVxuICAgIH07XG4gICAgdGhpcy51cHN0YXNoU3luY1Rva2VuID0gXCJcIjtcbiAgICB0aGlzLnJlYWRZb3VyV3JpdGVzID0gY29uZmlnLnJlYWRZb3VyV3JpdGVzID8/IHRydWU7XG4gICAgdGhpcy5iYXNlVXJsID0gKGNvbmZpZy5iYXNlVXJsIHx8IFwiXCIpLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbiAgICBjb25zdCB1cmxSZWdleCA9IC9eaHR0cHM/OlxcL1xcL1teXFxzIyQuLz9dLlxcUyokLztcbiAgICBpZiAodGhpcy5iYXNlVXJsICYmICF1cmxSZWdleC50ZXN0KHRoaXMuYmFzZVVybCkpIHtcbiAgICAgIHRocm93IG5ldyBVcmxFcnJvcih0aGlzLmJhc2VVcmwpO1xuICAgIH1cbiAgICB0aGlzLmhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmNvbmZpZy5oZWFkZXJzXG4gICAgfTtcbiAgICB0aGlzLmhhc0NyZWRlbnRpYWxzID0gQm9vbGVhbih0aGlzLmJhc2VVcmwgJiYgdGhpcy5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCIgXCIpWzFdKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNlRW5jb2RpbmcgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgIHRoaXMuaGVhZGVyc1tcIlVwc3Rhc2gtRW5jb2RpbmdcIl0gPSBcImJhc2U2NFwiO1xuICAgIH1cbiAgICB0aGlzLnJldHJ5ID0gdHlwZW9mIGNvbmZpZy5yZXRyeSA9PT0gXCJib29sZWFuXCIgJiYgIWNvbmZpZy5yZXRyeSA/IHtcbiAgICAgIGF0dGVtcHRzOiAxLFxuICAgICAgYmFja29mZjogKCkgPT4gMFxuICAgIH0gOiB7XG4gICAgICBhdHRlbXB0czogY29uZmlnLnJldHJ5Py5yZXRyaWVzID8/IDUsXG4gICAgICBiYWNrb2ZmOiBjb25maWcucmV0cnk/LmJhY2tvZmYgPz8gKChyZXRyeUNvdW50KSA9PiBNYXRoLmV4cChyZXRyeUNvdW50KSAqIDUwKVxuICAgIH07XG4gIH1cbiAgbWVyZ2VUZWxlbWV0cnkodGVsZW1ldHJ5KSB7XG4gICAgdGhpcy5oZWFkZXJzID0gbWVyZ2UodGhpcy5oZWFkZXJzLCBcIlVwc3Rhc2gtVGVsZW1ldHJ5LVJ1bnRpbWVcIiwgdGVsZW1ldHJ5LnJ1bnRpbWUpO1xuICAgIHRoaXMuaGVhZGVycyA9IG1lcmdlKHRoaXMuaGVhZGVycywgXCJVcHN0YXNoLVRlbGVtZXRyeS1QbGF0Zm9ybVwiLCB0ZWxlbWV0cnkucGxhdGZvcm0pO1xuICAgIHRoaXMuaGVhZGVycyA9IG1lcmdlKHRoaXMuaGVhZGVycywgXCJVcHN0YXNoLVRlbGVtZXRyeS1TZGtcIiwgdGVsZW1ldHJ5LnNkayk7XG4gIH1cbiAgYXN5bmMgcmVxdWVzdChyZXEpIHtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IG1lcmdlSGVhZGVycyh0aGlzLmhlYWRlcnMsIHJlcS5oZWFkZXJzID8/IHt9KTtcbiAgICBjb25zdCByZXF1ZXN0VXJsID0gW3RoaXMuYmFzZVVybCwgLi4ucmVxLnBhdGggPz8gW11dLmpvaW4oXCIvXCIpO1xuICAgIGNvbnN0IGlzRXZlbnRTdHJlYW0gPSByZXF1ZXN0SGVhZGVycy5BY2NlcHQgPT09IFwidGV4dC9ldmVudC1zdHJlYW1cIjtcbiAgICBjb25zdCBzaWduYWwgPSByZXEuc2lnbmFsID8/IHRoaXMub3B0aW9ucy5zaWduYWw7XG4gICAgY29uc3QgaXNTaWduYWxGdW5jdGlvbiA9IHR5cGVvZiBzaWduYWwgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciB0aGlzIHNob3VsZCB0aHJvdyBkdWUgdG8gYnVuIHJlZ3Jlc3Npb25cbiAgICAgIGNhY2hlOiB0aGlzLm9wdGlvbnMuY2FjaGUsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEuYm9keSksXG4gICAgICBrZWVwYWxpdmU6IHRoaXMub3B0aW9ucy5rZWVwQWxpdmUsXG4gICAgICBhZ2VudDogdGhpcy5vcHRpb25zLmFnZW50LFxuICAgICAgc2lnbmFsOiBpc1NpZ25hbEZ1bmN0aW9uID8gc2lnbmFsKCkgOiBzaWduYWwsXG4gICAgICAvKipcbiAgICAgICAqIEZhc3RseSBzcGVjaWZpY1xuICAgICAgICovXG4gICAgICBiYWNrZW5kOiB0aGlzLm9wdGlvbnMuYmFja2VuZFxuICAgIH07XG4gICAgaWYgKCF0aGlzLmhhc0NyZWRlbnRpYWxzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW1Vwc3Rhc2ggUmVkaXNdIFJlZGlzIGNsaWVudCB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCB1cmwgb3IgdG9rZW4uIEZhaWxlZCB0byBleGVjdXRlIGNvbW1hbmQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlYWRZb3VyV3JpdGVzKSB7XG4gICAgICBjb25zdCBuZXdIZWFkZXIgPSB0aGlzLnVwc3Rhc2hTeW5jVG9rZW47XG4gICAgICB0aGlzLmhlYWRlcnNbXCJ1cHN0YXNoLXN5bmMtdG9rZW5cIl0gPSBuZXdIZWFkZXI7XG4gICAgfVxuICAgIGxldCByZXMgPSBudWxsO1xuICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5yZXRyeS5hdHRlbXB0czsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBhd2FpdCBmZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBjYXRjaCAoZXJyb3JfKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0T3B0aW9ucy5zaWduYWw/LmFib3J0ZWQgJiYgaXNTaWduYWxGdW5jdGlvbikge1xuICAgICAgICAgIHRocm93IGVycm9yXztcbiAgICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0T3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICBjb25zdCBteUJsb2IgPSBuZXcgQmxvYihbXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHJlc3VsdDogcmVxdWVzdE9wdGlvbnMuc2lnbmFsLnJlYXNvbiA/PyBcIkFib3J0ZWRcIiB9KVxuICAgICAgICAgIF0pO1xuICAgICAgICAgIGNvbnN0IG15T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdE9wdGlvbnMuc2lnbmFsLnJlYXNvbiA/PyBcIkFib3J0ZWRcIlxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzID0gbmV3IFJlc3BvbnNlKG15QmxvYiwgbXlPcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlcnJvciA9IGVycm9yXztcbiAgICAgICAgaWYgKGkgPCB0aGlzLnJldHJ5LmF0dGVtcHRzKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgdGhpcy5yZXRyeS5iYWNrb2ZmKGkpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXMpIHtcbiAgICAgIHRocm93IGVycm9yID8/IG5ldyBFcnJvcihcIkV4aGF1c3RlZCBhbGwgcmV0cmllc1wiKTtcbiAgICB9XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIGxldCBib2R5MjtcbiAgICAgIGNvbnN0IHJhd0JvZHkyID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkyID0gSlNPTi5wYXJzZShyYXdCb2R5Mik7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVwc3Rhc2hKU09OUGFyc2VFcnJvcihyYXdCb2R5MiwgeyBjYXVzZTogZXJyb3IyIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFVwc3Rhc2hFcnJvcihgJHtib2R5Mi5lcnJvcn0sIGNvbW1hbmQgd2FzOiAke0pTT04uc3RyaW5naWZ5KHJlcS5ib2R5KX1gKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVhZFlvdXJXcml0ZXMpIHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSByZXMuaGVhZGVycztcbiAgICAgIHRoaXMudXBzdGFzaFN5bmNUb2tlbiA9IGhlYWRlcnMuZ2V0KFwidXBzdGFzaC1zeW5jLXRva2VuXCIpID8/IFwiXCI7XG4gICAgfVxuICAgIGlmIChpc0V2ZW50U3RyZWFtICYmIHJlcSAmJiByZXEub25NZXNzYWdlICYmIHJlcy5ib2R5KSB7XG4gICAgICBjb25zdCByZWFkZXIgPSByZXMuYm9keS5nZXRSZWFkZXIoKTtcbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICAgICAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBidWZmZXIuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICBidWZmZXIgPSBsaW5lcy5wb3AoKSB8fCBcIlwiO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiBNQVhfQlVGRkVSX1NJWkUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyIHNpemUgZXhjZWVkZWQgKDFNQilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aChcImRhdGE6IFwiKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBsaW5lLnNsaWNlKDYpO1xuICAgICAgICAgICAgICAgIHJlcS5vbk1lc3NhZ2U/LihkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgICAgaWYgKGVycm9yMiBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yMi5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RyZWFtIHJlYWRpbmcgZXJyb3I6XCIsIGVycm9yMik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgICAgcmV0dXJuIHsgcmVzdWx0OiAxIH07XG4gICAgfVxuICAgIGxldCBib2R5O1xuICAgIGNvbnN0IHJhd0JvZHkgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgIHRyeSB7XG4gICAgICBib2R5ID0gSlNPTi5wYXJzZShyYXdCb2R5KTtcbiAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgIHRocm93IG5ldyBVcHN0YXNoSlNPTlBhcnNlRXJyb3IocmF3Qm9keSwgeyBjYXVzZTogZXJyb3IyIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWFkWW91cldyaXRlcykge1xuICAgICAgY29uc3QgaGVhZGVycyA9IHJlcy5oZWFkZXJzO1xuICAgICAgdGhpcy51cHN0YXNoU3luY1Rva2VuID0gaGVhZGVycy5nZXQoXCJ1cHN0YXNoLXN5bmMtdG9rZW5cIikgPz8gXCJcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXNwb25zZUVuY29kaW5nID09PSBcImJhc2U2NFwiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShib2R5KSkge1xuICAgICAgICByZXR1cm4gYm9keS5tYXAoKHsgcmVzdWx0OiByZXN1bHQyLCBlcnJvcjogZXJyb3IyIH0pID0+ICh7XG4gICAgICAgICAgcmVzdWx0OiBkZWNvZGUocmVzdWx0MiksXG4gICAgICAgICAgZXJyb3I6IGVycm9yMlxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBkZWNvZGUoYm9keS5yZXN1bHQpO1xuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogYm9keS5lcnJvciB9O1xuICAgIH1cbiAgICByZXR1cm4gYm9keTtcbiAgfVxufTtcbmZ1bmN0aW9uIGJhc2U2NGRlY29kZShiNjQpIHtcbiAgbGV0IGRlYyA9IFwiXCI7XG4gIHRyeSB7XG4gICAgY29uc3QgYmluU3RyaW5nID0gYXRvYihiNjQpO1xuICAgIGNvbnN0IHNpemUgPSBiaW5TdHJpbmcubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIGJ5dGVzW2ldID0gYmluU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIGRlYyA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShieXRlcyk7XG4gIH0gY2F0Y2gge1xuICAgIGRlYyA9IGI2NDtcbiAgfVxuICByZXR1cm4gZGVjO1xufVxuZnVuY3Rpb24gZGVjb2RlKHJhdykge1xuICBsZXQgcmVzdWx0ID0gdm9pZCAwO1xuICBzd2l0Y2ggKHR5cGVvZiByYXcpIHtcbiAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgcmVzdWx0ID0gcmF3O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmF3KSkge1xuICAgICAgICByZXN1bHQgPSByYXcubWFwKFxuICAgICAgICAgICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IGJhc2U2NGRlY29kZSh2KSA6IEFycmF5LmlzQXJyYXkodikgPyB2Lm1hcCgoZWxlbWVudCkgPT4gZGVjb2RlKGVsZW1lbnQpKSA6IHZcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICByZXN1bHQgPSByYXcgPT09IFwiT0tcIiA/IFwiT0tcIiA6IGJhc2U2NGRlY29kZShyYXcpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWVyZ2Uob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIG9ialtrZXldID0gb2JqW2tleV0gPyBbb2JqW2tleV0sIHZhbHVlXS5qb2luKFwiLFwiKSA6IHZhbHVlO1xuICByZXR1cm4gb2JqO1xufVxuXG4vLyBwa2cvY29tbWFuZHMvY29tbWFuZC50c1xudmFyIGRlZmF1bHRTZXJpYWxpemVyID0gKGMpID0+IHtcbiAgc3dpdGNoICh0eXBlb2YgYykge1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjKTtcbiAgICB9XG4gIH1cbn07XG52YXIgQ29tbWFuZCA9IGNsYXNzIHtcbiAgY29tbWFuZDtcbiAgc2VyaWFsaXplO1xuICBkZXNlcmlhbGl6ZTtcbiAgaGVhZGVycztcbiAgcGF0aDtcbiAgb25NZXNzYWdlO1xuICBpc1N0cmVhbWluZztcbiAgc2lnbmFsO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvbW1hbmQgaW5zdGFuY2UuXG4gICAqXG4gICAqIFlvdSBjYW4gZGVmaW5lIGEgY3VzdG9tIGBkZXNlcmlhbGl6ZWAgZnVuY3Rpb24uIEJ5IGRlZmF1bHQgd2UgdHJ5IHRvIGRlc2VyaWFsaXplIGFzIGpzb24uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb21tYW5kLCBvcHRzKSB7XG4gICAgdGhpcy5zZXJpYWxpemUgPSBkZWZhdWx0U2VyaWFsaXplcjtcbiAgICB0aGlzLmRlc2VyaWFsaXplID0gb3B0cz8uYXV0b21hdGljRGVzZXJpYWxpemF0aW9uID09PSB2b2lkIDAgfHwgb3B0cy5hdXRvbWF0aWNEZXNlcmlhbGl6YXRpb24gPyBvcHRzPy5kZXNlcmlhbGl6ZSA/PyBwYXJzZVJlc3BvbnNlIDogKHgpID0+IHg7XG4gICAgdGhpcy5jb21tYW5kID0gY29tbWFuZC5tYXAoKGMpID0+IHRoaXMuc2VyaWFsaXplKGMpKTtcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRzPy5oZWFkZXJzO1xuICAgIHRoaXMucGF0aCA9IG9wdHM/LnBhdGg7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBvcHRzPy5zdHJlYW1PcHRpb25zPy5vbk1lc3NhZ2U7XG4gICAgdGhpcy5pc1N0cmVhbWluZyA9IG9wdHM/LnN0cmVhbU9wdGlvbnM/LmlzU3RyZWFtaW5nID8/IGZhbHNlO1xuICAgIHRoaXMuc2lnbmFsID0gb3B0cz8uc3RyZWFtT3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChvcHRzPy5sYXRlbmN5TG9nZ2luZykge1xuICAgICAgY29uc3Qgb3JpZ2luYWxFeGVjID0gdGhpcy5leGVjLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmV4ZWMgPSBhc3luYyAoY2xpZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9yaWdpbmFsRXhlYyhjbGllbnQpO1xuICAgICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgbG9nZ2VyUmVzdWx0ID0gKGVuZCAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgTGF0ZW5jeSBmb3IgXFx4MUJbMzg7MjsxOTsxODU7MzltJHt0aGlzLmNvbW1hbmRbMF0udG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpfVxceDFCWzBtOiBcXHgxQlszODsyOzA7MjU1OzI1NW0ke2xvZ2dlclJlc3VsdH0gbXNcXHgxQlswbWBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBjb21tYW5kIHVzaW5nIGEgY2xpZW50LlxuICAgKi9cbiAgYXN5bmMgZXhlYyhjbGllbnQpIHtcbiAgICBjb25zdCB7IHJlc3VsdCwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudC5yZXF1ZXN0KHtcbiAgICAgIGJvZHk6IHRoaXMuY29tbWFuZCxcbiAgICAgIHBhdGg6IHRoaXMucGF0aCxcbiAgICAgIHVwc3Rhc2hTeW5jVG9rZW46IGNsaWVudC51cHN0YXNoU3luY1Rva2VuLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgb25NZXNzYWdlOiB0aGlzLm9uTWVzc2FnZSxcbiAgICAgIGlzU3RyZWFtaW5nOiB0aGlzLmlzU3RyZWFtaW5nLFxuICAgICAgc2lnbmFsOiB0aGlzLnNpZ25hbFxuICAgIH0pO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IFVwc3Rhc2hFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlcXVlc3QgZGlkIG5vdCByZXR1cm4gYSByZXN1bHRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ocmFuZGZpZWxkLnRzXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZShyZXN1bHQpIHtcbiAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBrZXkgPSByZXN1bHRbaV07XG4gICAgY29uc3QgdmFsdWUgPSByZXN1bHRbaSArIDFdO1xuICAgIHRyeSB7XG4gICAgICBvYmpba2V5XSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cbnZhciBIUmFuZEZpZWxkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJocmFuZGZpZWxkXCIsIGNtZFswXV07XG4gICAgaWYgKHR5cGVvZiBjbWRbMV0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjbWRbMV0pO1xuICAgIH1cbiAgICBpZiAoY21kWzJdKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJXSVRIVkFMVUVTXCIpO1xuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRvIHNpbGVuY2UgY29tcGlsZXJcbiAgICAgIGRlc2VyaWFsaXplOiBjbWRbMl0gPyAocmVzdWx0KSA9PiBkZXNlcmlhbGl6ZShyZXN1bHQpIDogb3B0cz8uZGVzZXJpYWxpemUsXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9hcHBlbmQudHNcbnZhciBBcHBlbmRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiYXBwZW5kXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvYml0Y291bnQudHNcbnZhciBCaXRDb3VudENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBzdGFydCwgZW5kXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJiaXRjb3VudFwiLCBrZXldO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChzdGFydCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5kID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goZW5kKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9iaXRmaWVsZC50c1xudmFyIEJpdEZpZWxkQ29tbWFuZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoYXJncywgY2xpZW50LCBvcHRzLCBleGVjT3BlcmF0aW9uID0gKGNvbW1hbmQpID0+IGNvbW1hbmQuZXhlYyh0aGlzLmNsaWVudCkpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgIHRoaXMuZXhlY09wZXJhdGlvbiA9IGV4ZWNPcGVyYXRpb247XG4gICAgdGhpcy5jb21tYW5kID0gW1wiYml0ZmllbGRcIiwgLi4uYXJnc107XG4gIH1cbiAgY29tbWFuZDtcbiAgY2hhaW4oLi4uYXJncykge1xuICAgIHRoaXMuY29tbWFuZC5wdXNoKC4uLmFyZ3MpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGdldCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhaW4oXCJnZXRcIiwgLi4uYXJncyk7XG4gIH1cbiAgc2V0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFpbihcInNldFwiLCAuLi5hcmdzKTtcbiAgfVxuICBpbmNyYnkoLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmNoYWluKFwiaW5jcmJ5XCIsIC4uLmFyZ3MpO1xuICB9XG4gIG92ZXJmbG93KG92ZXJmbG93KSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhaW4oXCJvdmVyZmxvd1wiLCBvdmVyZmxvdyk7XG4gIH1cbiAgZXhlYygpIHtcbiAgICBjb25zdCBjb21tYW5kID0gbmV3IENvbW1hbmQodGhpcy5jb21tYW5kLCB0aGlzLm9wdHMpO1xuICAgIHJldHVybiB0aGlzLmV4ZWNPcGVyYXRpb24oY29tbWFuZCk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9iaXRvcC50c1xudmFyIEJpdE9wQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImJpdG9wXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvYml0cG9zLnRzXG52YXIgQml0UG9zQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImJpdHBvc1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2NsaWVudF9zZXRpbmZvLnRzXG52YXIgQ2xpZW50U2V0SW5mb0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbYXR0cmlidXRlLCB2YWx1ZV0sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJDTElFTlRcIiwgXCJTRVRJTkZPXCIsIGF0dHJpYnV0ZS50b1VwcGVyQ2FzZSgpLCB2YWx1ZV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvY29weS50c1xudmFyIENvcHlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgZGVzdGluYXRpb25LZXksIG9wdHNdLCBjb21tYW5kT3B0aW9ucykge1xuICAgIHN1cGVyKFtcIkNPUFlcIiwga2V5LCBkZXN0aW5hdGlvbktleSwgLi4ub3B0cz8ucmVwbGFjZSA/IFtcIlJFUExBQ0VcIl0gOiBbXV0sIHtcbiAgICAgIC4uLmNvbW1hbmRPcHRpb25zLFxuICAgICAgZGVzZXJpYWxpemUocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIFwiQ09QSUVEXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiTk9UX0NPUElFRFwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZGJzaXplLnRzXG52YXIgREJTaXplQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihbXCJkYnNpemVcIl0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZGVjci50c1xudmFyIERlY3JDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZGVjclwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2RlY3JieS50c1xudmFyIERlY3JCeUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJkZWNyYnlcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9kZWwudHNcbnZhciBEZWxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZGVsXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZWNoby50c1xudmFyIEVjaG9Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZWNob1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2V2YWxSby50c1xudmFyIEV2YWxST0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihbc2NyaXB0LCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImV2YWxfcm9cIiwgc2NyaXB0LCBrZXlzLmxlbmd0aCwgLi4ua2V5cywgLi4uYXJncyA/PyBbXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZXZhbC50c1xudmFyIEV2YWxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW3NjcmlwdCwga2V5cywgYXJnc10sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJldmFsXCIsIHNjcmlwdCwga2V5cy5sZW5ndGgsIC4uLmtleXMsIC4uLmFyZ3MgPz8gW11dLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2V2YWxzaGFSby50c1xudmFyIEV2YWxzaGFST0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihbc2hhLCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImV2YWxzaGFfcm9cIiwgc2hhLCBrZXlzLmxlbmd0aCwgLi4ua2V5cywgLi4uYXJncyA/PyBbXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZXZhbHNoYS50c1xudmFyIEV2YWxzaGFDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW3NoYSwga2V5cywgYXJnc10sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJldmFsc2hhXCIsIHNoYSwga2V5cy5sZW5ndGgsIC4uLmtleXMsIC4uLmFyZ3MgPz8gW11dLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2V4ZWMudHNcbnZhciBFeGVjQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRDbWQgPSBjbWQubWFwKChhcmcpID0+IHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgPyBhcmcgOiBTdHJpbmcoYXJnKSk7XG4gICAgc3VwZXIobm9ybWFsaXplZENtZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9leGlzdHMudHNcbnZhciBFeGlzdHNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZXhpc3RzXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZXhwaXJlLnRzXG52YXIgRXhwaXJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImV4cGlyZVwiLCAuLi5jbWQuZmlsdGVyKEJvb2xlYW4pXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9leHBpcmVhdC50c1xudmFyIEV4cGlyZUF0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImV4cGlyZWF0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZmNhbGwudHNcbnZhciBGQ2FsbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbZnVuY3Rpb25OYW1lLCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImZjYWxsXCIsIGZ1bmN0aW9uTmFtZSwgLi4ua2V5cyA/IFtrZXlzLmxlbmd0aCwgLi4ua2V5c10gOiBbMF0sIC4uLmFyZ3MgPz8gW11dLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2ZjYWxsX3JvLnRzXG52YXIgRkNhbGxSb0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbZnVuY3Rpb25OYW1lLCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFxuICAgICAgW1wiZmNhbGxfcm9cIiwgZnVuY3Rpb25OYW1lLCAuLi5rZXlzID8gW2tleXMubGVuZ3RoLCAuLi5rZXlzXSA6IFswXSwgLi4uYXJncyA/PyBbXV0sXG4gICAgICBvcHRzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2ZsdXNoYWxsLnRzXG52YXIgRmx1c2hBbGxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoYXJncywgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJmbHVzaGFsbFwiXTtcbiAgICBpZiAoYXJncyAmJiBhcmdzLmxlbmd0aCA+IDAgJiYgYXJnc1swXS5hc3luYykge1xuICAgICAgY29tbWFuZC5wdXNoKFwiYXN5bmNcIik7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZmx1c2hkYi50c1xudmFyIEZsdXNoREJDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW29wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcImZsdXNoZGJcIl07XG4gICAgaWYgKG9wdHM/LmFzeW5jKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJhc3luY1wiKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9mdW5jdGlvbl9kZWxldGUudHNcbnZhciBGdW5jdGlvbkRlbGV0ZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbbGlicmFyeU5hbWVdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZnVuY3Rpb25cIiwgXCJkZWxldGVcIiwgbGlicmFyeU5hbWVdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2Z1bmN0aW9uX2ZsdXNoLnRzXG52YXIgRnVuY3Rpb25GbHVzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIoW1wiZnVuY3Rpb25cIiwgXCJmbHVzaFwiXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9mdW5jdGlvbl9saXN0LnRzXG52YXIgRnVuY3Rpb25MaXN0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFthcmdzXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJmdW5jdGlvblwiLCBcImxpc3RcIl07XG4gICAgaWYgKGFyZ3M/LmxpYnJhcnlOYW1lKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJsaWJyYXJ5bmFtZVwiLCBhcmdzLmxpYnJhcnlOYW1lKTtcbiAgICB9XG4gICAgaWYgKGFyZ3M/LndpdGhDb2RlKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJ3aXRoY29kZVwiKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgeyBkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUyLCAuLi5vcHRzIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gZGVzZXJpYWxpemUyKHJlc3VsdCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkgcmV0dXJuIFtdO1xuICByZXR1cm4gcmVzdWx0Lm1hcCgobGliUmF3KSA9PiB7XG4gICAgY29uc3QgbGliID0ga3ZBcnJheVRvT2JqZWN0KGxpYlJhdyk7XG4gICAgY29uc3QgZnVuY3Rpb25zUGFyc2VkID0gbGliLmZ1bmN0aW9ucy5tYXAoXG4gICAgICAoZm5SYXcpID0+IGt2QXJyYXlUb09iamVjdChmblJhdylcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICBsaWJyYXJ5TmFtZTogbGliLmxpYnJhcnlfbmFtZSxcbiAgICAgIGVuZ2luZTogbGliLmVuZ2luZSxcbiAgICAgIGZ1bmN0aW9uczogZnVuY3Rpb25zUGFyc2VkLm1hcCgoZm4pID0+ICh7XG4gICAgICAgIG5hbWU6IGZuLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBmbi5kZXNjcmlwdGlvbiA/PyB2b2lkIDAsXG4gICAgICAgIGZsYWdzOiBmbi5mbGFnc1xuICAgICAgfSkpLFxuICAgICAgbGlicmFyeUNvZGU6IGxpYi5saWJyYXJ5X2NvZGVcbiAgICB9O1xuICB9KTtcbn1cblxuLy8gcGtnL2NvbW1hbmRzL2Z1bmN0aW9uX2xvYWQudHNcbnZhciBGdW5jdGlvbkxvYWRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2FyZ3NdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZnVuY3Rpb25cIiwgXCJsb2FkXCIsIC4uLmFyZ3MucmVwbGFjZSA/IFtcInJlcGxhY2VcIl0gOiBbXSwgYXJncy5jb2RlXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9mdW5jdGlvbl9zdGF0cy50c1xudmFyIEZ1bmN0aW9uU3RhdHNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKFtcImZ1bmN0aW9uXCIsIFwic3RhdHNcIl0sIHsgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplMywgLi4ub3B0cyB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplMyhyZXN1bHQpIHtcbiAgY29uc3QgcmF3RW5naW5lcyA9IGt2QXJyYXlUb09iamVjdChrdkFycmF5VG9PYmplY3QocmVzdWx0KS5lbmdpbmVzKTtcbiAgY29uc3QgcGFyc2VkRW5naW5lcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhyYXdFbmdpbmVzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleSwga3ZBcnJheVRvT2JqZWN0KHZhbHVlKV0pXG4gICk7XG4gIGNvbnN0IGZpbmFsID0ge1xuICAgIGVuZ2luZXM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKHBhcnNlZEVuZ2luZXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbXG4gICAgICAgIGtleSxcbiAgICAgICAge1xuICAgICAgICAgIGxpYnJhcmllc0NvdW50OiB2YWx1ZS5saWJyYXJpZXNfY291bnQsXG4gICAgICAgICAgZnVuY3Rpb25zQ291bnQ6IHZhbHVlLmZ1bmN0aW9uc19jb3VudFxuICAgICAgICB9XG4gICAgICBdKVxuICAgIClcbiAgfTtcbiAgcmV0dXJuIGZpbmFsO1xufVxuXG4vLyBwa2cvY29tbWFuZHMvZ2VvX2FkZC50c1xudmFyIEdlb0FkZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBhcmcxLCAuLi5hcmcyXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJnZW9hZGRcIiwga2V5XTtcbiAgICBpZiAoXCJueFwiIGluIGFyZzEgJiYgYXJnMS5ueCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibnhcIik7XG4gICAgfSBlbHNlIGlmIChcInh4XCIgaW4gYXJnMSAmJiBhcmcxLnh4KSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJ4eFwiKTtcbiAgICB9XG4gICAgaWYgKFwiY2hcIiBpbiBhcmcxICYmIGFyZzEuY2gpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImNoXCIpO1xuICAgIH1cbiAgICBpZiAoXCJsYXRpdHVkZVwiIGluIGFyZzEgJiYgYXJnMS5sYXRpdHVkZSkge1xuICAgICAgY29tbWFuZC5wdXNoKGFyZzEubG9uZ2l0dWRlLCBhcmcxLmxhdGl0dWRlLCBhcmcxLm1lbWJlcik7XG4gICAgfVxuICAgIGNvbW1hbmQucHVzaChcbiAgICAgIC4uLmFyZzIuZmxhdE1hcCgoeyBsYXRpdHVkZSwgbG9uZ2l0dWRlLCBtZW1iZXIgfSkgPT4gW2xvbmdpdHVkZSwgbGF0aXR1ZGUsIG1lbWJlcl0pXG4gICAgKTtcbiAgICBzdXBlcihjb21tYW5kLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dlb19kaXN0LnRzXG52YXIgR2VvRGlzdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBtZW1iZXIxLCBtZW1iZXIyLCB1bml0ID0gXCJNXCJdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiR0VPRElTVFwiLCBrZXksIG1lbWJlcjEsIG1lbWJlcjIsIHVuaXRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dlb19oYXNoLnRzXG52YXIgR2VvSGFzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBba2V5XSA9IGNtZDtcbiAgICBjb25zdCBtZW1iZXJzID0gQXJyYXkuaXNBcnJheShjbWRbMV0pID8gY21kWzFdIDogY21kLnNsaWNlKDEpO1xuICAgIHN1cGVyKFtcIkdFT0hBU0hcIiwga2V5LCAuLi5tZW1iZXJzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZW9fcG9zLnRzXG52YXIgR2VvUG9zQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXldID0gY21kO1xuICAgIGNvbnN0IG1lbWJlcnMgPSBBcnJheS5pc0FycmF5KGNtZFsxXSkgPyBjbWRbMV0gOiBjbWQuc2xpY2UoMSk7XG4gICAgc3VwZXIoW1wiR0VPUE9TXCIsIGtleSwgLi4ubWVtYmVyc10sIHtcbiAgICAgIGRlc2VyaWFsaXplOiAocmVzdWx0KSA9PiB0cmFuc2Zvcm0ocmVzdWx0KSxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIHRyYW5zZm9ybShyZXN1bHQpIHtcbiAgY29uc3QgZmluYWwgPSBbXTtcbiAgZm9yIChjb25zdCBwb3Mgb2YgcmVzdWx0KSB7XG4gICAgaWYgKCFwb3M/LlswXSB8fCAhcG9zPy5bMV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmaW5hbC5wdXNoKHsgbG5nOiBOdW1iZXIucGFyc2VGbG9hdChwb3NbMF0pLCBsYXQ6IE51bWJlci5wYXJzZUZsb2F0KHBvc1sxXSkgfSk7XG4gIH1cbiAgcmV0dXJuIGZpbmFsO1xufVxuXG4vLyBwa2cvY29tbWFuZHMvZ2VvX3NlYXJjaC50c1xudmFyIEdlb1NlYXJjaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBjZW50ZXJQb2ludCwgc2hhcGUsIG9yZGVyLCBvcHRzXSwgY29tbWFuZE9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiR0VPU0VBUkNIXCIsIGtleV07XG4gICAgaWYgKGNlbnRlclBvaW50LnR5cGUgPT09IFwiRlJPTU1FTUJFUlwiIHx8IGNlbnRlclBvaW50LnR5cGUgPT09IFwiZnJvbW1lbWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goY2VudGVyUG9pbnQudHlwZSwgY2VudGVyUG9pbnQubWVtYmVyKTtcbiAgICB9XG4gICAgaWYgKGNlbnRlclBvaW50LnR5cGUgPT09IFwiRlJPTUxPTkxBVFwiIHx8IGNlbnRlclBvaW50LnR5cGUgPT09IFwiZnJvbWxvbmxhdFwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goY2VudGVyUG9pbnQudHlwZSwgY2VudGVyUG9pbnQuY29vcmRpbmF0ZS5sb24sIGNlbnRlclBvaW50LmNvb3JkaW5hdGUubGF0KTtcbiAgICB9XG4gICAgaWYgKHNoYXBlLnR5cGUgPT09IFwiQllSQURJVVNcIiB8fCBzaGFwZS50eXBlID09PSBcImJ5cmFkaXVzXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChzaGFwZS50eXBlLCBzaGFwZS5yYWRpdXMsIHNoYXBlLnJhZGl1c1R5cGUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJCWUJPWFwiIHx8IHNoYXBlLnR5cGUgPT09IFwiYnlib3hcIikge1xuICAgICAgY29tbWFuZC5wdXNoKHNoYXBlLnR5cGUsIHNoYXBlLnJlY3Qud2lkdGgsIHNoYXBlLnJlY3QuaGVpZ2h0LCBzaGFwZS5yZWN0VHlwZSk7XG4gICAgfVxuICAgIGNvbW1hbmQucHVzaChvcmRlcik7XG4gICAgaWYgKG9wdHM/LmNvdW50KSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJDT1VOVFwiLCBvcHRzLmNvdW50LmxpbWl0LCAuLi5vcHRzLmNvdW50LmFueSA/IFtcIkFOWVwiXSA6IFtdKTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtMiA9IChyZXN1bHQpID0+IHtcbiAgICAgIGlmICghb3B0cz8ud2l0aENvb3JkICYmICFvcHRzPy53aXRoRGlzdCAmJiAhb3B0cz8ud2l0aEhhc2gpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKG1lbWJlcikgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZW1iZXI6IEpTT04ucGFyc2UobWVtYmVyKSB9O1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVtYmVyIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQubWFwKChtZW1iZXJzKSA9PiB7XG4gICAgICAgIGxldCBjb3VudGVyID0gMTtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb2JqLm1lbWJlciA9IEpTT04ucGFyc2UobWVtYmVyc1swXSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIG9iai5tZW1iZXIgPSBtZW1iZXJzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLndpdGhEaXN0KSB7XG4gICAgICAgICAgb2JqLmRpc3QgPSBOdW1iZXIucGFyc2VGbG9hdChtZW1iZXJzW2NvdW50ZXIrK10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLndpdGhIYXNoKSB7XG4gICAgICAgICAgb2JqLmhhc2ggPSBtZW1iZXJzW2NvdW50ZXIrK10udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy53aXRoQ29vcmQpIHtcbiAgICAgICAgICBvYmouY29vcmQgPSB7XG4gICAgICAgICAgICBsb25nOiBOdW1iZXIucGFyc2VGbG9hdChtZW1iZXJzW2NvdW50ZXJdWzBdKSxcbiAgICAgICAgICAgIGxhdDogTnVtYmVyLnBhcnNlRmxvYXQobWVtYmVyc1tjb3VudGVyXVsxXSlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHN1cGVyKFxuICAgICAgW1xuICAgICAgICAuLi5jb21tYW5kLFxuICAgICAgICAuLi5vcHRzPy53aXRoQ29vcmQgPyBbXCJXSVRIQ09PUkRcIl0gOiBbXSxcbiAgICAgICAgLi4ub3B0cz8ud2l0aERpc3QgPyBbXCJXSVRIRElTVFwiXSA6IFtdLFxuICAgICAgICAuLi5vcHRzPy53aXRoSGFzaCA/IFtcIldJVEhIQVNIXCJdIDogW11cbiAgICAgIF0sXG4gICAgICB7XG4gICAgICAgIGRlc2VyaWFsaXplOiB0cmFuc2Zvcm0yLFxuICAgICAgICAuLi5jb21tYW5kT3B0aW9uc1xuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZW9fc2VhcmNoX3N0b3JlLnRzXG52YXIgR2VvU2VhcmNoU3RvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2Rlc3RpbmF0aW9uLCBrZXksIGNlbnRlclBvaW50LCBzaGFwZSwgb3JkZXIsIG9wdHNdLCBjb21tYW5kT3B0aW9ucykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJHRU9TRUFSQ0hTVE9SRVwiLCBkZXN0aW5hdGlvbiwga2V5XTtcbiAgICBpZiAoY2VudGVyUG9pbnQudHlwZSA9PT0gXCJGUk9NTUVNQkVSXCIgfHwgY2VudGVyUG9pbnQudHlwZSA9PT0gXCJmcm9tbWVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjZW50ZXJQb2ludC50eXBlLCBjZW50ZXJQb2ludC5tZW1iZXIpO1xuICAgIH1cbiAgICBpZiAoY2VudGVyUG9pbnQudHlwZSA9PT0gXCJGUk9NTE9OTEFUXCIgfHwgY2VudGVyUG9pbnQudHlwZSA9PT0gXCJmcm9tbG9ubGF0XCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjZW50ZXJQb2ludC50eXBlLCBjZW50ZXJQb2ludC5jb29yZGluYXRlLmxvbiwgY2VudGVyUG9pbnQuY29vcmRpbmF0ZS5sYXQpO1xuICAgIH1cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJCWVJBRElVU1wiIHx8IHNoYXBlLnR5cGUgPT09IFwiYnlyYWRpdXNcIikge1xuICAgICAgY29tbWFuZC5wdXNoKHNoYXBlLnR5cGUsIHNoYXBlLnJhZGl1cywgc2hhcGUucmFkaXVzVHlwZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZS50eXBlID09PSBcIkJZQk9YXCIgfHwgc2hhcGUudHlwZSA9PT0gXCJieWJveFwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goc2hhcGUudHlwZSwgc2hhcGUucmVjdC53aWR0aCwgc2hhcGUucmVjdC5oZWlnaHQsIHNoYXBlLnJlY3RUeXBlKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKG9yZGVyKTtcbiAgICBpZiAob3B0cz8uY291bnQpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcIkNPVU5UXCIsIG9wdHMuY291bnQubGltaXQsIC4uLm9wdHMuY291bnQuYW55ID8gW1wiQU5ZXCJdIDogW10pO1xuICAgIH1cbiAgICBzdXBlcihbLi4uY29tbWFuZCwgLi4ub3B0cz8uc3RvcmVEaXN0ID8gW1wiU1RPUkVESVNUXCJdIDogW11dLCBjb21tYW5kT3B0aW9ucyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZXQudHNcbnZhciBHZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZ2V0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZ2V0Yml0LnRzXG52YXIgR2V0Qml0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImdldGJpdFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dldGRlbC50c1xudmFyIEdldERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJnZXRkZWxcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZXRleC50c1xudmFyIEdldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG9wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcImdldGV4XCIsIGtleV07XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmIChcImV4XCIgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5leCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJleFwiLCBvcHRzLmV4KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJweFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMucHggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwicHhcIiwgb3B0cy5weCk7XG4gICAgICB9IGVsc2UgaWYgKFwiZXhhdFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuZXhhdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJleGF0XCIsIG9wdHMuZXhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwicHhhdFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMucHhhdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJweGF0XCIsIG9wdHMucHhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwicGVyc2lzdFwiIGluIG9wdHMgJiYgb3B0cy5wZXJzaXN0KSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcInBlcnNpc3RcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIGNtZE9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZ2V0cmFuZ2UudHNcbnZhciBHZXRSYW5nZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJnZXRyYW5nZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dldHNldC50c1xudmFyIEdldFNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJnZXRzZXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZGVsLnRzXG52YXIgSERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJoZGVsXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaGV4aXN0cy50c1xudmFyIEhFeGlzdHNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaGV4aXN0c1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hleHBpcmUudHNcbnZhciBIRXhwaXJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkcywgc2Vjb25kcywgb3B0aW9uXSA9IGNtZDtcbiAgICBjb25zdCBmaWVsZEFycmF5ID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogW2ZpZWxkc107XG4gICAgc3VwZXIoXG4gICAgICBbXG4gICAgICAgIFwiaGV4cGlyZVwiLFxuICAgICAgICBrZXksXG4gICAgICAgIHNlY29uZHMsXG4gICAgICAgIC4uLm9wdGlvbiA/IFtvcHRpb25dIDogW10sXG4gICAgICAgIFwiRklFTERTXCIsXG4gICAgICAgIGZpZWxkQXJyYXkubGVuZ3RoLFxuICAgICAgICAuLi5maWVsZEFycmF5XG4gICAgICBdLFxuICAgICAgb3B0c1xuICAgICk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZXhwaXJlYXQudHNcbnZhciBIRXhwaXJlQXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgW2tleSwgZmllbGRzLCB0aW1lc3RhbXAsIG9wdGlvbl0gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFxuICAgICAgW1xuICAgICAgICBcImhleHBpcmVhdFwiLFxuICAgICAgICBrZXksXG4gICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgLi4ub3B0aW9uID8gW29wdGlvbl0gOiBbXSxcbiAgICAgICAgXCJGSUVMRFNcIixcbiAgICAgICAgZmllbGRBcnJheS5sZW5ndGgsXG4gICAgICAgIC4uLmZpZWxkQXJyYXlcbiAgICAgIF0sXG4gICAgICBvcHRzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hleHBpcmV0aW1lLnRzXG52YXIgSEV4cGlyZVRpbWVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgW2tleSwgZmllbGRzXSA9IGNtZDtcbiAgICBjb25zdCBmaWVsZEFycmF5ID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogW2ZpZWxkc107XG4gICAgc3VwZXIoW1wiaGV4cGlyZXRpbWVcIiwga2V5LCBcIkZJRUxEU1wiLCBmaWVsZEFycmF5Lmxlbmd0aCwgLi4uZmllbGRBcnJheV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHBlcnNpc3QudHNcbnZhciBIUGVyc2lzdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBba2V5LCBmaWVsZHNdID0gY21kO1xuICAgIGNvbnN0IGZpZWxkQXJyYXkgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICBzdXBlcihbXCJocGVyc2lzdFwiLCBrZXksIFwiRklFTERTXCIsIGZpZWxkQXJyYXkubGVuZ3RoLCAuLi5maWVsZEFycmF5XSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ocGV4cGlyZS50c1xudmFyIEhQRXhwaXJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkcywgbWlsbGlzZWNvbmRzLCBvcHRpb25dID0gY21kO1xuICAgIGNvbnN0IGZpZWxkQXJyYXkgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICBzdXBlcihcbiAgICAgIFtcbiAgICAgICAgXCJocGV4cGlyZVwiLFxuICAgICAgICBrZXksXG4gICAgICAgIG1pbGxpc2Vjb25kcyxcbiAgICAgICAgLi4ub3B0aW9uID8gW29wdGlvbl0gOiBbXSxcbiAgICAgICAgXCJGSUVMRFNcIixcbiAgICAgICAgZmllbGRBcnJheS5sZW5ndGgsXG4gICAgICAgIC4uLmZpZWxkQXJyYXlcbiAgICAgIF0sXG4gICAgICBvcHRzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hwZXhwaXJlYXQudHNcbnZhciBIUEV4cGlyZUF0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkcywgdGltZXN0YW1wLCBvcHRpb25dID0gY21kO1xuICAgIGNvbnN0IGZpZWxkQXJyYXkgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICBzdXBlcihcbiAgICAgIFtcbiAgICAgICAgXCJocGV4cGlyZWF0XCIsXG4gICAgICAgIGtleSxcbiAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAuLi5vcHRpb24gPyBbb3B0aW9uXSA6IFtdLFxuICAgICAgICBcIkZJRUxEU1wiLFxuICAgICAgICBmaWVsZEFycmF5Lmxlbmd0aCxcbiAgICAgICAgLi4uZmllbGRBcnJheVxuICAgICAgXSxcbiAgICAgIG9wdHNcbiAgICApO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHBleHBpcmV0aW1lLnRzXG52YXIgSFBFeHBpcmVUaW1lQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkc10gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFtcImhwZXhwaXJldGltZVwiLCBrZXksIFwiRklFTERTXCIsIGZpZWxkQXJyYXkubGVuZ3RoLCAuLi5maWVsZEFycmF5XSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ocHR0bC50c1xudmFyIEhQVHRsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkc10gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFtcImhwdHRsXCIsIGtleSwgXCJGSUVMRFNcIiwgZmllbGRBcnJheS5sZW5ndGgsIC4uLmZpZWxkQXJyYXldLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hnZXQudHNcbnZhciBIR2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImhnZXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZ2V0YWxsLnRzXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZTQocmVzdWx0KSB7XG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgb2JqID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0W2ldO1xuICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0W2kgKyAxXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdmFsdWVJc051bWJlckFuZE5vdFNhZmVJbnRlZ2VyID0gIU51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSAmJiAhTnVtYmVyLmlzU2FmZUludGVnZXIoTnVtYmVyKHZhbHVlKSk7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlSXNOdW1iZXJBbmROb3RTYWZlSW50ZWdlciA/IHZhbHVlIDogSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxudmFyIEhHZXRBbGxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaGdldGFsbFwiLCAuLi5jbWRdLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogKHJlc3VsdCkgPT4gZGVzZXJpYWxpemU0KHJlc3VsdCksXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9obWdldC50c1xuZnVuY3Rpb24gZGVzZXJpYWxpemU1KGZpZWxkcywgcmVzdWx0KSB7XG4gIGlmIChyZXN1bHQuZXZlcnkoKGZpZWxkKSA9PiBmaWVsZCA9PT0gbnVsbCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChjb25zdCBbaSwgZmllbGRdIG9mIGZpZWxkcy5lbnRyaWVzKCkpIHtcbiAgICB0cnkge1xuICAgICAgb2JqW2ZpZWxkXSA9IEpTT04ucGFyc2UocmVzdWx0W2ldKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIG9ialtmaWVsZF0gPSByZXN1bHRbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG52YXIgSE1HZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgLi4uZmllbGRzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImhtZ2V0XCIsIGtleSwgLi4uZmllbGRzXSwge1xuICAgICAgZGVzZXJpYWxpemU6IChyZXN1bHQpID0+IGRlc2VyaWFsaXplNShmaWVsZHMsIHJlc3VsdCksXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZ2V0ZGVsLnRzXG52YXIgSEdldERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCAuLi5maWVsZHNdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaGdldGRlbFwiLCBrZXksIFwiRklFTERTXCIsIGZpZWxkcy5sZW5ndGgsIC4uLmZpZWxkc10sIHtcbiAgICAgIGRlc2VyaWFsaXplOiAocmVzdWx0KSA9PiBkZXNlcmlhbGl6ZTUoZmllbGRzLm1hcChTdHJpbmcpLCByZXN1bHQpLFxuICAgICAgLi4ub3B0c1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaGdldGV4LnRzXG52YXIgSEdldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG9wdHMsIC4uLmZpZWxkc10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiaGdldGV4XCIsIGtleV07XG4gICAgaWYgKFwiZXhcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmV4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJFWFwiLCBvcHRzLmV4KTtcbiAgICB9IGVsc2UgaWYgKFwicHhcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLnB4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJQWFwiLCBvcHRzLnB4KTtcbiAgICB9IGVsc2UgaWYgKFwiZXhhdFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuZXhhdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiRVhBVFwiLCBvcHRzLmV4YXQpO1xuICAgIH0gZWxzZSBpZiAoXCJweGF0XCIgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5weGF0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJQWEFUXCIsIG9wdHMucHhhdCk7XG4gICAgfSBlbHNlIGlmIChcInBlcnNpc3RcIiBpbiBvcHRzICYmIG9wdHMucGVyc2lzdCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwiUEVSU0lTVFwiKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKFwiRklFTERTXCIsIGZpZWxkcy5sZW5ndGgsIC4uLmZpZWxkcyk7XG4gICAgc3VwZXIoY29tbWFuZCwge1xuICAgICAgZGVzZXJpYWxpemU6IChyZXN1bHQpID0+IGRlc2VyaWFsaXplNShmaWVsZHMubWFwKFN0cmluZyksIHJlc3VsdCksXG4gICAgICAuLi5jbWRPcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oaW5jcmJ5LnRzXG52YXIgSEluY3JCeUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJoaW5jcmJ5XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaGluY3JieWZsb2F0LnRzXG52YXIgSEluY3JCeUZsb2F0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImhpbmNyYnlmbG9hdFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hrZXlzLnRzXG52YXIgSEtleXNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleV0sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJoa2V5c1wiLCBrZXldLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hsZW4udHNcbnZhciBITGVuQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImhsZW5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9obXNldC50c1xudmFyIEhNU2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGt2XSwgb3B0cykge1xuICAgIHN1cGVyKFtcImhtc2V0XCIsIGtleSwgLi4uT2JqZWN0LmVudHJpZXMoa3YpLmZsYXRNYXAoKFtmaWVsZCwgdmFsdWVdKSA9PiBbZmllbGQsIHZhbHVlXSldLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hzY2FuLnRzXG52YXIgSFNjYW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgY3Vyc29yLCBjbWRPcHRzXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJoc2NhblwiLCBrZXksIGN1cnNvcl07XG4gICAgaWYgKGNtZE9wdHM/Lm1hdGNoKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJtYXRjaFwiLCBjbWRPcHRzLm1hdGNoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjbWRPcHRzPy5jb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiY291bnRcIiwgY21kT3B0cy5jb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIHtcbiAgICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZVNjYW5SZXNwb25zZSxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hzZXQudHNcbnZhciBIU2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGt2XSwgb3B0cykge1xuICAgIHN1cGVyKFtcImhzZXRcIiwga2V5LCAuLi5PYmplY3QuZW50cmllcyhrdikuZmxhdE1hcCgoW2ZpZWxkLCB2YWx1ZV0pID0+IFtmaWVsZCwgdmFsdWVdKV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHNldGV4LnRzXG52YXIgSFNldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG9wdHMsIGt2XSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJoc2V0ZXhcIiwga2V5XTtcbiAgICBpZiAob3B0cy5jb25kaXRpb25hbCkge1xuICAgICAgY29tbWFuZC5wdXNoKG9wdHMuY29uZGl0aW9uYWwudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuICAgIGlmIChvcHRzLmV4cGlyYXRpb24pIHtcbiAgICAgIGlmIChcImV4XCIgaW4gb3B0cy5leHBpcmF0aW9uICYmIHR5cGVvZiBvcHRzLmV4cGlyYXRpb24uZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiRVhcIiwgb3B0cy5leHBpcmF0aW9uLmV4KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJweFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiB0eXBlb2Ygb3B0cy5leHBpcmF0aW9uLnB4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIlBYXCIsIG9wdHMuZXhwaXJhdGlvbi5weCk7XG4gICAgICB9IGVsc2UgaWYgKFwiZXhhdFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiB0eXBlb2Ygb3B0cy5leHBpcmF0aW9uLmV4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiRVhBVFwiLCBvcHRzLmV4cGlyYXRpb24uZXhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwicHhhdFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiB0eXBlb2Ygb3B0cy5leHBpcmF0aW9uLnB4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiUFhBVFwiLCBvcHRzLmV4cGlyYXRpb24ucHhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwia2VlcHR0bFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiBvcHRzLmV4cGlyYXRpb24ua2VlcHR0bCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJLRUVQVFRMXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoa3YpO1xuICAgIGNvbW1hbmQucHVzaChcIkZJRUxEU1wiLCBlbnRyaWVzLmxlbmd0aCk7XG4gICAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBlbnRyaWVzKSB7XG4gICAgICBjb21tYW5kLnB1c2goZmllbGQsIHZhbHVlKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oc2V0bngudHNcbnZhciBIU2V0TlhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaHNldG54XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHN0cmxlbi50c1xudmFyIEhTdHJMZW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaHN0cmxlblwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2h0dGwudHNcbnZhciBIVHRsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkc10gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFtcImh0dGxcIiwga2V5LCBcIkZJRUxEU1wiLCBmaWVsZEFycmF5Lmxlbmd0aCwgLi4uZmllbGRBcnJheV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHZhbHMudHNcbnZhciBIVmFsc0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJodmFsc1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2luY3IudHNcbnZhciBJbmNyQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImluY3JcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9pbmNyYnkudHNcbnZhciBJbmNyQnlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaW5jcmJ5XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaW5jcmJ5ZmxvYXQudHNcbnZhciBJbmNyQnlGbG9hdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJpbmNyYnlmbG9hdFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJyYXBwZW5kLnRzXG52YXIgSnNvbkFyckFwcGVuZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkFSUkFQUEVORFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJyaW5kZXgudHNcbnZhciBKc29uQXJySW5kZXhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5BUlJJTkRFWFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJyaW5zZXJ0LnRzXG52YXIgSnNvbkFyckluc2VydENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkFSUklOU0VSVFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJybGVuLnRzXG52YXIgSnNvbkFyckxlbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkFSUkxFTlwiLCBjbWRbMF0sIGNtZFsxXSA/PyBcIiRcIl0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9hcnJwb3AudHNcbnZhciBKc29uQXJyUG9wQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIkpTT04uQVJSUE9QXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9hcnJ0cmltLnRzXG52YXIgSnNvbkFyclRyaW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgcGF0aCA9IGNtZFsxXSA/PyBcIiRcIjtcbiAgICBjb25zdCBzdGFydCA9IGNtZFsyXSA/PyAwO1xuICAgIGNvbnN0IHN0b3AgPSBjbWRbM10gPz8gMDtcbiAgICBzdXBlcihbXCJKU09OLkFSUlRSSU1cIiwgY21kWzBdLCBwYXRoLCBzdGFydCwgc3RvcF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9jbGVhci50c1xudmFyIEpzb25DbGVhckNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkNMRUFSXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9kZWwudHNcbnZhciBKc29uRGVsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIkpTT04uREVMXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9mb3JnZXQudHNcbnZhciBKc29uRm9yZ2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIkpTT04uRk9SR0VUXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9nZXQudHNcbnZhciBKc29uR2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJKU09OLkdFVFwiXTtcbiAgICBpZiAodHlwZW9mIGNtZFsxXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29tbWFuZC5wdXNoKC4uLmNtZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1hbmQucHVzaChjbWRbMF0pO1xuICAgICAgaWYgKGNtZFsxXSkge1xuICAgICAgICBpZiAoY21kWzFdLmluZGVudCkge1xuICAgICAgICAgIGNvbW1hbmQucHVzaChcIklOREVOVFwiLCBjbWRbMV0uaW5kZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21kWzFdLm5ld2xpbmUpIHtcbiAgICAgICAgICBjb21tYW5kLnB1c2goXCJORVdMSU5FXCIsIGNtZFsxXS5uZXdsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21kWzFdLnNwYWNlKSB7XG4gICAgICAgICAgY29tbWFuZC5wdXNoKFwiU1BBQ0VcIiwgY21kWzFdLnNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29tbWFuZC5wdXNoKC4uLmNtZC5zbGljZSgyKSk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9tZXJnZS50c1xudmFyIEpzb25NZXJnZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiSlNPTi5NRVJHRVwiLCAuLi5jbWRdO1xuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9tZ2V0LnRzXG52YXIgSnNvbk1HZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5NR0VUXCIsIC4uLmNtZFswXSwgY21kWzFdXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX21zZXQudHNcbnZhciBKc29uTVNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiSlNPTi5NU0VUXCJdO1xuICAgIGZvciAoY29uc3QgYyBvZiBjbWQpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjLmtleSwgYy5wYXRoLCBjLnZhbHVlKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX251bWluY3JieS50c1xudmFyIEpzb25OdW1JbmNyQnlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5OVU1JTkNSQllcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX251bW11bHRieS50c1xudmFyIEpzb25OdW1NdWx0QnlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5OVU1NVUxUQllcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX29iamtleXMudHNcbnZhciBKc29uT2JqS2V5c0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLk9CSktFWVNcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX29iamxlbi50c1xudmFyIEpzb25PYmpMZW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5PQkpMRU5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3Jlc3AudHNcbnZhciBKc29uUmVzcENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLlJFU1BcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3NldC50c1xudmFyIEpzb25TZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcIkpTT04uU0VUXCIsIGNtZFswXSwgY21kWzFdLCBjbWRbMl1dO1xuICAgIGlmIChjbWRbM10pIHtcbiAgICAgIGlmIChjbWRbM10ubngpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiTlhcIik7XG4gICAgICB9IGVsc2UgaWYgKGNtZFszXS54eCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJYWFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3N0cmFwcGVuZC50c1xudmFyIEpzb25TdHJBcHBlbmRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5TVFJBUFBFTkRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3N0cmxlbi50c1xudmFyIEpzb25TdHJMZW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5TVFJMRU5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3RvZ2dsZS50c1xudmFyIEpzb25Ub2dnbGVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5UT0dHTEVcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3R5cGUudHNcbnZhciBKc29uVHlwZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLlRZUEVcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9rZXlzLnRzXG52YXIgS2V5c0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJrZXlzXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbGluZGV4LnRzXG52YXIgTEluZGV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxpbmRleFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xpbnNlcnQudHNcbnZhciBMSW5zZXJ0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxpbnNlcnRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9sbGVuLnRzXG52YXIgTExlbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsbGVuXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbG1vdmUudHNcbnZhciBMTW92ZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsbW92ZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xtcG9wLnRzXG52YXIgTG1Qb3BDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgW251bWtleXMsIGtleXMsIGRpcmVjdGlvbiwgY291bnRdID0gY21kO1xuICAgIHN1cGVyKFtcIkxNUE9QXCIsIG51bWtleXMsIC4uLmtleXMsIGRpcmVjdGlvbiwgLi4uY291bnQgPyBbXCJDT1VOVFwiLCBjb3VudF0gOiBbXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbHBvcC50c1xudmFyIExQb3BDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibHBvcFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xwb3MudHNcbnZhciBMUG9zQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGFyZ3MgPSBbXCJscG9zXCIsIGNtZFswXSwgY21kWzFdXTtcbiAgICBpZiAodHlwZW9mIGNtZFsyXT8ucmFuayA9PT0gXCJudW1iZXJcIikge1xuICAgICAgYXJncy5wdXNoKFwicmFua1wiLCBjbWRbMl0ucmFuayk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY21kWzJdPy5jb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgYXJncy5wdXNoKFwiY291bnRcIiwgY21kWzJdLmNvdW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjbWRbMl0/Lm1heExlbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgYXJncy5wdXNoKFwibWF4TGVuXCIsIGNtZFsyXS5tYXhMZW4pO1xuICAgIH1cbiAgICBzdXBlcihhcmdzLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xwdXNoLnRzXG52YXIgTFB1c2hDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibHB1c2hcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9scHVzaHgudHNcbnZhciBMUHVzaFhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibHB1c2h4XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbHJhbmdlLnRzXG52YXIgTFJhbmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxyYW5nZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xyZW0udHNcbnZhciBMUmVtQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxyZW1cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9sc2V0LnRzXG52YXIgTFNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsc2V0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbHRyaW0udHNcbnZhciBMVHJpbUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsdHJpbVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL21nZXQudHNcbnZhciBNR2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5pc0FycmF5KGNtZFswXSkgPyBjbWRbMF0gOiBjbWQ7XG4gICAgc3VwZXIoW1wibWdldFwiLCAuLi5rZXlzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9tc2V0LnRzXG52YXIgTVNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba3ZdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibXNldFwiLCAuLi5PYmplY3QuZW50cmllcyhrdikuZmxhdE1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCB2YWx1ZV0pXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9tc2V0bngudHNcbnZhciBNU2V0TlhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2t2XSwgb3B0cykge1xuICAgIHN1cGVyKFtcIm1zZXRueFwiLCAuLi5PYmplY3QuZW50cmllcyhrdikuZmxhdCgpXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9wZXJzaXN0LnRzXG52YXIgUGVyc2lzdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJwZXJzaXN0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcGV4cGlyZS50c1xudmFyIFBFeHBpcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wicGV4cGlyZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3BleHBpcmVhdC50c1xudmFyIFBFeHBpcmVBdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJwZXhwaXJlYXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9wZmFkZC50c1xudmFyIFBmQWRkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInBmYWRkXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcGZjb3VudC50c1xudmFyIFBmQ291bnRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wicGZjb3VudFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3BmbWVyZ2UudHNcbnZhciBQZk1lcmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInBmbWVyZ2VcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9waW5nLnRzXG52YXIgUGluZ0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wicGluZ1wiXTtcbiAgICBpZiAoY21kPy5bMF0gIT09IHZvaWQgMCkge1xuICAgICAgY29tbWFuZC5wdXNoKGNtZFswXSk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcHNldGV4LnRzXG52YXIgUFNldEVYQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInBzZXRleFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3B0dGwudHNcbnZhciBQVHRsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInB0dGxcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9wdWJsaXNoLnRzXG52YXIgUHVibGlzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJwdWJsaXNoXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcmFuZG9ta2V5LnRzXG52YXIgUmFuZG9tS2V5Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihbXCJyYW5kb21rZXlcIl0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcmVuYW1lLnRzXG52YXIgUmVuYW1lQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInJlbmFtZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3JlbmFtZW54LnRzXG52YXIgUmVuYW1lTlhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wicmVuYW1lbnhcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ycG9wLnRzXG52YXIgUlBvcENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJycG9wXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcnB1c2gudHNcbnZhciBSUHVzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJycHVzaFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3JwdXNoeC50c1xudmFyIFJQdXNoWENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJycHVzaHhcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zYWRkLnRzXG52YXIgU0FkZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzYWRkXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2Nhbi50c1xudmFyIFNjYW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2N1cnNvciwgb3B0c10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wic2NhblwiLCBjdXJzb3JdO1xuICAgIGlmIChvcHRzPy5tYXRjaCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibWF0Y2hcIiwgb3B0cy5tYXRjaCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cz8uY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImNvdW50XCIsIG9wdHMuY291bnQpO1xuICAgIH1cbiAgICBpZiAob3B0cyAmJiBcIndpdGhUeXBlXCIgaW4gb3B0cyAmJiBvcHRzLndpdGhUeXBlID09PSB0cnVlKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJ3aXRodHlwZVwiKTtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgXCJ0eXBlXCIgaW4gb3B0cyAmJiBvcHRzLnR5cGUgJiYgb3B0cy50eXBlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbW1hbmQucHVzaChcInR5cGVcIiwgb3B0cy50eXBlKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZ25vcmUgdHlwZXMgaGVyZVxuICAgICAgZGVzZXJpYWxpemU6IG9wdHM/LndpdGhUeXBlID8gZGVzZXJpYWxpemVTY2FuV2l0aFR5cGVzUmVzcG9uc2UgOiBkZXNlcmlhbGl6ZVNjYW5SZXNwb25zZSxcbiAgICAgIC4uLmNtZE9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NjYXJkLnRzXG52YXIgU0NhcmRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2NhcmRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zY3JpcHRfZXhpc3RzLnRzXG52YXIgU2NyaXB0RXhpc3RzQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGhhc2hlcywgb3B0cykge1xuICAgIHN1cGVyKFtcInNjcmlwdFwiLCBcImV4aXN0c1wiLCAuLi5oYXNoZXNdLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogKHJlc3VsdCkgPT4gcmVzdWx0LFxuICAgICAgLi4ub3B0c1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2NyaXB0X2ZsdXNoLnRzXG52YXIgU2NyaXB0Rmx1c2hDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW29wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY21kID0gW1wic2NyaXB0XCIsIFwiZmx1c2hcIl07XG4gICAgaWYgKG9wdHM/LnN5bmMpIHtcbiAgICAgIGNtZC5wdXNoKFwic3luY1wiKTtcbiAgICB9IGVsc2UgaWYgKG9wdHM/LmFzeW5jKSB7XG4gICAgICBjbWQucHVzaChcImFzeW5jXCIpO1xuICAgIH1cbiAgICBzdXBlcihjbWQsIGNtZE9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2NyaXB0X2xvYWQudHNcbnZhciBTY3JpcHRMb2FkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGFyZ3MsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzY3JpcHRcIiwgXCJsb2FkXCIsIC4uLmFyZ3NdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NkaWZmLnRzXG52YXIgU0RpZmZDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2RpZmZcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zZGlmZnN0b3JlLnRzXG52YXIgU0RpZmZTdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzZGlmZnN0b3JlXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2V0LnRzXG52YXIgU2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIHZhbHVlLCBvcHRzXSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzZXRcIiwga2V5LCB2YWx1ZV07XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmIChcIm54XCIgaW4gb3B0cyAmJiBvcHRzLm54KSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIm54XCIpO1xuICAgICAgfSBlbHNlIGlmIChcInh4XCIgaW4gb3B0cyAmJiBvcHRzLnh4KSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcInh4XCIpO1xuICAgICAgfVxuICAgICAgaWYgKFwiZ2V0XCIgaW4gb3B0cyAmJiBvcHRzLmdldCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJnZXRcIik7XG4gICAgICB9XG4gICAgICBpZiAoXCJleFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiZXhcIiwgb3B0cy5leCk7XG4gICAgICB9IGVsc2UgaWYgKFwicHhcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLnB4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcInB4XCIsIG9wdHMucHgpO1xuICAgICAgfSBlbHNlIGlmIChcImV4YXRcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmV4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiZXhhdFwiLCBvcHRzLmV4YXQpO1xuICAgICAgfSBlbHNlIGlmIChcInB4YXRcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLnB4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwicHhhdFwiLCBvcHRzLnB4YXQpO1xuICAgICAgfSBlbHNlIGlmIChcImtlZXBUdGxcIiBpbiBvcHRzICYmIG9wdHMua2VlcFR0bCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJrZWVwVHRsXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NldGJpdC50c1xudmFyIFNldEJpdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzZXRiaXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zZXRleC50c1xudmFyIFNldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInNldGV4XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2V0bngudHNcbnZhciBTZXROeENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzZXRueFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NldHJhbmdlLnRzXG52YXIgU2V0UmFuZ2VDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2V0cmFuZ2VcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zaW50ZXIudHNcbnZhciBTSW50ZXJDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2ludGVyXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2ludGVyc3RvcmUudHNcbnZhciBTSW50ZXJTdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzaW50ZXJzdG9yZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3Npc21lbWJlci50c1xudmFyIFNJc01lbWJlckNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzaXNtZW1iZXJcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zbWVtYmVycy50c1xudmFyIFNNZW1iZXJzQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInNtZW1iZXJzXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc21pc21lbWJlci50c1xudmFyIFNNSXNNZW1iZXJDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic21pc21lbWJlclwiLCBjbWRbMF0sIC4uLmNtZFsxXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc21vdmUudHNcbnZhciBTTW92ZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzbW92ZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3Nwb3AudHNcbnZhciBTUG9wQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzcG9wXCIsIGtleV07XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKGNvdW50KTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zcmFuZG1lbWJlci50c1xudmFyIFNSYW5kTWVtYmVyQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzcmFuZG1lbWJlclwiLCBrZXldO1xuICAgIGlmICh0eXBlb2YgY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc3JlbS50c1xudmFyIFNSZW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic3JlbVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NzY2FuLnRzXG52YXIgU1NjYW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgY3Vyc29yLCBvcHRzXSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzc2NhblwiLCBrZXksIGN1cnNvcl07XG4gICAgaWYgKG9wdHM/Lm1hdGNoKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJtYXRjaFwiLCBvcHRzLm1hdGNoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzPy5jb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiY291bnRcIiwgb3B0cy5jb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIHtcbiAgICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZVNjYW5SZXNwb25zZSxcbiAgICAgIC4uLmNtZE9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3N0cmxlbi50c1xudmFyIFN0ckxlbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzdHJsZW5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zdW5pb24udHNcbnZhciBTVW5pb25Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic3VuaW9uXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc3VuaW9uc3RvcmUudHNcbnZhciBTVW5pb25TdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzdW5pb25zdG9yZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3RpbWUudHNcbnZhciBUaW1lQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihbXCJ0aW1lXCJdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3RvdWNoLnRzXG52YXIgVG91Y2hDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1widG91Y2hcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy90dGwudHNcbnZhciBUdGxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1widHRsXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvdHlwZS50c1xudmFyIFR5cGVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1widHlwZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3VubGluay50c1xudmFyIFVubGlua0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ1bmxpbmtcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94YWNrLnRzXG52YXIgWEFja0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBncm91cCwgaWRdLCBvcHRzKSB7XG4gICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShpZCkgPyBbLi4uaWRdIDogW2lkXTtcbiAgICBzdXBlcihbXCJYQUNLXCIsIGtleSwgZ3JvdXAsIC4uLmlkc10sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveGFja2RlbC50c1xudmFyIFhBY2tEZWxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgZ3JvdXAsIG9wdHMsIC4uLmlkc10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiWEFDS0RFTFwiLCBrZXksIGdyb3VwXTtcbiAgICBjb21tYW5kLnB1c2gob3B0cy50b1VwcGVyQ2FzZSgpKTtcbiAgICBjb21tYW5kLnB1c2goXCJJRFNcIiwgaWRzLmxlbmd0aCwgLi4uaWRzKTtcbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hhZGQudHNcbnZhciBYQWRkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGlkLCBlbnRyaWVzLCBvcHRzXSwgY29tbWFuZE9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiWEFERFwiLCBrZXldO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAob3B0cy5ub21rU3RyZWFtKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIk5PTUtTVFJFQU1cIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy50cmltKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChvcHRzLnRyaW0udHlwZSwgb3B0cy50cmltLmNvbXBhcmlzb24sIG9wdHMudHJpbS50aHJlc2hvbGQpO1xuICAgICAgICBpZiAob3B0cy50cmltLmxpbWl0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjb21tYW5kLnB1c2goXCJMSU1JVFwiLCBvcHRzLnRyaW0ubGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbW1hbmQucHVzaChpZCk7XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZW50cmllcykpIHtcbiAgICAgIGNvbW1hbmQucHVzaChrLCB2KTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY29tbWFuZE9wdGlvbnMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveGF1dG9jbGFpbS50c1xudmFyIFhBdXRvQ2xhaW0gPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBncm91cCwgY29uc3VtZXIsIG1pbklkbGVUaW1lLCBzdGFydCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICAgIGlmIChvcHRpb25zPy5jb3VudCkge1xuICAgICAgY29tbWFuZHMucHVzaChcIkNPVU5UXCIsIG9wdGlvbnMuY291bnQpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8uanVzdElkKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiSlVTVElEXCIpO1xuICAgIH1cbiAgICBzdXBlcihbXCJYQVVUT0NMQUlNXCIsIGtleSwgZ3JvdXAsIGNvbnN1bWVyLCBtaW5JZGxlVGltZSwgc3RhcnQsIC4uLmNvbW1hbmRzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94Y2xhaW0udHNcbnZhciBYQ2xhaW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgZ3JvdXAsIGNvbnN1bWVyLCBtaW5JZGxlVGltZSwgaWQsIG9wdGlvbnNdLCBvcHRzKSB7XG4gICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShpZCkgPyBbLi4uaWRdIDogW2lkXTtcbiAgICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICAgIGlmIChvcHRpb25zPy5pZGxlTVMpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJJRExFXCIsIG9wdGlvbnMuaWRsZU1TKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LmlkbGVNUykge1xuICAgICAgY29tbWFuZHMucHVzaChcIlRJTUVcIiwgb3B0aW9ucy50aW1lTVMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8ucmV0cnlDb3VudCkge1xuICAgICAgY29tbWFuZHMucHVzaChcIlJFVFJZQ09VTlRcIiwgb3B0aW9ucy5yZXRyeUNvdW50KTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LmZvcmNlKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiRk9SQ0VcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5qdXN0SWQpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJKVVNUSURcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5sYXN0SWQpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJMQVNUSURcIiwgb3B0aW9ucy5sYXN0SWQpO1xuICAgIH1cbiAgICBzdXBlcihbXCJYQ0xBSU1cIiwga2V5LCBncm91cCwgY29uc3VtZXIsIG1pbklkbGVUaW1lLCAuLi5pZHMsIC4uLmNvbW1hbmRzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94ZGVsLnRzXG52YXIgWERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBpZHNdLCBvcHRzKSB7XG4gICAgY29uc3QgY21kcyA9IEFycmF5LmlzQXJyYXkoaWRzKSA/IFsuLi5pZHNdIDogW2lkc107XG4gICAgc3VwZXIoW1wiWERFTFwiLCBrZXksIC4uLmNtZHNdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hkZWxleC50c1xudmFyIFhEZWxFeENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBvcHRzLCAuLi5pZHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcIlhERUxFWFwiLCBrZXldO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBjb21tYW5kLnB1c2gob3B0cy50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKFwiSURTXCIsIGlkcy5sZW5ndGgsIC4uLmlkcyk7XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94Z3JvdXAudHNcbnZhciBYR3JvdXBDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgb3B0c10sIGNvbW1hbmRPcHRpb25zKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcIlhHUk9VUFwiXTtcbiAgICBzd2l0Y2ggKG9wdHMudHlwZSkge1xuICAgICAgY2FzZSBcIkNSRUFURVwiOiB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIkNSRUFURVwiLCBrZXksIG9wdHMuZ3JvdXAsIG9wdHMuaWQpO1xuICAgICAgICBpZiAob3B0cy5vcHRpb25zKSB7XG4gICAgICAgICAgaWYgKG9wdHMub3B0aW9ucy5NS1NUUkVBTSkge1xuICAgICAgICAgICAgY29tbWFuZC5wdXNoKFwiTUtTVFJFQU1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvcHRzLm9wdGlvbnMuRU5UUklFU1JFQUQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29tbWFuZC5wdXNoKFwiRU5UUklFU1JFQURcIiwgb3B0cy5vcHRpb25zLkVOVFJJRVNSRUFELnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJDUkVBVEVDT05TVU1FUlwiOiB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIkNSRUFURUNPTlNVTUVSXCIsIGtleSwgb3B0cy5ncm91cCwgb3B0cy5jb25zdW1lcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIkRFTENPTlNVTUVSXCI6IHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiREVMQ09OU1VNRVJcIiwga2V5LCBvcHRzLmdyb3VwLCBvcHRzLmNvbnN1bWVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiREVTVFJPWVwiOiB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIkRFU1RST1lcIiwga2V5LCBvcHRzLmdyb3VwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiU0VUSURcIjoge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJTRVRJRFwiLCBrZXksIG9wdHMuZ3JvdXAsIG9wdHMuaWQpO1xuICAgICAgICBpZiAob3B0cy5vcHRpb25zPy5FTlRSSUVTUkVBRCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgY29tbWFuZC5wdXNoKFwiRU5UUklFU1JFQURcIiwgb3B0cy5vcHRpb25zLkVOVFJJRVNSRUFELnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFhHUk9VUFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY29tbWFuZE9wdGlvbnMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveGluZm8udHNcbnZhciBYSW5mb0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBvcHRpb25zXSwgb3B0cykge1xuICAgIGNvbnN0IGNtZHMgPSBbXTtcbiAgICBpZiAob3B0aW9ucy50eXBlID09PSBcIkNPTlNVTUVSU1wiKSB7XG4gICAgICBjbWRzLnB1c2goXCJDT05TVU1FUlNcIiwga2V5LCBvcHRpb25zLmdyb3VwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY21kcy5wdXNoKFwiR1JPVVBTXCIsIGtleSk7XG4gICAgfVxuICAgIHN1cGVyKFtcIlhJTkZPXCIsIC4uLmNtZHNdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hsZW4udHNcbnZhciBYTGVuQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIlhMRU5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94cGVuZGluZy50c1xudmFyIFhQZW5kaW5nQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGdyb3VwLCBzdGFydCwgZW5kLCBjb3VudCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBjb25zdCBjb25zdW1lcnMgPSBvcHRpb25zPy5jb25zdW1lciA9PT0gdm9pZCAwID8gW10gOiBBcnJheS5pc0FycmF5KG9wdGlvbnMuY29uc3VtZXIpID8gWy4uLm9wdGlvbnMuY29uc3VtZXJdIDogW29wdGlvbnMuY29uc3VtZXJdO1xuICAgIHN1cGVyKFxuICAgICAgW1xuICAgICAgICBcIlhQRU5ESU5HXCIsXG4gICAgICAgIGtleSxcbiAgICAgICAgZ3JvdXAsXG4gICAgICAgIC4uLm9wdGlvbnM/LmlkbGVUaW1lID8gW1wiSURMRVwiLCBvcHRpb25zLmlkbGVUaW1lXSA6IFtdLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kLFxuICAgICAgICBjb3VudCxcbiAgICAgICAgLi4uY29uc3VtZXJzXG4gICAgICBdLFxuICAgICAgb3B0c1xuICAgICk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94cmFuZ2UudHNcbmZ1bmN0aW9uIGRlc2VyaWFsaXplNihyZXN1bHQpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGZvciAoY29uc3QgZSBvZiByZXN1bHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGNvbnN0IHN0cmVhbUlkID0gZVtpXTtcbiAgICAgIGNvbnN0IGVudHJpZXMgPSBlW2kgKyAxXTtcbiAgICAgIGlmICghKHN0cmVhbUlkIGluIG9iaikpIHtcbiAgICAgICAgb2JqW3N0cmVhbUlkXSA9IHt9O1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbnRyaWVzLmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZW50cmllc1tqXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbnRyaWVzW2ogKyAxXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvYmpbc3RyZWFtSWRdW2ZpZWxkXSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBvYmpbc3RyZWFtSWRdW2ZpZWxkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG52YXIgWFJhbmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIHN0YXJ0LCBlbmQsIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJYUkFOR0VcIiwga2V5LCBzdGFydCwgZW5kXTtcbiAgICBpZiAodHlwZW9mIGNvdW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJDT1VOVFwiLCBjb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIHtcbiAgICAgIGRlc2VyaWFsaXplOiAocmVzdWx0KSA9PiBkZXNlcmlhbGl6ZTYocmVzdWx0KSxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hyZWFkLnRzXG52YXIgVU5CQUxBTkNFRF9YUkVBRF9FUlIgPSBcIkVSUiBVbmJhbGFuY2VkIFhSRUFEIGxpc3Qgb2Ygc3RyZWFtczogZm9yIGVhY2ggc3RyZWFtIGtleSBhbiBJRCBvciAnJCcgbXVzdCBiZSBzcGVjaWZpZWRcIjtcbnZhciBYUmVhZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBpZCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpICYmIEFycmF5LmlzQXJyYXkoaWQpICYmIGtleS5sZW5ndGggIT09IGlkLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFVOQkFMQU5DRURfWFJFQURfRVJSKTtcbiAgICB9XG4gICAgY29uc3QgY29tbWFuZHMgPSBbXTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnM/LmNvdW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiQ09VTlRcIiwgb3B0aW9ucy5jb3VudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucz8uYmxvY2tNUyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZHMucHVzaChcIkJMT0NLXCIsIG9wdGlvbnMuYmxvY2tNUyk7XG4gICAgfVxuICAgIGNvbW1hbmRzLnB1c2goXG4gICAgICBcIlNUUkVBTVNcIixcbiAgICAgIC4uLkFycmF5LmlzQXJyYXkoa2V5KSA/IFsuLi5rZXldIDogW2tleV0sXG4gICAgICAuLi5BcnJheS5pc0FycmF5KGlkKSA/IFsuLi5pZF0gOiBbaWRdXG4gICAgKTtcbiAgICBzdXBlcihbXCJYUkVBRFwiLCAuLi5jb21tYW5kc10sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveHJlYWRncm91cC50c1xudmFyIFVOQkFMQU5DRURfWFJFQURHUk9VUF9FUlIgPSBcIkVSUiBVbmJhbGFuY2VkIFhSRUFER1JPVVAgbGlzdCBvZiBzdHJlYW1zOiBmb3IgZWFjaCBzdHJlYW0ga2V5IGFuIElEIG9yICckJyBtdXN0IGJlIHNwZWNpZmllZFwiO1xudmFyIFhSZWFkR3JvdXBDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2dyb3VwLCBjb25zdW1lciwga2V5LCBpZCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpICYmIEFycmF5LmlzQXJyYXkoaWQpICYmIGtleS5sZW5ndGggIT09IGlkLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFVOQkFMQU5DRURfWFJFQURHUk9VUF9FUlIpO1xuICAgIH1cbiAgICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucz8uY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJDT1VOVFwiLCBvcHRpb25zLmNvdW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zPy5ibG9ja01TID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiQkxPQ0tcIiwgb3B0aW9ucy5ibG9ja01TKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zPy5OT0FDSyA9PT0gXCJib29sZWFuXCIgJiYgb3B0aW9ucy5OT0FDSykge1xuICAgICAgY29tbWFuZHMucHVzaChcIk5PQUNLXCIpO1xuICAgIH1cbiAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgXCJTVFJFQU1TXCIsXG4gICAgICAuLi5BcnJheS5pc0FycmF5KGtleSkgPyBbLi4ua2V5XSA6IFtrZXldLFxuICAgICAgLi4uQXJyYXkuaXNBcnJheShpZCkgPyBbLi4uaWRdIDogW2lkXVxuICAgICk7XG4gICAgc3VwZXIoW1wiWFJFQURHUk9VUFwiLCBcIkdST1VQXCIsIGdyb3VwLCBjb25zdW1lciwgLi4uY29tbWFuZHNdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hyZXZyYW5nZS50c1xudmFyIFhSZXZSYW5nZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBlbmQsIHN0YXJ0LCBjb3VudF0sIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiWFJFVlJBTkdFXCIsIGtleSwgZW5kLCBzdGFydF07XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiQ09VTlRcIiwgY291bnQpO1xuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogKHJlc3VsdCkgPT4gZGVzZXJpYWxpemU3KHJlc3VsdCksXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZTcocmVzdWx0KSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBmb3IgKGNvbnN0IGUgb2YgcmVzdWx0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCBzdHJlYW1JZCA9IGVbaV07XG4gICAgICBjb25zdCBlbnRyaWVzID0gZVtpICsgMV07XG4gICAgICBpZiAoIShzdHJlYW1JZCBpbiBvYmopKSB7XG4gICAgICAgIG9ialtzdHJlYW1JZF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZW50cmllcy5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGVudHJpZXNbal07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZW50cmllc1tqICsgMV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb2JqW3N0cmVhbUlkXVtmaWVsZF0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgb2JqW3N0cmVhbUlkXVtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vLyBwa2cvY29tbWFuZHMveHRyaW0udHNcbnZhciBYVHJpbUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBvcHRpb25zXSwgb3B0cykge1xuICAgIGNvbnN0IHsgbGltaXQsIHN0cmF0ZWd5LCB0aHJlc2hvbGQsIGV4YWN0bmVzcyA9IFwiflwiIH0gPSBvcHRpb25zO1xuICAgIHN1cGVyKFtcIlhUUklNXCIsIGtleSwgc3RyYXRlZ3ksIGV4YWN0bmVzcywgdGhyZXNob2xkLCAuLi5saW1pdCA/IFtcIkxJTUlUXCIsIGxpbWl0XSA6IFtdXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96YWRkLnRzXG52YXIgWkFkZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBhcmcxLCAuLi5hcmcyXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJ6YWRkXCIsIGtleV07XG4gICAgaWYgKFwibnhcIiBpbiBhcmcxICYmIGFyZzEubngpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcIm54XCIpO1xuICAgIH0gZWxzZSBpZiAoXCJ4eFwiIGluIGFyZzEgJiYgYXJnMS54eCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwieHhcIik7XG4gICAgfVxuICAgIGlmIChcImNoXCIgaW4gYXJnMSAmJiBhcmcxLmNoKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJjaFwiKTtcbiAgICB9XG4gICAgaWYgKFwiaW5jclwiIGluIGFyZzEgJiYgYXJnMS5pbmNyKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJpbmNyXCIpO1xuICAgIH1cbiAgICBpZiAoXCJsdFwiIGluIGFyZzEgJiYgYXJnMS5sdCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibHRcIik7XG4gICAgfSBlbHNlIGlmIChcImd0XCIgaW4gYXJnMSAmJiBhcmcxLmd0KSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJndFwiKTtcbiAgICB9XG4gICAgaWYgKFwic2NvcmVcIiBpbiBhcmcxICYmIFwibWVtYmVyXCIgaW4gYXJnMSkge1xuICAgICAgY29tbWFuZC5wdXNoKGFyZzEuc2NvcmUsIGFyZzEubWVtYmVyKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKC4uLmFyZzIuZmxhdE1hcCgoeyBzY29yZSwgbWVtYmVyIH0pID0+IFtzY29yZSwgbWVtYmVyXSkpO1xuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvemNhcmQudHNcbnZhciBaQ2FyZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ6Y2FyZFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pjb3VudC50c1xudmFyIFpDb3VudENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ6Y291bnRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96aW5jcmJ5LnRzXG52YXIgWkluY3JCeUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ6aW5jcmJ5XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvemludGVyc3RvcmUudHNcbnZhciBaSW50ZXJTdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbZGVzdGluYXRpb24sIG51bUtleXMsIGtleU9yS2V5cywgb3B0c10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiemludGVyc3RvcmVcIiwgZGVzdGluYXRpb24sIG51bUtleXNdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleU9yS2V5cykpIHtcbiAgICAgIGNvbW1hbmQucHVzaCguLi5rZXlPcktleXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tYW5kLnB1c2goa2V5T3JLZXlzKTtcbiAgICB9XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmIChcIndlaWdodHNcIiBpbiBvcHRzICYmIG9wdHMud2VpZ2h0cykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJ3ZWlnaHRzXCIsIC4uLm9wdHMud2VpZ2h0cyk7XG4gICAgICB9IGVsc2UgaWYgKFwid2VpZ2h0XCIgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy53ZWlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwid2VpZ2h0c1wiLCBvcHRzLndlaWdodCk7XG4gICAgICB9XG4gICAgICBpZiAoXCJhZ2dyZWdhdGVcIiBpbiBvcHRzKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcImFnZ3JlZ2F0ZVwiLCBvcHRzLmFnZ3JlZ2F0ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIGNtZE9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvemxleGNvdW50LnRzXG52YXIgWkxleENvdW50Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInpsZXhjb3VudFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pwb3BtYXgudHNcbnZhciBaUG9wTWF4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJ6cG9wbWF4XCIsIGtleV07XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKGNvdW50KTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96cG9wbWluLnRzXG52YXIgWlBvcE1pbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBjb3VudF0sIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wienBvcG1pblwiLCBrZXldO1xuICAgIGlmICh0eXBlb2YgY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenJhbmdlLnRzXG52YXIgWlJhbmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG1pbiwgbWF4LCBvcHRzXSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJ6cmFuZ2VcIiwga2V5LCBtaW4sIG1heF07XG4gICAgaWYgKG9wdHM/LmJ5U2NvcmUpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImJ5c2NvcmVcIik7XG4gICAgfVxuICAgIGlmIChvcHRzPy5ieUxleCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwiYnlsZXhcIik7XG4gICAgfVxuICAgIGlmIChvcHRzPy5yZXYpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcInJldlwiKTtcbiAgICB9XG4gICAgaWYgKG9wdHM/LmNvdW50ICE9PSB2b2lkIDAgJiYgb3B0cy5vZmZzZXQgIT09IHZvaWQgMCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibGltaXRcIiwgb3B0cy5vZmZzZXQsIG9wdHMuY291bnQpO1xuICAgIH1cbiAgICBpZiAob3B0cz8ud2l0aFNjb3Jlcykge1xuICAgICAgY29tbWFuZC5wdXNoKFwid2l0aHNjb3Jlc1wiKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96cmFuay50c1xudmFyIFpSYW5rQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInpyYW5rXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenJlbS50c1xudmFyIFpSZW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pyZW1yYW5nZWJ5bGV4LnRzXG52YXIgWlJlbVJhbmdlQnlMZXhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbXJhbmdlYnlsZXhcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96cmVtcmFuZ2VieXJhbmsudHNcbnZhciBaUmVtUmFuZ2VCeVJhbmtDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbXJhbmdlYnlyYW5rXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenJlbXJhbmdlYnlzY29yZS50c1xudmFyIFpSZW1SYW5nZUJ5U2NvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbXJhbmdlYnlzY29yZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pyZXZyYW5rLnRzXG52YXIgWlJldlJhbmtDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJldnJhbmtcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96c2Nhbi50c1xudmFyIFpTY2FuQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGN1cnNvciwgb3B0c10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wienNjYW5cIiwga2V5LCBjdXJzb3JdO1xuICAgIGlmIChvcHRzPy5tYXRjaCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibWF0Y2hcIiwgb3B0cy5tYXRjaCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cz8uY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImNvdW50XCIsIG9wdHMuY291bnQpO1xuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemVTY2FuUmVzcG9uc2UsXG4gICAgICAuLi5jbWRPcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96c2NvcmUudHNcbnZhciBaU2NvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienNjb3JlXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenVuaW9uLnRzXG52YXIgWlVuaW9uQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtudW1LZXlzLCBrZXlPcktleXMsIG9wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcInp1bmlvblwiLCBudW1LZXlzXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlPcktleXMpKSB7XG4gICAgICBjb21tYW5kLnB1c2goLi4ua2V5T3JLZXlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWFuZC5wdXNoKGtleU9yS2V5cyk7XG4gICAgfVxuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAoXCJ3ZWlnaHRzXCIgaW4gb3B0cyAmJiBvcHRzLndlaWdodHMpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwid2VpZ2h0c1wiLCAuLi5vcHRzLndlaWdodHMpO1xuICAgICAgfSBlbHNlIGlmIChcIndlaWdodFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMud2VpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIndlaWdodHNcIiwgb3B0cy53ZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKFwiYWdncmVnYXRlXCIgaW4gb3B0cykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJhZ2dyZWdhdGVcIiwgb3B0cy5hZ2dyZWdhdGUpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMud2l0aFNjb3Jlcykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJ3aXRoc2NvcmVzXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3p1bmlvbnN0b3JlLnRzXG52YXIgWlVuaW9uU3RvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2Rlc3RpbmF0aW9uLCBudW1LZXlzLCBrZXlPcktleXMsIG9wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcInp1bmlvbnN0b3JlXCIsIGRlc3RpbmF0aW9uLCBudW1LZXlzXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlPcktleXMpKSB7XG4gICAgICBjb21tYW5kLnB1c2goLi4ua2V5T3JLZXlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWFuZC5wdXNoKGtleU9yS2V5cyk7XG4gICAgfVxuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAoXCJ3ZWlnaHRzXCIgaW4gb3B0cyAmJiBvcHRzLndlaWdodHMpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwid2VpZ2h0c1wiLCAuLi5vcHRzLndlaWdodHMpO1xuICAgICAgfSBlbHNlIGlmIChcIndlaWdodFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMud2VpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIndlaWdodHNcIiwgb3B0cy53ZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKFwiYWdncmVnYXRlXCIgaW4gb3B0cykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJhZ2dyZWdhdGVcIiwgb3B0cy5hZ2dyZWdhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pkaWZmc3RvcmUudHNcbnZhciBaRGlmZlN0b3JlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInpkaWZmc3RvcmVcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96bXNjb3JlLnRzXG52YXIgWk1TY29yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBba2V5LCBtZW1iZXJzXSA9IGNtZDtcbiAgICBzdXBlcihbXCJ6bXNjb3JlXCIsIGtleSwgLi4ubWVtYmVyc10sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvcGlwZWxpbmUudHNcbnZhciBQaXBlbGluZSA9IGNsYXNzIHtcbiAgY2xpZW50O1xuICBjb21tYW5kcztcbiAgY29tbWFuZE9wdGlvbnM7XG4gIG11bHRpRXhlYztcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHRoaXMuY2xpZW50ID0gb3B0cy5jbGllbnQ7XG4gICAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICAgIHRoaXMuY29tbWFuZE9wdGlvbnMgPSBvcHRzLmNvbW1hbmRPcHRpb25zO1xuICAgIHRoaXMubXVsdGlFeGVjID0gb3B0cy5tdWx0aUV4ZWMgPz8gZmFsc2U7XG4gICAgaWYgKHRoaXMuY29tbWFuZE9wdGlvbnM/LmxhdGVuY3lMb2dnaW5nKSB7XG4gICAgICBjb25zdCBvcmlnaW5hbEV4ZWMgPSB0aGlzLmV4ZWMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZXhlYyA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChvcHRpb25zID8gb3JpZ2luYWxFeGVjKG9wdGlvbnMpIDogb3JpZ2luYWxFeGVjKCkpO1xuICAgICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgbG9nZ2VyUmVzdWx0ID0gKGVuZCAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgTGF0ZW5jeSBmb3IgXFx4MUJbMzg7MjsxOTsxODU7MzltJHt0aGlzLm11bHRpRXhlYyA/IFtcIk1VTFRJLUVYRUNcIl0gOiBbXCJQSVBFTElORVwiXS50b1N0cmluZygpLnRvVXBwZXJDYXNlKCl9XFx4MUJbMG06IFxceDFCWzM4OzI7MDsyNTU7MjU1bSR7bG9nZ2VyUmVzdWx0fSBtc1xceDFCWzBtYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgZXhlYyA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgaWYgKHRoaXMuY29tbWFuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQaXBlbGluZSBpcyBlbXB0eVwiKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IHRoaXMubXVsdGlFeGVjID8gW1wibXVsdGktZXhlY1wiXSA6IFtcInBpcGVsaW5lXCJdO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgcGF0aCxcbiAgICAgIGJvZHk6IE9iamVjdC52YWx1ZXModGhpcy5jb21tYW5kcykubWFwKChjKSA9PiBjLmNvbW1hbmQpXG4gICAgfSk7XG4gICAgcmV0dXJuIG9wdGlvbnM/LmtlZXBFcnJvcnMgPyByZXMubWFwKCh7IGVycm9yLCByZXN1bHQgfSwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHJlc3VsdDogdGhpcy5jb21tYW5kc1tpXS5kZXNlcmlhbGl6ZShyZXN1bHQpXG4gICAgICB9O1xuICAgIH0pIDogcmVzLm1hcCgoeyBlcnJvciwgcmVzdWx0IH0sIGkpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgVXBzdGFzaEVycm9yKFxuICAgICAgICAgIGBDb21tYW5kICR7aSArIDF9IFsgJHt0aGlzLmNvbW1hbmRzW2ldLmNvbW1hbmRbMF19IF0gZmFpbGVkOiAke2Vycm9yfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzW2ldLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgcGlwZWxpbmUgYmVmb3JlIHRoZSBleGVjdXRpb25cbiAgICovXG4gIGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2hlcyBhIGNvbW1hbmQgaW50byB0aGUgcGlwZWxpbmUgYW5kIHJldHVybnMgYSBjaGFpbmFibGUgaW5zdGFuY2Ugb2YgdGhlXG4gICAqIHBpcGVsaW5lXG4gICAqL1xuICBjaGFpbihjb21tYW5kKSB7XG4gICAgdGhpcy5jb21tYW5kcy5wdXNoKGNvbW1hbmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYXBwZW5kXG4gICAqL1xuICBhcHBlbmQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQXBwZW5kQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYml0Y291bnRcbiAgICovXG4gIGJpdGNvdW50ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEJpdENvdW50Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBgQklURklFTERgIGNvbW1hbmRzIG9uIG9uZSBrZXkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogcmVkaXMuc2V0KFwibXlrZXlcIiwgMCk7XG4gICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZGlzLnBpcGVsaW5lKClcbiAgICogICAuYml0ZmllbGQoXCJteWtleVwiKVxuICAgKiAgIC5zZXQoXCJ1NFwiLCAwLCAxNilcbiAgICogICAuaW5jcihcInU0XCIsIFwiIzFcIiwgMSlcbiAgICogICAuZXhlYygpO1xuICAgKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyBbWzAsIDFdXVxuICAgKiBgYGBcbiAgICpcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdGZpZWxkXG4gICAqL1xuICBiaXRmaWVsZCA9ICguLi5hcmdzKSA9PiBuZXcgQml0RmllbGRDb21tYW5kKGFyZ3MsIHRoaXMuY2xpZW50LCB0aGlzLmNvbW1hbmRPcHRpb25zLCB0aGlzLmNoYWluLmJpbmQodGhpcykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdG9wXG4gICAqL1xuICBiaXRvcCA9IChvcCwgZGVzdGluYXRpb25LZXksIHNvdXJjZUtleSwgLi4uc291cmNlS2V5cykgPT4gdGhpcy5jaGFpbihcbiAgICBuZXcgQml0T3BDb21tYW5kKFtvcCwgZGVzdGluYXRpb25LZXksIHNvdXJjZUtleSwgLi4uc291cmNlS2V5c10sIHRoaXMuY29tbWFuZE9wdGlvbnMpXG4gICk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYml0cG9zXG4gICAqL1xuICBiaXRwb3MgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQml0UG9zQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvY2xpZW50LXNldGluZm9cbiAgICovXG4gIGNsaWVudFNldGluZm8gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQ2xpZW50U2V0SW5mb0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2NvcHlcbiAgICovXG4gIGNvcHkgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQ29weUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pkaWZmc3RvcmVcbiAgICovXG4gIHpkaWZmc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWkRpZmZTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2Ric2l6ZVxuICAgKi9cbiAgZGJzaXplID0gKCkgPT4gdGhpcy5jaGFpbihuZXcgREJTaXplQ29tbWFuZCh0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVjclxuICAgKi9cbiAgZGVjciA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBEZWNyQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVjcmJ5XG4gICAqL1xuICBkZWNyYnkgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRGVjckJ5Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVsXG4gICAqL1xuICBkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRGVsQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZWNob1xuICAgKi9cbiAgZWNobyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFY2hvQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZXZhbF9yb1xuICAgKi9cbiAgZXZhbFJvID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEV2YWxST0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxcbiAgICovXG4gIGV2YWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRXZhbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxzaGFfcm9cbiAgICovXG4gIGV2YWxzaGFSbyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFdmFsc2hhUk9Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ldmFsc2hhXG4gICAqL1xuICBldmFsc2hhID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEV2YWxzaGFDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leGlzdHNcbiAgICovXG4gIGV4aXN0cyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFeGlzdHNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leHBpcmVcbiAgICovXG4gIGV4cGlyZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFeHBpcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leHBpcmVhdFxuICAgKi9cbiAgZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRXhwaXJlQXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9mbHVzaGFsbFxuICAgKi9cbiAgZmx1c2hhbGwgPSAoYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRmx1c2hBbGxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9mbHVzaGRiXG4gICAqL1xuICBmbHVzaGRiID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEZsdXNoREJDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9hZGRcbiAgICovXG4gIGdlb2FkZCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZW9BZGRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9kaXN0XG4gICAqL1xuICBnZW9kaXN0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEdlb0Rpc3RDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9wb3NcbiAgICovXG4gIGdlb3BvcyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZW9Qb3NDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9oYXNoXG4gICAqL1xuICBnZW9oYXNoID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEdlb0hhc2hDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9zZWFyY2hcbiAgICovXG4gIGdlb3NlYXJjaCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZW9TZWFyY2hDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9zZWFyY2hzdG9yZVxuICAgKi9cbiAgZ2Vvc2VhcmNoc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgR2VvU2VhcmNoU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRcbiAgICovXG4gIGdldCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRiaXRcbiAgICovXG4gIGdldGJpdCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZXRCaXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRkZWxcbiAgICovXG4gIGdldGRlbCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZXREZWxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRleFxuICAgKi9cbiAgZ2V0ZXggPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgR2V0RXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRyYW5nZVxuICAgKi9cbiAgZ2V0cmFuZ2UgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgR2V0UmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRzZXRcbiAgICovXG4gIGdldHNldCA9IChrZXksIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBHZXRTZXRDb21tYW5kKFtrZXksIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hkZWxcbiAgICovXG4gIGhkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSERlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleGlzdHNcbiAgICovXG4gIGhleGlzdHMgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEV4aXN0c0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmVcbiAgICovXG4gIGhleHBpcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmVhdFxuICAgKi9cbiAgaGV4cGlyZWF0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhFeHBpcmVBdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmV0aW1lXG4gICAqL1xuICBoZXhwaXJldGltZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIRXhwaXJlVGltZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2h0dGxcbiAgICovXG4gIGh0dGwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFR0bENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJlXG4gICAqL1xuICBocGV4cGlyZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIUEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJlYXRcbiAgICovXG4gIGhwZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFBFeHBpcmVBdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJldGltZVxuICAgKi9cbiAgaHBleHBpcmV0aW1lID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhQRXhwaXJlVGltZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwdHRsXG4gICAqL1xuICBocHR0bCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIUFR0bENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXJzaXN0XG4gICAqL1xuICBocGVyc2lzdCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIUGVyc2lzdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRcbiAgICovXG4gIGhnZXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEdldENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRhbGxcbiAgICovXG4gIGhnZXRhbGwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEdldEFsbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRkZWxcbiAgICovXG4gIGhnZXRkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEdldERlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRleFxuICAgKi9cbiAgaGdldGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhHZXRFeENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hpbmNyYnlcbiAgICovXG4gIGhpbmNyYnkgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEluY3JCeUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hpbmNyYnlmbG9hdFxuICAgKi9cbiAgaGluY3JieWZsb2F0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhJbmNyQnlGbG9hdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hrZXlzXG4gICAqL1xuICBoa2V5cyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIS2V5c0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hsZW5cbiAgICovXG4gIGhsZW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSExlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2htZ2V0XG4gICAqL1xuICBobWdldCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBITUdldENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2htc2V0XG4gICAqL1xuICBobXNldCA9IChrZXksIGt2KSA9PiB0aGlzLmNoYWluKG5ldyBITVNldENvbW1hbmQoW2tleSwga3ZdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHJhbmRmaWVsZFxuICAgKi9cbiAgaHJhbmRmaWVsZCA9IChrZXksIGNvdW50LCB3aXRoVmFsdWVzKSA9PiB0aGlzLmNoYWluKG5ldyBIUmFuZEZpZWxkQ29tbWFuZChba2V5LCBjb3VudCwgd2l0aFZhbHVlc10sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2NhblxuICAgKi9cbiAgaHNjYW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFNjYW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2V0XG4gICAqL1xuICBoc2V0ID0gKGtleSwga3YpID0+IHRoaXMuY2hhaW4obmV3IEhTZXRDb21tYW5kKFtrZXksIGt2XSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRleFxuICAgKi9cbiAgaHNldGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhTZXRFeENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRueFxuICAgKi9cbiAgaHNldG54ID0gKGtleSwgZmllbGQsIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBIU2V0TlhDb21tYW5kKFtrZXksIGZpZWxkLCB2YWx1ZV0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc3RybGVuXG4gICAqL1xuICBoc3RybGVuID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhTdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9odmFsc1xuICAgKi9cbiAgaHZhbHMgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFZhbHNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyXG4gICAqL1xuICBpbmNyID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEluY3JDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyYnlcbiAgICovXG4gIGluY3JieSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBJbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyYnlmbG9hdFxuICAgKi9cbiAgaW5jcmJ5ZmxvYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSW5jckJ5RmxvYXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9rZXlzXG4gICAqL1xuICBrZXlzID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEtleXNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9saW5kZXhcbiAgICovXG4gIGxpbmRleCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMSW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9saW5zZXJ0XG4gICAqL1xuICBsaW5zZXJ0ID0gKGtleSwgZGlyZWN0aW9uLCBwaXZvdCwgdmFsdWUpID0+IHRoaXMuY2hhaW4obmV3IExJbnNlcnRDb21tYW5kKFtrZXksIGRpcmVjdGlvbiwgcGl2b3QsIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xsZW5cbiAgICovXG4gIGxsZW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTExlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xtb3ZlXG4gICAqL1xuICBsbW92ZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMTW92ZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xwb3BcbiAgICovXG4gIGxwb3AgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTFBvcENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xtcG9wXG4gICAqL1xuICBsbXBvcCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMbVBvcENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xwb3NcbiAgICovXG4gIGxwb3MgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTFBvc0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xwdXNoXG4gICAqL1xuICBscHVzaCA9IChrZXksIC4uLmVsZW1lbnRzKSA9PiB0aGlzLmNoYWluKG5ldyBMUHVzaENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHB1c2h4XG4gICAqL1xuICBscHVzaHggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gdGhpcy5jaGFpbihuZXcgTFB1c2hYQ29tbWFuZChba2V5LCAuLi5lbGVtZW50c10sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scmFuZ2VcbiAgICovXG4gIGxyYW5nZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scmVtXG4gICAqL1xuICBscmVtID0gKGtleSwgY291bnQsIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBMUmVtQ29tbWFuZChba2V5LCBjb3VudCwgdmFsdWVdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHNldFxuICAgKi9cbiAgbHNldCA9IChrZXksIGluZGV4LCB2YWx1ZSkgPT4gdGhpcy5jaGFpbihuZXcgTFNldENvbW1hbmQoW2tleSwgaW5kZXgsIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2x0cmltXG4gICAqL1xuICBsdHJpbSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMVHJpbUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21nZXRcbiAgICovXG4gIG1nZXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTUdldENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21zZXRcbiAgICovXG4gIG1zZXQgPSAoa3YpID0+IHRoaXMuY2hhaW4obmV3IE1TZXRDb21tYW5kKFtrdl0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9tc2V0bnhcbiAgICovXG4gIG1zZXRueCA9IChrdikgPT4gdGhpcy5jaGFpbihuZXcgTVNldE5YQ29tbWFuZChba3ZdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGVyc2lzdFxuICAgKi9cbiAgcGVyc2lzdCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQZXJzaXN0Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGV4cGlyZVxuICAgKi9cbiAgcGV4cGlyZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQRXhwaXJlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGV4cGlyZWF0XG4gICAqL1xuICBwZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgUEV4cGlyZUF0Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZhZGRcbiAgICovXG4gIHBmYWRkID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFBmQWRkQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZjb3VudFxuICAgKi9cbiAgcGZjb3VudCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQZkNvdW50Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZtZXJnZVxuICAgKi9cbiAgcGZtZXJnZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQZk1lcmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGluZ1xuICAgKi9cbiAgcGluZyA9IChhcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQaW5nQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHNldGV4XG4gICAqL1xuICBwc2V0ZXggPSAoa2V5LCB0dGwsIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBQU2V0RVhDb21tYW5kKFtrZXksIHR0bCwgdmFsdWVdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHR0bFxuICAgKi9cbiAgcHR0bCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQVHRsQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHVibGlzaFxuICAgKi9cbiAgcHVibGlzaCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQdWJsaXNoQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcmFuZG9ta2V5XG4gICAqL1xuICByYW5kb21rZXkgPSAoKSA9PiB0aGlzLmNoYWluKG5ldyBSYW5kb21LZXlDb21tYW5kKHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9yZW5hbWVcbiAgICovXG4gIHJlbmFtZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBSZW5hbWVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9yZW5hbWVueFxuICAgKi9cbiAgcmVuYW1lbnggPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgUmVuYW1lTlhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ycG9wXG4gICAqL1xuICBycG9wID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFJQb3BDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ycHVzaFxuICAgKi9cbiAgcnB1c2ggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gdGhpcy5jaGFpbihuZXcgUlB1c2hDb21tYW5kKFtrZXksIC4uLmVsZW1lbnRzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3JwdXNoeFxuICAgKi9cbiAgcnB1c2h4ID0gKGtleSwgLi4uZWxlbWVudHMpID0+IHRoaXMuY2hhaW4obmV3IFJQdXNoWENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2FkZFxuICAgKi9cbiAgc2FkZCA9IChrZXksIG1lbWJlciwgLi4ubWVtYmVycykgPT4gdGhpcy5jaGFpbihuZXcgU0FkZENvbW1hbmQoW2tleSwgbWVtYmVyLCAuLi5tZW1iZXJzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjYW5cbiAgICovXG4gIHNjYW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU2NhbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjYXJkXG4gICAqL1xuICBzY2FyZCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTQ2FyZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1leGlzdHNcbiAgICovXG4gIHNjcmlwdEV4aXN0cyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTY3JpcHRFeGlzdHNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zY3JpcHQtZmx1c2hcbiAgICovXG4gIHNjcmlwdEZsdXNoID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNjcmlwdEZsdXNoQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2NyaXB0LWxvYWRcbiAgICovXG4gIHNjcmlwdExvYWQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU2NyaXB0TG9hZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKikqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZGlmZlxuICAgKi9cbiAgc2RpZmYgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU0RpZmZDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZGlmZnN0b3JlXG4gICAqL1xuICBzZGlmZnN0b3JlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNEaWZmU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRcbiAgICovXG4gIHNldCA9IChrZXksIHZhbHVlLCBvcHRzKSA9PiB0aGlzLmNoYWluKG5ldyBTZXRDb21tYW5kKFtrZXksIHZhbHVlLCBvcHRzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldGJpdFxuICAgKi9cbiAgc2V0Yml0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNldEJpdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldGV4XG4gICAqL1xuICBzZXRleCA9IChrZXksIHR0bCwgdmFsdWUpID0+IHRoaXMuY2hhaW4obmV3IFNldEV4Q29tbWFuZChba2V5LCB0dGwsIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldG54XG4gICAqL1xuICBzZXRueCA9IChrZXksIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBTZXROeENvbW1hbmQoW2tleSwgdmFsdWVdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2V0cmFuZ2VcbiAgICovXG4gIHNldHJhbmdlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNldFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2ludGVyXG4gICAqL1xuICBzaW50ZXIgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU0ludGVyQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2ludGVyc3RvcmVcbiAgICovXG4gIHNpbnRlcnN0b3JlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNJbnRlclN0b3JlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2lzbWVtYmVyXG4gICAqL1xuICBzaXNtZW1iZXIgPSAoa2V5LCBtZW1iZXIpID0+IHRoaXMuY2hhaW4obmV3IFNJc01lbWJlckNvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NtZW1iZXJzXG4gICAqL1xuICBzbWVtYmVycyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTTWVtYmVyc0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NtaXNtZW1iZXJcbiAgICovXG4gIHNtaXNtZW1iZXIgPSAoa2V5LCBtZW1iZXJzKSA9PiB0aGlzLmNoYWluKG5ldyBTTUlzTWVtYmVyQ29tbWFuZChba2V5LCBtZW1iZXJzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3Ntb3ZlXG4gICAqL1xuICBzbW92ZSA9IChzb3VyY2UsIGRlc3RpbmF0aW9uLCBtZW1iZXIpID0+IHRoaXMuY2hhaW4obmV3IFNNb3ZlQ29tbWFuZChbc291cmNlLCBkZXN0aW5hdGlvbiwgbWVtYmVyXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3Nwb3BcbiAgICovXG4gIHNwb3AgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU1BvcENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NyYW5kbWVtYmVyXG4gICAqL1xuICBzcmFuZG1lbWJlciA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTUmFuZE1lbWJlckNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NyZW1cbiAgICovXG4gIHNyZW0gPSAoa2V5LCAuLi5tZW1iZXJzKSA9PiB0aGlzLmNoYWluKG5ldyBTUmVtQ29tbWFuZChba2V5LCAuLi5tZW1iZXJzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NzY2FuXG4gICAqL1xuICBzc2NhbiA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTU2NhbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N0cmxlblxuICAgKi9cbiAgc3RybGVuID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFN0ckxlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N1bmlvblxuICAgKi9cbiAgc3VuaW9uID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNVbmlvbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N1bmlvbnN0b3JlXG4gICAqL1xuICBzdW5pb25zdG9yZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTVW5pb25TdG9yZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3RpbWVcbiAgICovXG4gIHRpbWUgPSAoKSA9PiB0aGlzLmNoYWluKG5ldyBUaW1lQ29tbWFuZCh0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdG91Y2hcbiAgICovXG4gIHRvdWNoID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFRvdWNoQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdHRsXG4gICAqL1xuICB0dGwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgVHRsQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdHlwZVxuICAgKi9cbiAgdHlwZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBUeXBlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdW5saW5rXG4gICAqL1xuICB1bmxpbmsgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgVW5saW5rQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemFkZFxuICAgKi9cbiAgemFkZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKFwic2NvcmVcIiBpbiBhcmdzWzFdKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGFpbihcbiAgICAgICAgbmV3IFpBZGRDb21tYW5kKFthcmdzWzBdLCBhcmdzWzFdLCAuLi5hcmdzLnNsaWNlKDIpXSwgdGhpcy5jb21tYW5kT3B0aW9ucylcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoYWluKFxuICAgICAgbmV3IFpBZGRDb21tYW5kKFxuICAgICAgICBbYXJnc1swXSwgYXJnc1sxXSwgLi4uYXJncy5zbGljZSgyKV0sXG4gICAgICAgIHRoaXMuY29tbWFuZE9wdGlvbnNcbiAgICAgIClcbiAgICApO1xuICB9O1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhZGRcbiAgICovXG4gIHhhZGQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEFkZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhY2tcbiAgICovXG4gIHhhY2sgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEFja0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhY2tkZWxcbiAgICovXG4gIHhhY2tkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEFja0RlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hkZWxcbiAgICovXG4gIHhkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWERlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hkZWxleFxuICAgKi9cbiAgeGRlbGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhEZWxFeENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hncm91cFxuICAgKi9cbiAgeGdyb3VwID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhHcm91cENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyZWFkXG4gICAqL1xuICB4cmVhZCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBYUmVhZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyZWFkZ3JvdXBcbiAgICovXG4gIHhyZWFkZ3JvdXAgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWFJlYWRHcm91cENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hpbmZvXG4gICAqL1xuICB4aW5mbyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBYSW5mb0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hsZW5cbiAgICovXG4gIHhsZW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWExlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hwZW5kaW5nXG4gICAqL1xuICB4cGVuZGluZyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBYUGVuZGluZ0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hjbGFpbVxuICAgKi9cbiAgeGNsYWltID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhDbGFpbUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhdXRvY2xhaW1cbiAgICovXG4gIHhhdXRvY2xhaW0gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEF1dG9DbGFpbShhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHRyaW1cbiAgICovXG4gIHh0cmltID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhUcmltQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJhbmdlXG4gICAqL1xuICB4cmFuZ2UgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJldnJhbmdlXG4gICAqL1xuICB4cmV2cmFuZ2UgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWFJldlJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemNhcmRcbiAgICovXG4gIHpjYXJkID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpDYXJkQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemNvdW50XG4gICAqL1xuICB6Y291bnQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWkNvdW50Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemluY3JieVxuICAgKi9cbiAgemluY3JieSA9IChrZXksIGluY3JlbWVudCwgbWVtYmVyKSA9PiB0aGlzLmNoYWluKG5ldyBaSW5jckJ5Q29tbWFuZChba2V5LCBpbmNyZW1lbnQsIG1lbWJlcl0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96aW50ZXJzdG9yZVxuICAgKi9cbiAgemludGVyc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWkludGVyU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96bGV4Y291bnRcbiAgICovXG4gIHpsZXhjb3VudCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaTGV4Q291bnRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96bXNjb3JlXG4gICAqL1xuICB6bXNjb3JlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpNU2NvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cG9wbWF4XG4gICAqL1xuICB6cG9wbWF4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpQb3BNYXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cG9wbWluXG4gICAqL1xuICB6cG9wbWluID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpQb3BNaW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmFuZ2VcbiAgICovXG4gIHpyYW5nZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmFua1xuICAgKi9cbiAgenJhbmsgPSAoa2V5LCBtZW1iZXIpID0+IHRoaXMuY2hhaW4obmV3IFpSYW5rQ29tbWFuZChba2V5LCBtZW1iZXJdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbVxuICAgKi9cbiAgenJlbSA9IChrZXksIC4uLm1lbWJlcnMpID0+IHRoaXMuY2hhaW4obmV3IFpSZW1Db21tYW5kKFtrZXksIC4uLm1lbWJlcnNdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlsZXhcbiAgICovXG4gIHpyZW1yYW5nZWJ5bGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpSZW1SYW5nZUJ5TGV4Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlyYW5rXG4gICAqL1xuICB6cmVtcmFuZ2VieXJhbmsgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWlJlbVJhbmdlQnlSYW5rQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlzY29yZVxuICAgKi9cbiAgenJlbXJhbmdlYnlzY29yZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaUmVtUmFuZ2VCeVNjb3JlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJldnJhbmtcbiAgICovXG4gIHpyZXZyYW5rID0gKGtleSwgbWVtYmVyKSA9PiB0aGlzLmNoYWluKG5ldyBaUmV2UmFua0NvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pzY2FuXG4gICAqL1xuICB6c2NhbiA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaU2NhbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pzY29yZVxuICAgKi9cbiAgenNjb3JlID0gKGtleSwgbWVtYmVyKSA9PiB0aGlzLmNoYWluKG5ldyBaU2NvcmVDb21tYW5kKFtrZXksIG1lbWJlcl0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96dW5pb25zdG9yZVxuICAgKi9cbiAgenVuaW9uc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWlVuaW9uU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96dW5pb25cbiAgICovXG4gIHp1bmlvbiA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaVW5pb25Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy8/Z3JvdXA9anNvblxuICAgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyYXBwZW5kXG4gICAgICAgKi9cbiAgICAgIGFycmFwcGVuZDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJBcHBlbmRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyaW5kZXhcbiAgICAgICAqL1xuICAgICAgYXJyaW5kZXg6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBKc29uQXJySW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyaW5zZXJ0XG4gICAgICAgKi9cbiAgICAgIGFycmluc2VydDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJJbnNlcnRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJybGVuXG4gICAgICAgKi9cbiAgICAgIGFycmxlbjogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJycG9wXG4gICAgICAgKi9cbiAgICAgIGFycnBvcDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJQb3BDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJydHJpbVxuICAgICAgICovXG4gICAgICBhcnJ0cmltOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbkFyclRyaW1Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uY2xlYXJcbiAgICAgICAqL1xuICAgICAgY2xlYXI6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBKc29uQ2xlYXJDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZGVsXG4gICAgICAgKi9cbiAgICAgIGRlbDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25EZWxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZm9yZ2V0XG4gICAgICAgKi9cbiAgICAgIGZvcmdldDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25Gb3JnZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25HZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubWVyZ2VcbiAgICAgICAqL1xuICAgICAgbWVyZ2U6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBKc29uTWVyZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubWdldFxuICAgICAgICovXG4gICAgICBtZ2V0OiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbk1HZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubXNldFxuICAgICAgICovXG4gICAgICBtc2V0OiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbk1TZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubnVtaW5jcmJ5XG4gICAgICAgKi9cbiAgICAgIG51bWluY3JieTogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25OdW1JbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubnVtbXVsdGJ5XG4gICAgICAgKi9cbiAgICAgIG51bW11bHRieTogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25OdW1NdWx0QnlDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ub2Jqa2V5c1xuICAgICAgICovXG4gICAgICBvYmprZXlzOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbk9iaktleXNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ub2JqbGVuXG4gICAgICAgKi9cbiAgICAgIG9iamxlbjogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25PYmpMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ucmVzcFxuICAgICAgICovXG4gICAgICByZXNwOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvblJlc3BDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc2V0XG4gICAgICAgKi9cbiAgICAgIHNldDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25TZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc3RyYXBwZW5kXG4gICAgICAgKi9cbiAgICAgIHN0cmFwcGVuZDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25TdHJBcHBlbmRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc3RybGVuXG4gICAgICAgKi9cbiAgICAgIHN0cmxlbjogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25TdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24udG9nZ2xlXG4gICAgICAgKi9cbiAgICAgIHRvZ2dsZTogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25Ub2dnbGVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24udHlwZVxuICAgICAgICovXG4gICAgICB0eXBlOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvblR5cGVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKVxuICAgIH07XG4gIH1cbiAgZ2V0IGZ1bmN0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tbG9hZC9cbiAgICAgICAqL1xuICAgICAgbG9hZDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEZ1bmN0aW9uTG9hZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tbGlzdC9cbiAgICAgICAqL1xuICAgICAgbGlzdDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEZ1bmN0aW9uTGlzdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tZGVsZXRlL1xuICAgICAgICovXG4gICAgICBkZWxldGU6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBGdW5jdGlvbkRlbGV0ZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tZmx1c2gvXG4gICAgICAgKi9cbiAgICAgIGZsdXNoOiAoKSA9PiB0aGlzLmNoYWluKG5ldyBGdW5jdGlvbkZsdXNoQ29tbWFuZCh0aGlzLmNvbW1hbmRPcHRpb25zKSksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9kb2NzL2xhdGVzdC9jb21tYW5kcy9mdW5jdGlvbi1zdGF0cy9cbiAgICAgICAqL1xuICAgICAgc3RhdHM6ICgpID0+IHRoaXMuY2hhaW4obmV3IEZ1bmN0aW9uU3RhdHNDb21tYW5kKHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2ZjYWxsL1xuICAgICAgICovXG4gICAgICBjYWxsOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRkNhbGxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2ZjYWxsX3JvL1xuICAgICAgICovXG4gICAgICBjYWxsUm86ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBGQ2FsbFJvQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSlcbiAgICB9O1xuICB9XG59O1xuXG4vLyBwa2cvYXV0by1waXBlbGluZS50c1xudmFyIEVYQ0xVREVfQ09NTUFORFMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwic2NhblwiLFxuICBcImtleXNcIixcbiAgXCJmbHVzaGRiXCIsXG4gIFwiZmx1c2hhbGxcIixcbiAgXCJkYnNpemVcIixcbiAgXCJoc2NhblwiLFxuICBcImhnZXRhbGxcIixcbiAgXCJoa2V5c1wiLFxuICBcImxyYW5nZVwiLFxuICBcInNzY2FuXCIsXG4gIFwic21lbWJlcnNcIixcbiAgXCJ4cmFuZ2VcIixcbiAgXCJ4cmV2cmFuZ2VcIixcbiAgXCJ6c2NhblwiLFxuICBcInpyYW5nZVwiLFxuICBcImV4ZWNcIlxuXSk7XG5mdW5jdGlvbiBjcmVhdGVBdXRvUGlwZWxpbmVQcm94eShfcmVkaXMsIG5hbWVzcGFjZSA9IFwicm9vdFwiKSB7XG4gIGNvbnN0IHJlZGlzID0gX3JlZGlzO1xuICBpZiAoIXJlZGlzLmF1dG9QaXBlbGluZUV4ZWN1dG9yKSB7XG4gICAgcmVkaXMuYXV0b1BpcGVsaW5lRXhlY3V0b3IgPSBuZXcgQXV0b1BpcGVsaW5lRXhlY3V0b3IocmVkaXMpO1xuICB9XG4gIHJldHVybiBuZXcgUHJveHkocmVkaXMsIHtcbiAgICBnZXQ6IChyZWRpczIsIGNvbW1hbmQpID0+IHtcbiAgICAgIGlmIChjb21tYW5kID09PSBcInBpcGVsaW5lQ291bnRlclwiKSB7XG4gICAgICAgIHJldHVybiByZWRpczIuYXV0b1BpcGVsaW5lRXhlY3V0b3IucGlwZWxpbmVDb3VudGVyO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJyb290XCIgJiYgY29tbWFuZCA9PT0gXCJqc29uXCIpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUF1dG9QaXBlbGluZVByb3h5KHJlZGlzMiwgXCJqc29uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJyb290XCIgJiYgY29tbWFuZCA9PT0gXCJmdW5jdGlvbnNcIikge1xuICAgICAgICByZXR1cm4gY3JlYXRlQXV0b1BpcGVsaW5lUHJveHkocmVkaXMyLCBcImZ1bmN0aW9uc1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwicm9vdFwiKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRJblJlZGlzQnV0Tm90UGlwZWxpbmUgPSBjb21tYW5kIGluIHJlZGlzMiAmJiAhKGNvbW1hbmQgaW4gcmVkaXMyLmF1dG9QaXBlbGluZUV4ZWN1dG9yLnBpcGVsaW5lKTtcbiAgICAgICAgY29uc3QgaXNDb21tYW5kRXhjbHVkZWQgPSBFWENMVURFX0NPTU1BTkRTLmhhcyhjb21tYW5kKTtcbiAgICAgICAgaWYgKGNvbW1hbmRJblJlZGlzQnV0Tm90UGlwZWxpbmUgfHwgaXNDb21tYW5kRXhjbHVkZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVkaXMyW2NvbW1hbmRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwaXBlbGluZSA9IHJlZGlzMi5hdXRvUGlwZWxpbmVFeGVjdXRvci5waXBlbGluZTtcbiAgICAgIGNvbnN0IHRhcmdldEZ1bmN0aW9uID0gbmFtZXNwYWNlID09PSBcImpzb25cIiA/IHBpcGVsaW5lLmpzb25bY29tbWFuZF0gOiBuYW1lc3BhY2UgPT09IFwiZnVuY3Rpb25zXCIgPyBwaXBlbGluZS5mdW5jdGlvbnNbY29tbWFuZF0gOiBwaXBlbGluZVtjb21tYW5kXTtcbiAgICAgIGNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlb2YgdGFyZ2V0RnVuY3Rpb24gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIHJldHVybiByZWRpczIuYXV0b1BpcGVsaW5lRXhlY3V0b3Iud2l0aEF1dG9QaXBlbGluZSgocGlwZWxpbmUyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRGdW5jdGlvbjIgPSBuYW1lc3BhY2UgPT09IFwianNvblwiID8gcGlwZWxpbmUyLmpzb25bY29tbWFuZF0gOiBuYW1lc3BhY2UgPT09IFwiZnVuY3Rpb25zXCIgPyBwaXBlbGluZTIuZnVuY3Rpb25zW2NvbW1hbmRdIDogcGlwZWxpbmUyW2NvbW1hbmRdO1xuICAgICAgICAgICAgdGFyZ2V0RnVuY3Rpb24yKC4uLmFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldEZ1bmN0aW9uO1xuICAgIH1cbiAgfSk7XG59XG52YXIgQXV0b1BpcGVsaW5lRXhlY3V0b3IgPSBjbGFzcyB7XG4gIHBpcGVsaW5lUHJvbWlzZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgYWN0aXZlUGlwZWxpbmUgPSBudWxsO1xuICBpbmRleEluQ3VycmVudFBpcGVsaW5lID0gMDtcbiAgcmVkaXM7XG4gIHBpcGVsaW5lO1xuICAvLyBvbmx5IHRvIG1ha2Ugc3VyZSB0aGF0IHByb3h5IGNhbiB3b3JrXG4gIHBpcGVsaW5lQ291bnRlciA9IDA7XG4gIC8vIHRvIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgdGltZXMgYSBwaXBlbGluZSB3YXMgZXhlY3V0ZWRcbiAgY29uc3RydWN0b3IocmVkaXMpIHtcbiAgICB0aGlzLnJlZGlzID0gcmVkaXM7XG4gICAgdGhpcy5waXBlbGluZSA9IHJlZGlzLnBpcGVsaW5lKCk7XG4gIH1cbiAgYXN5bmMgd2l0aEF1dG9QaXBlbGluZShleGVjdXRlV2l0aFBpcGVsaW5lKSB7XG4gICAgY29uc3QgcGlwZWxpbmUgPSB0aGlzLmFjdGl2ZVBpcGVsaW5lID8/IHRoaXMucmVkaXMucGlwZWxpbmUoKTtcbiAgICBpZiAoIXRoaXMuYWN0aXZlUGlwZWxpbmUpIHtcbiAgICAgIHRoaXMuYWN0aXZlUGlwZWxpbmUgPSBwaXBlbGluZTtcbiAgICAgIHRoaXMuaW5kZXhJbkN1cnJlbnRQaXBlbGluZSA9IDA7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleEluQ3VycmVudFBpcGVsaW5lKys7XG4gICAgZXhlY3V0ZVdpdGhQaXBlbGluZShwaXBlbGluZSk7XG4gICAgY29uc3QgcGlwZWxpbmVEb25lID0gdGhpcy5kZWZlckV4ZWN1dGlvbigpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnBpcGVsaW5lUHJvbWlzZXMuaGFzKHBpcGVsaW5lKSkge1xuICAgICAgICBjb25zdCBwaXBlbGluZVByb21pc2UgPSBwaXBlbGluZS5leGVjKHsga2VlcEVycm9yczogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5waXBlbGluZUNvdW50ZXIgKz0gMTtcbiAgICAgICAgdGhpcy5waXBlbGluZVByb21pc2VzLnNldChwaXBlbGluZSwgcGlwZWxpbmVQcm9taXNlKTtcbiAgICAgICAgdGhpcy5hY3RpdmVQaXBlbGluZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5waXBlbGluZVByb21pc2VzLmdldChwaXBlbGluZSk7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBpcGVsaW5lRG9uZTtcbiAgICBjb25zdCBjb21tYW5kUmVzdWx0ID0gcmVzdWx0c1tpbmRleF07XG4gICAgaWYgKGNvbW1hbmRSZXN1bHQuZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBVcHN0YXNoRXJyb3IoYENvbW1hbmQgZmFpbGVkOiAke2NvbW1hbmRSZXN1bHQuZXJyb3J9YCk7XG4gICAgfVxuICAgIHJldHVybiBjb21tYW5kUmVzdWx0LnJlc3VsdDtcbiAgfVxuICBhc3luYyBkZWZlckV4ZWN1dGlvbigpIHtcbiAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3BzdWJzY3JpYmUudHNcbnZhciBQU3Vic2NyaWJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IHNzZUhlYWRlcnMgPSB7XG4gICAgICBBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcbiAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLWNhY2hlXCIsXG4gICAgICBDb25uZWN0aW9uOiBcImtlZXAtYWxpdmVcIlxuICAgIH07XG4gICAgc3VwZXIoW10sIHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICBoZWFkZXJzOiBzc2VIZWFkZXJzLFxuICAgICAgcGF0aDogW1wicHN1YnNjcmliZVwiLCAuLi5jbWRdLFxuICAgICAgc3RyZWFtT3B0aW9uczoge1xuICAgICAgICBpc1N0cmVhbWluZzogdHJ1ZSxcbiAgICAgICAgb25NZXNzYWdlOiBvcHRzPy5zdHJlYW1PcHRpb25zPy5vbk1lc3NhZ2UsXG4gICAgICAgIHNpZ25hbDogb3B0cz8uc3RyZWFtT3B0aW9ucz8uc2lnbmFsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zdWJzY3JpYmUudHNcbnZhciBTdWJzY3JpYmVyID0gY2xhc3MgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIHN1YnNjcmlwdGlvbnM7XG4gIGNsaWVudDtcbiAgbGlzdGVuZXJzO1xuICBvcHRzO1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGNoYW5uZWxzLCBpc1BhdHRlcm4gPSBmYWxzZSwgb3B0cykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICBmb3IgKGNvbnN0IGNoYW5uZWwgb2YgY2hhbm5lbHMpIHtcbiAgICAgIGlmIChpc1BhdHRlcm4pIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1BhdHRlcm4oY2hhbm5lbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvQ2hhbm5lbChjaGFubmVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3Vic2NyaWJlVG9DaGFubmVsKGNoYW5uZWwpIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgU3Vic2NyaWJlQ29tbWFuZChbY2hhbm5lbF0sIHtcbiAgICAgIHN0cmVhbU9wdGlvbnM6IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgb25NZXNzYWdlOiAoZGF0YSkgPT4gdGhpcy5oYW5kbGVNZXNzYWdlKGRhdGEsIGZhbHNlKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmQuZXhlYyh0aGlzLmNsaWVudCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IubmFtZSAhPT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKFwiZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQoY2hhbm5lbCwge1xuICAgICAgY29tbWFuZCxcbiAgICAgIGNvbnRyb2xsZXIsXG4gICAgICBpc1BhdHRlcm46IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgc3Vic2NyaWJlVG9QYXR0ZXJuKHBhdHRlcm4pIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgUFN1YnNjcmliZUNvbW1hbmQoW3BhdHRlcm5dLCB7XG4gICAgICBzdHJlYW1PcHRpb25zOiB7XG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIG9uTWVzc2FnZTogKGRhdGEpID0+IHRoaXMuaGFuZGxlTWVzc2FnZShkYXRhLCB0cnVlKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmQuZXhlYyh0aGlzLmNsaWVudCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IubmFtZSAhPT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKFwiZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQocGF0dGVybiwge1xuICAgICAgY29tbWFuZCxcbiAgICAgIGNvbnRyb2xsZXIsXG4gICAgICBpc1BhdHRlcm46IHRydWVcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVNZXNzYWdlKGRhdGEsIGlzUGF0dGVybikge1xuICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0gZGF0YS5yZXBsYWNlKC9eZGF0YTpcXHMqLywgXCJcIik7XG4gICAgY29uc3QgZmlyc3RDb21tYUluZGV4ID0gbWVzc2FnZURhdGEuaW5kZXhPZihcIixcIik7XG4gICAgY29uc3Qgc2Vjb25kQ29tbWFJbmRleCA9IG1lc3NhZ2VEYXRhLmluZGV4T2YoXCIsXCIsIGZpcnN0Q29tbWFJbmRleCArIDEpO1xuICAgIGNvbnN0IHRoaXJkQ29tbWFJbmRleCA9IGlzUGF0dGVybiA/IG1lc3NhZ2VEYXRhLmluZGV4T2YoXCIsXCIsIHNlY29uZENvbW1hSW5kZXggKyAxKSA6IC0xO1xuICAgIGlmIChmaXJzdENvbW1hSW5kZXggIT09IC0xICYmIHNlY29uZENvbW1hSW5kZXggIT09IC0xKSB7XG4gICAgICBjb25zdCB0eXBlID0gbWVzc2FnZURhdGEuc2xpY2UoMCwgZmlyc3RDb21tYUluZGV4KTtcbiAgICAgIGlmIChpc1BhdHRlcm4gJiYgdHlwZSA9PT0gXCJwbWVzc2FnZVwiICYmIHRoaXJkQ29tbWFJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IG1lc3NhZ2VEYXRhLnNsaWNlKGZpcnN0Q29tbWFJbmRleCArIDEsIHNlY29uZENvbW1hSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGFubmVsID0gbWVzc2FnZURhdGEuc2xpY2Uoc2Vjb25kQ29tbWFJbmRleCArIDEsIHRoaXJkQ29tbWFJbmRleCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VTdHIgPSBtZXNzYWdlRGF0YS5zbGljZSh0aGlyZENvbW1hSW5kZXggKyAxKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5vcHRzPy5hdXRvbWF0aWNEZXNlcmlhbGl6YXRpb24gPT09IGZhbHNlID8gbWVzc2FnZVN0ciA6IEpTT04ucGFyc2UobWVzc2FnZVN0cik7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKFwicG1lc3NhZ2VcIiwgeyBwYXR0ZXJuLCBjaGFubmVsLCBtZXNzYWdlIH0pO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUb0xpc3RlbmVycyhgcG1lc3NhZ2U6JHtwYXR0ZXJufWAsIHsgcGF0dGVybiwgY2hhbm5lbCwgbWVzc2FnZSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoVG9MaXN0ZW5lcnMoXCJlcnJvclwiLCBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBtZXNzYWdlOiAke2Vycm9yfWApKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IG1lc3NhZ2VEYXRhLnNsaWNlKGZpcnN0Q29tbWFJbmRleCArIDEsIHNlY29uZENvbW1hSW5kZXgpO1xuICAgICAgICBjb25zdCBtZXNzYWdlU3RyID0gbWVzc2FnZURhdGEuc2xpY2Uoc2Vjb25kQ29tbWFJbmRleCArIDEpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0eXBlID09PSBcInN1YnNjcmliZVwiIHx8IHR5cGUgPT09IFwicHN1YnNjcmliZVwiIHx8IHR5cGUgPT09IFwidW5zdWJzY3JpYmVcIiB8fCB0eXBlID09PSBcInB1bnN1YnNjcmliZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IE51bWJlci5wYXJzZUludChtZXNzYWdlU3RyKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUb0xpc3RlbmVycyh0eXBlLCBjb3VudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm9wdHM/LmF1dG9tYXRpY0Rlc2VyaWFsaXphdGlvbiA9PT0gZmFsc2UgPyBtZXNzYWdlU3RyIDogcGFyc2VXaXRoVHJ5Q2F0Y2gobWVzc2FnZVN0cik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoVG9MaXN0ZW5lcnModHlwZSwgeyBjaGFubmVsLCBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKGAke3R5cGV9OiR7Y2hhbm5lbH1gLCB7IGNoYW5uZWwsIG1lc3NhZ2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUb0xpc3RlbmVycyhcImVycm9yXCIsIG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIG1lc3NhZ2U6ICR7ZXJyb3J9YCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRpc3BhdGNoVG9MaXN0ZW5lcnModHlwZSwgZGF0YSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldCh0eXBlKTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICBsaXN0ZW5lcihkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyh0eXBlKSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHR5cGUsIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5nZXQodHlwZSk/LmFkZChsaXN0ZW5lcik7XG4gIH1cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gIH1cbiAgYXN5bmMgdW5zdWJzY3JpYmUoY2hhbm5lbHMpIHtcbiAgICBpZiAoY2hhbm5lbHMpIHtcbiAgICAgIGZvciAoY29uc3QgY2hhbm5lbCBvZiBjaGFubmVscykge1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGNoYW5uZWwpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoY2hhbm5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgdGhpcy5zdWJzY3JpcHRpb25zLnZhbHVlcygpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cbiAgZ2V0U3Vic2NyaWJlZENoYW5uZWxzKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5zdWJzY3JpcHRpb25zLmtleXMoKV07XG4gIH1cbn07XG52YXIgU3Vic2NyaWJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IHNzZUhlYWRlcnMgPSB7XG4gICAgICBBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcbiAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLWNhY2hlXCIsXG4gICAgICBDb25uZWN0aW9uOiBcImtlZXAtYWxpdmVcIlxuICAgIH07XG4gICAgc3VwZXIoW10sIHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICBoZWFkZXJzOiBzc2VIZWFkZXJzLFxuICAgICAgcGF0aDogW1wic3Vic2NyaWJlXCIsIC4uLmNtZF0sXG4gICAgICBzdHJlYW1PcHRpb25zOiB7XG4gICAgICAgIGlzU3RyZWFtaW5nOiB0cnVlLFxuICAgICAgICBvbk1lc3NhZ2U6IG9wdHM/LnN0cmVhbU9wdGlvbnM/Lm9uTWVzc2FnZSxcbiAgICAgICAgc2lnbmFsOiBvcHRzPy5zdHJlYW1PcHRpb25zPy5zaWduYWxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbnZhciBwYXJzZVdpdGhUcnlDYXRjaCA9IChzdHIpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59O1xuXG4vLyBwa2cvc2NyaXB0LnRzXG5pbXBvcnQgeyBzdWJ0bGUgfSBmcm9tIFwidW5jcnlwdG9cIjtcbnZhciBTY3JpcHQgPSBjbGFzcyB7XG4gIHNjcmlwdDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgdG8gYW4gZW1wdHkgc3RyaW5nIGFuZCB3aWxsIGJlIHNldCBpbiB0aGUgaW5pdCBtZXRob2RcbiAgICogYXN5bmNocm9ub3VzbHkuIERvIG5vdCB1c2UgdGhpcyBwcm9wZXJ0eSBpbW1pZGlhdGVseSBhZnRlciB0aGUgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb25seSBleHBvc2VkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZVxuICAgKiBmdXR1cmUgbWFqb3IgcmVsZWFzZS5cbiAgICovXG4gIHNoYTE7XG4gIHJlZGlzO1xuICBjb25zdHJ1Y3RvcihyZWRpcywgc2NyaXB0KSB7XG4gICAgdGhpcy5yZWRpcyA9IHJlZGlzO1xuICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuICAgIHRoaXMuc2hhMSA9IFwiXCI7XG4gICAgdm9pZCB0aGlzLmluaXQoc2NyaXB0KTtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgc2NyaXB0IGJ5IGNvbXB1dGluZyBpdHMgU0hBLTEgaGFzaC5cbiAgICovXG4gIGFzeW5jIGluaXQoc2NyaXB0KSB7XG4gICAgaWYgKHRoaXMuc2hhMSkgcmV0dXJuO1xuICAgIHRoaXMuc2hhMSA9IGF3YWl0IHRoaXMuZGlnZXN0KHNjcmlwdCk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmQgYW4gYEVWQUxgIGNvbW1hbmQgdG8gcmVkaXMuXG4gICAqL1xuICBhc3luYyBldmFsKGtleXMsIGFyZ3MpIHtcbiAgICBhd2FpdCB0aGlzLmluaXQodGhpcy5zY3JpcHQpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlZGlzLmV2YWwodGhpcy5zY3JpcHQsIGtleXMsIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzaGExIGhhc2ggb2YgdGhlIHNjcmlwdCBhbmQgdGhlbiBjYWxscyBgRVZBTFNIQWAuXG4gICAqL1xuICBhc3luYyBldmFsc2hhKGtleXMsIGFyZ3MpIHtcbiAgICBhd2FpdCB0aGlzLmluaXQodGhpcy5zY3JpcHQpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlZGlzLmV2YWxzaGEodGhpcy5zaGExLCBrZXlzLCBhcmdzKTtcbiAgfVxuICAvKipcbiAgICogT3B0aW1pc3RpY2FsbHkgdHJ5IHRvIHJ1biBgRVZBTFNIQWAgZmlyc3QuXG4gICAqIElmIHRoZSBzY3JpcHQgaXMgbm90IGxvYWRlZCBpbiByZWRpcywgaXQgd2lsbCBmYWxsIGJhY2sgYW5kIHRyeSBhZ2FpbiB3aXRoIGBFVkFMYC5cbiAgICpcbiAgICogRm9sbG93aW5nIGNhbGxzIHdpbGwgYmUgYWJsZSB0byB1c2UgdGhlIGNhY2hlZCBzY3JpcHRcbiAgICovXG4gIGFzeW5jIGV4ZWMoa2V5cywgYXJncykge1xuICAgIGF3YWl0IHRoaXMuaW5pdCh0aGlzLnNjcmlwdCk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5yZWRpcy5ldmFsc2hhKHRoaXMuc2hhMSwga2V5cywgYXJncykuY2F0Y2goYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJub3NjcmlwdFwiKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWRpcy5ldmFsKHRoaXMuc2NyaXB0LCBrZXlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIHNoYTEgaGFzaCBvZiB0aGUgc2NyaXB0IGFuZCByZXR1cm4gaXRzIGhleCByZXByZXNlbnRhdGlvbi5cbiAgICovXG4gIGFzeW5jIGRpZ2VzdChzKSB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTtcbiAgICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgc3VidGxlLmRpZ2VzdChcIlNIQS0xXCIsIGRhdGEpO1xuICAgIGNvbnN0IGhhc2hBcnJheSA9IFsuLi5uZXcgVWludDhBcnJheShoYXNoQnVmZmVyKV07XG4gICAgcmV0dXJuIGhhc2hBcnJheS5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbiAgfVxufTtcblxuLy8gcGtnL3NjcmlwdFJvLnRzXG5pbXBvcnQgeyBzdWJ0bGUgYXMgc3VidGxlMiB9IGZyb20gXCJ1bmNyeXB0b1wiO1xudmFyIFNjcmlwdFJPID0gY2xhc3Mge1xuICBzY3JpcHQ7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIHRvIGFuIGVtcHR5IHN0cmluZyBhbmQgd2lsbCBiZSBzZXQgaW4gdGhlIGluaXQgbWV0aG9kXG4gICAqIGFzeW5jaHJvbm91c2x5LiBEbyBub3QgdXNlIHRoaXMgcHJvcGVydHkgaW1taWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIG9ubHkgZXhwb3NlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGVcbiAgICogZnV0dXJlIG1ham9yIHJlbGVhc2UuXG4gICAqL1xuICBzaGExO1xuICByZWRpcztcbiAgY29uc3RydWN0b3IocmVkaXMsIHNjcmlwdCkge1xuICAgIHRoaXMucmVkaXMgPSByZWRpcztcbiAgICB0aGlzLnNoYTEgPSBcIlwiO1xuICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuICAgIHZvaWQgdGhpcy5pbml0KHNjcmlwdCk7XG4gIH1cbiAgYXN5bmMgaW5pdChzY3JpcHQpIHtcbiAgICBpZiAodGhpcy5zaGExKSByZXR1cm47XG4gICAgdGhpcy5zaGExID0gYXdhaXQgdGhpcy5kaWdlc3Qoc2NyaXB0KTtcbiAgfVxuICAvKipcbiAgICogU2VuZCBhbiBgRVZBTF9ST2AgY29tbWFuZCB0byByZWRpcy5cbiAgICovXG4gIGFzeW5jIGV2YWxSbyhrZXlzLCBhcmdzKSB7XG4gICAgYXdhaXQgdGhpcy5pbml0KHRoaXMuc2NyaXB0KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWRpcy5ldmFsUm8odGhpcy5zY3JpcHQsIGtleXMsIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzaGExIGhhc2ggb2YgdGhlIHNjcmlwdCBhbmQgdGhlbiBjYWxscyBgRVZBTFNIQV9ST2AuXG4gICAqL1xuICBhc3luYyBldmFsc2hhUm8oa2V5cywgYXJncykge1xuICAgIGF3YWl0IHRoaXMuaW5pdCh0aGlzLnNjcmlwdCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucmVkaXMuZXZhbHNoYVJvKHRoaXMuc2hhMSwga2V5cywgYXJncyk7XG4gIH1cbiAgLyoqXG4gICAqIE9wdGltaXN0aWNhbGx5IHRyeSB0byBydW4gYEVWQUxTSEFfUk9gIGZpcnN0LlxuICAgKiBJZiB0aGUgc2NyaXB0IGlzIG5vdCBsb2FkZWQgaW4gcmVkaXMsIGl0IHdpbGwgZmFsbCBiYWNrIGFuZCB0cnkgYWdhaW4gd2l0aCBgRVZBTF9ST2AuXG4gICAqXG4gICAqIEZvbGxvd2luZyBjYWxscyB3aWxsIGJlIGFibGUgdG8gdXNlIHRoZSBjYWNoZWQgc2NyaXB0XG4gICAqL1xuICBhc3luYyBleGVjKGtleXMsIGFyZ3MpIHtcbiAgICBhd2FpdCB0aGlzLmluaXQodGhpcy5zY3JpcHQpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucmVkaXMuZXZhbHNoYVJvKHRoaXMuc2hhMSwga2V5cywgYXJncykuY2F0Y2goYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJub3NjcmlwdFwiKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWRpcy5ldmFsUm8odGhpcy5zY3JpcHQsIGtleXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgc2hhMSBoYXNoIG9mIHRoZSBzY3JpcHQgYW5kIHJldHVybiBpdHMgaGV4IHJlcHJlc2VudGF0aW9uLlxuICAgKi9cbiAgYXN5bmMgZGlnZXN0KHMpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHMpO1xuICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBzdWJ0bGUyLmRpZ2VzdChcIlNIQS0xXCIsIGRhdGEpO1xuICAgIGNvbnN0IGhhc2hBcnJheSA9IFsuLi5uZXcgVWludDhBcnJheShoYXNoQnVmZmVyKV07XG4gICAgcmV0dXJuIGhhc2hBcnJheS5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbiAgfVxufTtcblxuLy8gcGtnL3JlZGlzLnRzXG52YXIgUmVkaXMgPSBjbGFzcyB7XG4gIGNsaWVudDtcbiAgb3B0cztcbiAgZW5hYmxlVGVsZW1ldHJ5O1xuICBlbmFibGVBdXRvUGlwZWxpbmluZztcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyByZWRpcyBjbGllbnRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBjb25zdCByZWRpcyA9IG5ldyBSZWRpcyh7XG4gICAqICB1cmw6IFwiPFVQU1RBU0hfUkVESVNfUkVTVF9VUkw+XCIsXG4gICAqICB0b2tlbjogXCI8VVBTVEFTSF9SRURJU19SRVNUX1RPS0VOPlwiLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIG9wdHMpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgIHRoaXMuZW5hYmxlVGVsZW1ldHJ5ID0gb3B0cz8uZW5hYmxlVGVsZW1ldHJ5ID8/IHRydWU7XG4gICAgaWYgKG9wdHM/LnJlYWRZb3VyV3JpdGVzID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5jbGllbnQucmVhZFlvdXJXcml0ZXMgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5lbmFibGVBdXRvUGlwZWxpbmluZyA9IG9wdHM/LmVuYWJsZUF1dG9QaXBlbGluaW5nID8/IHRydWU7XG4gIH1cbiAgZ2V0IHJlYWRZb3VyV3JpdGVzU3luY1Rva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC51cHN0YXNoU3luY1Rva2VuO1xuICB9XG4gIHNldCByZWFkWW91cldyaXRlc1N5bmNUb2tlbihzZXNzaW9uKSB7XG4gICAgdGhpcy5jbGllbnQudXBzdGFzaFN5bmNUb2tlbiA9IHNlc3Npb247XG4gIH1cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyYXBwZW5kXG4gICAgICAgKi9cbiAgICAgIGFycmFwcGVuZDogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJyQXBwZW5kQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5hcnJpbmRleFxuICAgICAgICovXG4gICAgICBhcnJpbmRleDogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJySW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLmFycmluc2VydFxuICAgICAgICovXG4gICAgICBhcnJpbnNlcnQ6ICguLi5hcmdzKSA9PiBuZXcgSnNvbkFyckluc2VydENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJybGVuXG4gICAgICAgKi9cbiAgICAgIGFycmxlbjogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJyTGVuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5hcnJwb3BcbiAgICAgICAqL1xuICAgICAgYXJycG9wOiAoLi4uYXJncykgPT4gbmV3IEpzb25BcnJQb3BDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLmFycnRyaW1cbiAgICAgICAqL1xuICAgICAgYXJydHJpbTogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJyVHJpbUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uY2xlYXJcbiAgICAgICAqL1xuICAgICAgY2xlYXI6ICguLi5hcmdzKSA9PiBuZXcgSnNvbkNsZWFyQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5kZWxcbiAgICAgICAqL1xuICAgICAgZGVsOiAoLi4uYXJncykgPT4gbmV3IEpzb25EZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLmZvcmdldFxuICAgICAgICovXG4gICAgICBmb3JnZXQ6ICguLi5hcmdzKSA9PiBuZXcgSnNvbkZvcmdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldDogKC4uLmFyZ3MpID0+IG5ldyBKc29uR2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5tZXJnZVxuICAgICAgICovXG4gICAgICBtZXJnZTogKC4uLmFyZ3MpID0+IG5ldyBKc29uTWVyZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLm1nZXRcbiAgICAgICAqL1xuICAgICAgbWdldDogKC4uLmFyZ3MpID0+IG5ldyBKc29uTUdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubXNldFxuICAgICAgICovXG4gICAgICBtc2V0OiAoLi4uYXJncykgPT4gbmV3IEpzb25NU2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5udW1pbmNyYnlcbiAgICAgICAqL1xuICAgICAgbnVtaW5jcmJ5OiAoLi4uYXJncykgPT4gbmV3IEpzb25OdW1JbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLm51bW11bHRieVxuICAgICAgICovXG4gICAgICBudW1tdWx0Ynk6ICguLi5hcmdzKSA9PiBuZXcgSnNvbk51bU11bHRCeUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ub2Jqa2V5c1xuICAgICAgICovXG4gICAgICBvYmprZXlzOiAoLi4uYXJncykgPT4gbmV3IEpzb25PYmpLZXlzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5vYmpsZW5cbiAgICAgICAqL1xuICAgICAgb2JqbGVuOiAoLi4uYXJncykgPT4gbmV3IEpzb25PYmpMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLnJlc3BcbiAgICAgICAqL1xuICAgICAgcmVzcDogKC4uLmFyZ3MpID0+IG5ldyBKc29uUmVzcENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc2V0XG4gICAgICAgKi9cbiAgICAgIHNldDogKC4uLmFyZ3MpID0+IG5ldyBKc29uU2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5zdHJhcHBlbmRcbiAgICAgICAqL1xuICAgICAgc3RyYXBwZW5kOiAoLi4uYXJncykgPT4gbmV3IEpzb25TdHJBcHBlbmRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLnN0cmxlblxuICAgICAgICovXG4gICAgICBzdHJsZW46ICguLi5hcmdzKSA9PiBuZXcgSnNvblN0ckxlbkNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24udG9nZ2xlXG4gICAgICAgKi9cbiAgICAgIHRvZ2dsZTogKC4uLmFyZ3MpID0+IG5ldyBKc29uVG9nZ2xlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi50eXBlXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICguLi5hcmdzKSA9PiBuZXcgSnNvblR5cGVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudClcbiAgICB9O1xuICB9XG4gIGdldCBmdW5jdGlvbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2Z1bmN0aW9uLWxvYWQvXG4gICAgICAgKi9cbiAgICAgIGxvYWQ6ICguLi5hcmdzKSA9PiBuZXcgRnVuY3Rpb25Mb2FkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tbGlzdC9cbiAgICAgICAqL1xuICAgICAgbGlzdDogKC4uLmFyZ3MpID0+IG5ldyBGdW5jdGlvbkxpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9kb2NzL2xhdGVzdC9jb21tYW5kcy9mdW5jdGlvbi1kZWxldGUvXG4gICAgICAgKi9cbiAgICAgIGRlbGV0ZTogKC4uLmFyZ3MpID0+IG5ldyBGdW5jdGlvbkRlbGV0ZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2Z1bmN0aW9uLWZsdXNoL1xuICAgICAgICovXG4gICAgICBmbHVzaDogKCkgPT4gbmV3IEZ1bmN0aW9uRmx1c2hDb21tYW5kKHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9kb2NzL2xhdGVzdC9jb21tYW5kcy9mdW5jdGlvbi1zdGF0cy9cbiAgICAgICAqXG4gICAgICAgKiBOb3RlOiBgcnVubmluZ19zY3JpcHRgIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHRoZXJlZm9yZSBub3QgaW5jbHVkZWQgaW4gdGhlIHR5cGUuXG4gICAgICAgKi9cbiAgICAgIHN0YXRzOiAoKSA9PiBuZXcgRnVuY3Rpb25TdGF0c0NvbW1hbmQodGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2ZjYWxsL1xuICAgICAgICovXG4gICAgICBjYWxsOiAoLi4uYXJncykgPT4gbmV3IEZDYWxsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZmNhbGxfcm8vXG4gICAgICAgKi9cbiAgICAgIGNhbGxSbzogKC4uLmFyZ3MpID0+IG5ldyBGQ2FsbFJvQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogV3JhcCBhIG5ldyBtaWRkbGV3YXJlIGFyb3VuZCB0aGUgSFRUUCBjbGllbnQuXG4gICAqL1xuICB1c2UgPSAobWlkZGxld2FyZSkgPT4ge1xuICAgIGNvbnN0IG1ha2VSZXF1ZXN0ID0gdGhpcy5jbGllbnQucmVxdWVzdC5iaW5kKHRoaXMuY2xpZW50KTtcbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0ID0gKHJlcSkgPT4gbWlkZGxld2FyZShyZXEsIG1ha2VSZXF1ZXN0KTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlY2huaWNhbGx5IHRoaXMgaXMgbm90IHByaXZhdGUsIHdlIGNhbiBoaWRlIGl0IGZyb20gaW50ZWxsaXNlbnNlIGJ5IGRvaW5nIHRoaXNcbiAgICovXG4gIGFkZFRlbGVtZXRyeSA9ICh0ZWxlbWV0cnkpID0+IHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlVGVsZW1ldHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLmNsaWVudC5tZXJnZVRlbGVtZXRyeSh0ZWxlbWV0cnkpO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgc2NyaXB0LlxuICAgKlxuICAgKiBTY3JpcHRzIG9mZmVyIHRoZSBhYmlsaXR5IHRvIG9wdGltaXN0aWNhbGx5IHRyeSB0byBleGVjdXRlIGEgc2NyaXB0IHdpdGhvdXQgaGF2aW5nIHRvIHNlbmQgdGhlXG4gICAqIGVudGlyZSBzY3JpcHQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHNjcmlwdCBpcyBsb2FkZWQgb24gdGhlIHNlcnZlciwgaXQgdHJpZXMgYWdhaW4gYnkgc2VuZGluZ1xuICAgKiB0aGUgZW50aXJlIHNjcmlwdC4gQWZ0ZXJ3YXJkcywgdGhlIHNjcmlwdCBpcyBjYWNoZWQgb24gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHBhcmFtIHNjcmlwdCAtIFRoZSBzY3JpcHQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRzIC0gT3B0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBzY3JpcHQgYHsgcmVhZG9ubHk/OiBib29sZWFuIH1gXG4gICAqIEByZXR1cm5zIEEgbmV3IHNjcmlwdFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZWRpcyA9IG5ldyBSZWRpcyh7Li4ufSlcbiAgICpcbiAgICogY29uc3Qgc2NyaXB0ID0gcmVkaXMuY3JlYXRlU2NyaXB0PHN0cmluZz4oXCJyZXR1cm4gQVJHVlsxXTtcIilcbiAgICogY29uc3QgYXJnMSA9IGF3YWl0IHNjcmlwdC5ldmFsKFtdLCBbXCJIZWxsbyBXb3JsZFwiXSlcbiAgICogZXhwZWN0KGFyZzEsIFwiSGVsbG8gV29ybGRcIilcbiAgICogYGBgXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlZGlzID0gbmV3IFJlZGlzKHsuLi59KVxuICAgKlxuICAgKiBjb25zdCBzY3JpcHQgPSByZWRpcy5jcmVhdGVTY3JpcHQ8c3RyaW5nPihcInJldHVybiBBUkdWWzFdO1wiLCB7IHJlYWRvbmx5OiB0cnVlIH0pXG4gICAqIGNvbnN0IGFyZzEgPSBhd2FpdCBzY3JpcHQuZXZhbFJvKFtdLCBbXCJIZWxsbyBXb3JsZFwiXSlcbiAgICogZXhwZWN0KGFyZzEsIFwiSGVsbG8gV29ybGRcIilcbiAgICogYGBgXG4gICAqL1xuICBjcmVhdGVTY3JpcHQoc2NyaXB0LCBvcHRzKSB7XG4gICAgcmV0dXJuIG9wdHM/LnJlYWRvbmx5ID8gbmV3IFNjcmlwdFJPKHRoaXMsIHNjcmlwdCkgOiBuZXcgU2NyaXB0KHRoaXMsIHNjcmlwdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwaXBlbGluZSB0aGF0IGFsbG93cyB5b3UgdG8gc2VuZCByZXF1ZXN0cyBpbiBidWxrLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBQaXBlbGluZX1cbiAgICovXG4gIHBpcGVsaW5lID0gKCkgPT4gbmV3IFBpcGVsaW5lKHtcbiAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgIGNvbW1hbmRPcHRpb25zOiB0aGlzLm9wdHMsXG4gICAgbXVsdGlFeGVjOiBmYWxzZVxuICB9KTtcbiAgYXV0b1BpcGVsaW5lID0gKCkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVBdXRvUGlwZWxpbmVQcm94eSh0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiB0byBhbGxvdyBleGVjdXRpbmcgbXVsdGlwbGUgc3RlcHMgYXRvbWljYWxseS5cbiAgICpcbiAgICogQWxsIHRoZSBjb21tYW5kcyBpbiBhIHRyYW5zYWN0aW9uIGFyZSBzZXJpYWxpemVkIGFuZCBleGVjdXRlZCBzZXF1ZW50aWFsbHkuIEEgcmVxdWVzdCBzZW50IGJ5XG4gICAqIGFub3RoZXIgY2xpZW50IHdpbGwgbmV2ZXIgYmUgc2VydmVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIGV4ZWN1dGlvbiBvZiBhIFJlZGlzIFRyYW5zYWN0aW9uLiBUaGlzXG4gICAqIGd1YXJhbnRlZXMgdGhhdCB0aGUgY29tbWFuZHMgYXJlIGV4ZWN1dGVkIGFzIGEgc2luZ2xlIGlzb2xhdGVkIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgUGlwZWxpbmV9XG4gICAqL1xuICBtdWx0aSA9ICgpID0+IG5ldyBQaXBlbGluZSh7XG4gICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICBjb21tYW5kT3B0aW9uczogdGhpcy5vcHRzLFxuICAgIG11bHRpRXhlYzogdHJ1ZVxuICB9KTtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gaW5zdGFuY2UgdGhhdCBjYW4gYmUgdXNlZCB0byBleGVjdXRlIGBCSVRGSUVMRGAgY29tbWFuZHMgb24gb25lIGtleS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiByZWRpcy5zZXQoXCJteWtleVwiLCAwKTtcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVkaXMuYml0ZmllbGQoXCJteWtleVwiKVxuICAgKiAgIC5zZXQoXCJ1NFwiLCAwLCAxNilcbiAgICogICAuaW5jcihcInU0XCIsIFwiIzFcIiwgMSlcbiAgICogICAuZXhlYygpO1xuICAgKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyBbMCwgMV1cbiAgICogYGBgXG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9iaXRmaWVsZFxuICAgKi9cbiAgYml0ZmllbGQgPSAoLi4uYXJncykgPT4gbmV3IEJpdEZpZWxkQ29tbWFuZChhcmdzLCB0aGlzLmNsaWVudCwgdGhpcy5vcHRzKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9hcHBlbmRcbiAgICovXG4gIGFwcGVuZCA9ICguLi5hcmdzKSA9PiBuZXcgQXBwZW5kQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdGNvdW50XG4gICAqL1xuICBiaXRjb3VudCA9ICguLi5hcmdzKSA9PiBuZXcgQml0Q291bnRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYml0b3BcbiAgICovXG4gIGJpdG9wID0gKG9wLCBkZXN0aW5hdGlvbktleSwgc291cmNlS2V5LCAuLi5zb3VyY2VLZXlzKSA9PiBuZXcgQml0T3BDb21tYW5kKFtvcCwgZGVzdGluYXRpb25LZXksIHNvdXJjZUtleSwgLi4uc291cmNlS2V5c10sIHRoaXMub3B0cykuZXhlYyhcbiAgICB0aGlzLmNsaWVudFxuICApO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdHBvc1xuICAgKi9cbiAgYml0cG9zID0gKC4uLmFyZ3MpID0+IG5ldyBCaXRQb3NDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvY2xpZW50LXNldGluZm9cbiAgICovXG4gIGNsaWVudFNldGluZm8gPSAoLi4uYXJncykgPT4gbmV3IENsaWVudFNldEluZm9Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvY29weVxuICAgKi9cbiAgY29weSA9ICguLi5hcmdzKSA9PiBuZXcgQ29weUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9kYnNpemVcbiAgICovXG4gIGRic2l6ZSA9ICgpID0+IG5ldyBEQlNpemVDb21tYW5kKHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVjclxuICAgKi9cbiAgZGVjciA9ICguLi5hcmdzKSA9PiBuZXcgRGVjckNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9kZWNyYnlcbiAgICovXG4gIGRlY3JieSA9ICguLi5hcmdzKSA9PiBuZXcgRGVjckJ5Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2RlbFxuICAgKi9cbiAgZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBEZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZWNob1xuICAgKi9cbiAgZWNobyA9ICguLi5hcmdzKSA9PiBuZXcgRWNob0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ldmFsX3JvXG4gICAqL1xuICBldmFsUm8gPSAoLi4uYXJncykgPT4gbmV3IEV2YWxST0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ldmFsXG4gICAqL1xuICBldmFsID0gKC4uLmFyZ3MpID0+IG5ldyBFdmFsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxzaGFfcm9cbiAgICovXG4gIGV2YWxzaGFSbyA9ICguLi5hcmdzKSA9PiBuZXcgRXZhbHNoYVJPQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxzaGFcbiAgICovXG4gIGV2YWxzaGEgPSAoLi4uYXJncykgPT4gbmV3IEV2YWxzaGFDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBHZW5lcmljIG1ldGhvZCB0byBleGVjdXRlIGFueSBSZWRpcyBjb21tYW5kLlxuICAgKi9cbiAgZXhlYyA9IChhcmdzKSA9PiBuZXcgRXhlY0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leGlzdHNcbiAgICovXG4gIGV4aXN0cyA9ICguLi5hcmdzKSA9PiBuZXcgRXhpc3RzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V4cGlyZVxuICAgKi9cbiAgZXhwaXJlID0gKC4uLmFyZ3MpID0+IG5ldyBFeHBpcmVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZXhwaXJlYXRcbiAgICovXG4gIGV4cGlyZWF0ID0gKC4uLmFyZ3MpID0+IG5ldyBFeHBpcmVBdENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9mbHVzaGFsbFxuICAgKi9cbiAgZmx1c2hhbGwgPSAoYXJncykgPT4gbmV3IEZsdXNoQWxsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2ZsdXNoZGJcbiAgICovXG4gIGZsdXNoZGIgPSAoLi4uYXJncykgPT4gbmV3IEZsdXNoREJDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2VvYWRkXG4gICAqL1xuICBnZW9hZGQgPSAoLi4uYXJncykgPT4gbmV3IEdlb0FkZENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9wb3NcbiAgICovXG4gIGdlb3BvcyA9ICguLi5hcmdzKSA9PiBuZXcgR2VvUG9zQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dlb2Rpc3RcbiAgICovXG4gIGdlb2Rpc3QgPSAoLi4uYXJncykgPT4gbmV3IEdlb0Rpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2VvaGFzaFxuICAgKi9cbiAgZ2VvaGFzaCA9ICguLi5hcmdzKSA9PiBuZXcgR2VvSGFzaENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9zZWFyY2hcbiAgICovXG4gIGdlb3NlYXJjaCA9ICguLi5hcmdzKSA9PiBuZXcgR2VvU2VhcmNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dlb3NlYXJjaHN0b3JlXG4gICAqL1xuICBnZW9zZWFyY2hzdG9yZSA9ICguLi5hcmdzKSA9PiBuZXcgR2VvU2VhcmNoU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2V0XG4gICAqL1xuICBnZXQgPSAoLi4uYXJncykgPT4gbmV3IEdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRiaXRcbiAgICovXG4gIGdldGJpdCA9ICguLi5hcmdzKSA9PiBuZXcgR2V0Qml0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dldGRlbFxuICAgKi9cbiAgZ2V0ZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBHZXREZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2V0ZXhcbiAgICovXG4gIGdldGV4ID0gKC4uLmFyZ3MpID0+IG5ldyBHZXRFeENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRyYW5nZVxuICAgKi9cbiAgZ2V0cmFuZ2UgPSAoLi4uYXJncykgPT4gbmV3IEdldFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dldHNldFxuICAgKi9cbiAgZ2V0c2V0ID0gKGtleSwgdmFsdWUpID0+IG5ldyBHZXRTZXRDb21tYW5kKFtrZXksIHZhbHVlXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oZGVsXG4gICAqL1xuICBoZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBIRGVsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleGlzdHNcbiAgICovXG4gIGhleGlzdHMgPSAoLi4uYXJncykgPT4gbmV3IEhFeGlzdHNDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGV4cGlyZVxuICAgKi9cbiAgaGV4cGlyZSA9ICguLi5hcmdzKSA9PiBuZXcgSEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oZXhwaXJlYXRcbiAgICovXG4gIGhleHBpcmVhdCA9ICguLi5hcmdzKSA9PiBuZXcgSEV4cGlyZUF0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmV0aW1lXG4gICAqL1xuICBoZXhwaXJldGltZSA9ICguLi5hcmdzKSA9PiBuZXcgSEV4cGlyZVRpbWVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHR0bFxuICAgKi9cbiAgaHR0bCA9ICguLi5hcmdzKSA9PiBuZXcgSFR0bENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ocGV4cGlyZVxuICAgKi9cbiAgaHBleHBpcmUgPSAoLi4uYXJncykgPT4gbmV3IEhQRXhwaXJlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJlYXRcbiAgICovXG4gIGhwZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gbmV3IEhQRXhwaXJlQXRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHBleHBpcmV0aW1lXG4gICAqL1xuICBocGV4cGlyZXRpbWUgPSAoLi4uYXJncykgPT4gbmV3IEhQRXhwaXJlVGltZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ocHR0bFxuICAgKi9cbiAgaHB0dGwgPSAoLi4uYXJncykgPT4gbmV3IEhQVHRsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXJzaXN0XG4gICAqL1xuICBocGVyc2lzdCA9ICguLi5hcmdzKSA9PiBuZXcgSFBlcnNpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGdldFxuICAgKi9cbiAgaGdldCA9ICguLi5hcmdzKSA9PiBuZXcgSEdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oZ2V0YWxsXG4gICAqL1xuICBoZ2V0YWxsID0gKC4uLmFyZ3MpID0+IG5ldyBIR2V0QWxsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRkZWxcbiAgICovXG4gIGhnZXRkZWwgPSAoLi4uYXJncykgPT4gbmV3IEhHZXREZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGdldGV4XG4gICAqL1xuICBoZ2V0ZXggPSAoLi4uYXJncykgPT4gbmV3IEhHZXRFeENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oaW5jcmJ5XG4gICAqL1xuICBoaW5jcmJ5ID0gKC4uLmFyZ3MpID0+IG5ldyBISW5jckJ5Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hpbmNyYnlmbG9hdFxuICAgKi9cbiAgaGluY3JieWZsb2F0ID0gKC4uLmFyZ3MpID0+IG5ldyBISW5jckJ5RmxvYXRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGtleXNcbiAgICovXG4gIGhrZXlzID0gKC4uLmFyZ3MpID0+IG5ldyBIS2V5c0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9obGVuXG4gICAqL1xuICBobGVuID0gKC4uLmFyZ3MpID0+IG5ldyBITGVuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2htZ2V0XG4gICAqL1xuICBobWdldCA9ICguLi5hcmdzKSA9PiBuZXcgSE1HZXRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaG1zZXRcbiAgICovXG4gIGhtc2V0ID0gKGtleSwga3YpID0+IG5ldyBITVNldENvbW1hbmQoW2tleSwga3ZdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hyYW5kZmllbGRcbiAgICovXG4gIGhyYW5kZmllbGQgPSAoa2V5LCBjb3VudCwgd2l0aFZhbHVlcykgPT4gbmV3IEhSYW5kRmllbGRDb21tYW5kKFtrZXksIGNvdW50LCB3aXRoVmFsdWVzXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2NhblxuICAgKi9cbiAgaHNjYW4gPSAoLi4uYXJncykgPT4gbmV3IEhTY2FuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRcbiAgICovXG4gIGhzZXQgPSAoa2V5LCBrdikgPT4gbmV3IEhTZXRDb21tYW5kKFtrZXksIGt2XSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2V0ZXhcbiAgICovXG4gIGhzZXRleCA9ICguLi5hcmdzKSA9PiBuZXcgSFNldEV4Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRueFxuICAgKi9cbiAgaHNldG54ID0gKGtleSwgZmllbGQsIHZhbHVlKSA9PiBuZXcgSFNldE5YQ29tbWFuZChba2V5LCBmaWVsZCwgdmFsdWVdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzdHJsZW5cbiAgICovXG4gIGhzdHJsZW4gPSAoLi4uYXJncykgPT4gbmV3IEhTdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHZhbHNcbiAgICovXG4gIGh2YWxzID0gKC4uLmFyZ3MpID0+IG5ldyBIVmFsc0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyXG4gICAqL1xuICBpbmNyID0gKC4uLmFyZ3MpID0+IG5ldyBJbmNyQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2luY3JieVxuICAgKi9cbiAgaW5jcmJ5ID0gKC4uLmFyZ3MpID0+IG5ldyBJbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaW5jcmJ5ZmxvYXRcbiAgICovXG4gIGluY3JieWZsb2F0ID0gKC4uLmFyZ3MpID0+IG5ldyBJbmNyQnlGbG9hdENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9rZXlzXG4gICAqL1xuICBrZXlzID0gKC4uLmFyZ3MpID0+IG5ldyBLZXlzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xpbmRleFxuICAgKi9cbiAgbGluZGV4ID0gKC4uLmFyZ3MpID0+IG5ldyBMSW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbGluc2VydFxuICAgKi9cbiAgbGluc2VydCA9IChrZXksIGRpcmVjdGlvbiwgcGl2b3QsIHZhbHVlKSA9PiBuZXcgTEluc2VydENvbW1hbmQoW2tleSwgZGlyZWN0aW9uLCBwaXZvdCwgdmFsdWVdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xsZW5cbiAgICovXG4gIGxsZW4gPSAoLi4uYXJncykgPT4gbmV3IExMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbG1vdmVcbiAgICovXG4gIGxtb3ZlID0gKC4uLmFyZ3MpID0+IG5ldyBMTW92ZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scG9wXG4gICAqL1xuICBscG9wID0gKC4uLmFyZ3MpID0+IG5ldyBMUG9wQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xtcG9wXG4gICAqL1xuICBsbXBvcCA9ICguLi5hcmdzKSA9PiBuZXcgTG1Qb3BDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHBvc1xuICAgKi9cbiAgbHBvcyA9ICguLi5hcmdzKSA9PiBuZXcgTFBvc0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scHVzaFxuICAgKi9cbiAgbHB1c2ggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IExQdXNoQ29tbWFuZChba2V5LCAuLi5lbGVtZW50c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHB1c2h4XG4gICAqL1xuICBscHVzaHggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IExQdXNoWENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xyYW5nZVxuICAgKi9cbiAgbHJhbmdlID0gKC4uLmFyZ3MpID0+IG5ldyBMUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHJlbVxuICAgKi9cbiAgbHJlbSA9IChrZXksIGNvdW50LCB2YWx1ZSkgPT4gbmV3IExSZW1Db21tYW5kKFtrZXksIGNvdW50LCB2YWx1ZV0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHNldFxuICAgKi9cbiAgbHNldCA9IChrZXksIGluZGV4LCB2YWx1ZSkgPT4gbmV3IExTZXRDb21tYW5kKFtrZXksIGluZGV4LCB2YWx1ZV0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHRyaW1cbiAgICovXG4gIGx0cmltID0gKC4uLmFyZ3MpID0+IG5ldyBMVHJpbUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9tZ2V0XG4gICAqL1xuICBtZ2V0ID0gKC4uLmFyZ3MpID0+IG5ldyBNR2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21zZXRcbiAgICovXG4gIG1zZXQgPSAoa3YpID0+IG5ldyBNU2V0Q29tbWFuZChba3ZdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21zZXRueFxuICAgKi9cbiAgbXNldG54ID0gKGt2KSA9PiBuZXcgTVNldE5YQ29tbWFuZChba3ZdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3BlcnNpc3RcbiAgICovXG4gIHBlcnNpc3QgPSAoLi4uYXJncykgPT4gbmV3IFBlcnNpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGV4cGlyZVxuICAgKi9cbiAgcGV4cGlyZSA9ICguLi5hcmdzKSA9PiBuZXcgUEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wZXhwaXJlYXRcbiAgICovXG4gIHBleHBpcmVhdCA9ICguLi5hcmdzKSA9PiBuZXcgUEV4cGlyZUF0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3BmYWRkXG4gICAqL1xuICBwZmFkZCA9ICguLi5hcmdzKSA9PiBuZXcgUGZBZGRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZjb3VudFxuICAgKi9cbiAgcGZjb3VudCA9ICguLi5hcmdzKSA9PiBuZXcgUGZDb3VudENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wZm1lcmdlXG4gICAqL1xuICBwZm1lcmdlID0gKC4uLmFyZ3MpID0+IG5ldyBQZk1lcmdlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3BpbmdcbiAgICovXG4gIHBpbmcgPSAoYXJncykgPT4gbmV3IFBpbmdDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHNldGV4XG4gICAqL1xuICBwc2V0ZXggPSAoa2V5LCB0dGwsIHZhbHVlKSA9PiBuZXcgUFNldEVYQ29tbWFuZChba2V5LCB0dGwsIHZhbHVlXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wc3Vic2NyaWJlXG4gICAqL1xuICBwc3Vic2NyaWJlID0gKHBhdHRlcm5zKSA9PiB7XG4gICAgY29uc3QgcGF0dGVybkFycmF5ID0gQXJyYXkuaXNBcnJheShwYXR0ZXJucykgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKHRoaXMuY2xpZW50LCBwYXR0ZXJuQXJyYXksIHRydWUsIHRoaXMub3B0cyk7XG4gIH07XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHR0bFxuICAgKi9cbiAgcHR0bCA9ICguLi5hcmdzKSA9PiBuZXcgUFR0bENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wdWJsaXNoXG4gICAqL1xuICBwdWJsaXNoID0gKC4uLmFyZ3MpID0+IG5ldyBQdWJsaXNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3JhbmRvbWtleVxuICAgKi9cbiAgcmFuZG9ta2V5ID0gKCkgPT4gbmV3IFJhbmRvbUtleUNvbW1hbmQoKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9yZW5hbWVcbiAgICovXG4gIHJlbmFtZSA9ICguLi5hcmdzKSA9PiBuZXcgUmVuYW1lQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3JlbmFtZW54XG4gICAqL1xuICByZW5hbWVueCA9ICguLi5hcmdzKSA9PiBuZXcgUmVuYW1lTlhDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcnBvcFxuICAgKi9cbiAgcnBvcCA9ICguLi5hcmdzKSA9PiBuZXcgUlBvcENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ycHVzaFxuICAgKi9cbiAgcnB1c2ggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IFJQdXNoQ29tbWFuZChba2V5LCAuLi5lbGVtZW50c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcnB1c2h4XG4gICAqL1xuICBycHVzaHggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IFJQdXNoWENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NhZGRcbiAgICovXG4gIHNhZGQgPSAoa2V5LCBtZW1iZXIsIC4uLm1lbWJlcnMpID0+IG5ldyBTQWRkQ29tbWFuZChba2V5LCBtZW1iZXIsIC4uLm1lbWJlcnNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICBzY2FuKGN1cnNvciwgb3B0cykge1xuICAgIHJldHVybiBuZXcgU2NhbkNvbW1hbmQoW2N1cnNvciwgb3B0c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zY2FyZFxuICAgKi9cbiAgc2NhcmQgPSAoLi4uYXJncykgPT4gbmV3IFNDYXJkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1leGlzdHNcbiAgICovXG4gIHNjcmlwdEV4aXN0cyA9ICguLi5hcmdzKSA9PiBuZXcgU2NyaXB0RXhpc3RzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1mbHVzaFxuICAgKi9cbiAgc2NyaXB0Rmx1c2ggPSAoLi4uYXJncykgPT4gbmV3IFNjcmlwdEZsdXNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1sb2FkXG4gICAqL1xuICBzY3JpcHRMb2FkID0gKC4uLmFyZ3MpID0+IG5ldyBTY3JpcHRMb2FkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NkaWZmXG4gICAqL1xuICBzZGlmZiA9ICguLi5hcmdzKSA9PiBuZXcgU0RpZmZDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2RpZmZzdG9yZVxuICAgKi9cbiAgc2RpZmZzdG9yZSA9ICguLi5hcmdzKSA9PiBuZXcgU0RpZmZTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRcbiAgICovXG4gIHNldCA9IChrZXksIHZhbHVlLCBvcHRzKSA9PiBuZXcgU2V0Q29tbWFuZChba2V5LCB2YWx1ZSwgb3B0c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2V0Yml0XG4gICAqL1xuICBzZXRiaXQgPSAoLi4uYXJncykgPT4gbmV3IFNldEJpdENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRleFxuICAgKi9cbiAgc2V0ZXggPSAoa2V5LCB0dGwsIHZhbHVlKSA9PiBuZXcgU2V0RXhDb21tYW5kKFtrZXksIHR0bCwgdmFsdWVdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldG54XG4gICAqL1xuICBzZXRueCA9IChrZXksIHZhbHVlKSA9PiBuZXcgU2V0TnhDb21tYW5kKFtrZXksIHZhbHVlXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRyYW5nZVxuICAgKi9cbiAgc2V0cmFuZ2UgPSAoLi4uYXJncykgPT4gbmV3IFNldFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NpbnRlclxuICAgKi9cbiAgc2ludGVyID0gKC4uLmFyZ3MpID0+IG5ldyBTSW50ZXJDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2ludGVyc3RvcmVcbiAgICovXG4gIHNpbnRlcnN0b3JlID0gKC4uLmFyZ3MpID0+IG5ldyBTSW50ZXJTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zaXNtZW1iZXJcbiAgICovXG4gIHNpc21lbWJlciA9IChrZXksIG1lbWJlcikgPT4gbmV3IFNJc01lbWJlckNvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zbWlzbWVtYmVyXG4gICAqL1xuICBzbWlzbWVtYmVyID0gKGtleSwgbWVtYmVycykgPT4gbmV3IFNNSXNNZW1iZXJDb21tYW5kKFtrZXksIG1lbWJlcnNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NtZW1iZXJzXG4gICAqL1xuICBzbWVtYmVycyA9ICguLi5hcmdzKSA9PiBuZXcgU01lbWJlcnNDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc21vdmVcbiAgICovXG4gIHNtb3ZlID0gKHNvdXJjZSwgZGVzdGluYXRpb24sIG1lbWJlcikgPT4gbmV3IFNNb3ZlQ29tbWFuZChbc291cmNlLCBkZXN0aW5hdGlvbiwgbWVtYmVyXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zcG9wXG4gICAqL1xuICBzcG9wID0gKC4uLmFyZ3MpID0+IG5ldyBTUG9wQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NyYW5kbWVtYmVyXG4gICAqL1xuICBzcmFuZG1lbWJlciA9ICguLi5hcmdzKSA9PiBuZXcgU1JhbmRNZW1iZXJDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc3JlbVxuICAgKi9cbiAgc3JlbSA9IChrZXksIC4uLm1lbWJlcnMpID0+IG5ldyBTUmVtQ29tbWFuZChba2V5LCAuLi5tZW1iZXJzXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zc2NhblxuICAgKi9cbiAgc3NjYW4gPSAoLi4uYXJncykgPT4gbmV3IFNTY2FuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N0cmxlblxuICAgKi9cbiAgc3RybGVuID0gKC4uLmFyZ3MpID0+IG5ldyBTdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc3Vic2NyaWJlXG4gICAqL1xuICBzdWJzY3JpYmUgPSAoY2hhbm5lbHMpID0+IHtcbiAgICBjb25zdCBjaGFubmVsQXJyYXkgPSBBcnJheS5pc0FycmF5KGNoYW5uZWxzKSA/IGNoYW5uZWxzIDogW2NoYW5uZWxzXTtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIodGhpcy5jbGllbnQsIGNoYW5uZWxBcnJheSwgZmFsc2UsIHRoaXMub3B0cyk7XG4gIH07XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc3VuaW9uXG4gICAqL1xuICBzdW5pb24gPSAoLi4uYXJncykgPT4gbmV3IFNVbmlvbkNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zdW5pb25zdG9yZVxuICAgKi9cbiAgc3VuaW9uc3RvcmUgPSAoLi4uYXJncykgPT4gbmV3IFNVbmlvblN0b3JlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3RpbWVcbiAgICovXG4gIHRpbWUgPSAoKSA9PiBuZXcgVGltZUNvbW1hbmQoKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy90b3VjaFxuICAgKi9cbiAgdG91Y2ggPSAoLi4uYXJncykgPT4gbmV3IFRvdWNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3R0bFxuICAgKi9cbiAgdHRsID0gKC4uLmFyZ3MpID0+IG5ldyBUdGxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdHlwZVxuICAgKi9cbiAgdHlwZSA9ICguLi5hcmdzKSA9PiBuZXcgVHlwZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy91bmxpbmtcbiAgICovXG4gIHVubGluayA9ICguLi5hcmdzKSA9PiBuZXcgVW5saW5rQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhZGRcbiAgICovXG4gIHhhZGQgPSAoLi4uYXJncykgPT4gbmV3IFhBZGRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveGFja1xuICAgKi9cbiAgeGFjayA9ICguLi5hcmdzKSA9PiBuZXcgWEFja0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94YWNrZGVsXG4gICAqL1xuICB4YWNrZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBYQWNrRGVsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hkZWxcbiAgICovXG4gIHhkZWwgPSAoLi4uYXJncykgPT4gbmV3IFhEZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveGRlbGV4XG4gICAqL1xuICB4ZGVsZXggPSAoLi4uYXJncykgPT4gbmV3IFhEZWxFeENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94Z3JvdXBcbiAgICovXG4gIHhncm91cCA9ICguLi5hcmdzKSA9PiBuZXcgWEdyb3VwQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyZWFkXG4gICAqL1xuICB4cmVhZCA9ICguLi5hcmdzKSA9PiBuZXcgWFJlYWRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJlYWRncm91cFxuICAgKi9cbiAgeHJlYWRncm91cCA9ICguLi5hcmdzKSA9PiBuZXcgWFJlYWRHcm91cENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94aW5mb1xuICAgKi9cbiAgeGluZm8gPSAoLi4uYXJncykgPT4gbmV3IFhJbmZvQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hsZW5cbiAgICovXG4gIHhsZW4gPSAoLi4uYXJncykgPT4gbmV3IFhMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHBlbmRpbmdcbiAgICovXG4gIHhwZW5kaW5nID0gKC4uLmFyZ3MpID0+IG5ldyBYUGVuZGluZ0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94Y2xhaW1cbiAgICovXG4gIHhjbGFpbSA9ICguLi5hcmdzKSA9PiBuZXcgWENsYWltQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhdXRvY2xhaW1cbiAgICovXG4gIHhhdXRvY2xhaW0gPSAoLi4uYXJncykgPT4gbmV3IFhBdXRvQ2xhaW0oYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94dHJpbVxuICAgKi9cbiAgeHRyaW0gPSAoLi4uYXJncykgPT4gbmV3IFhUcmltQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyYW5nZVxuICAgKi9cbiAgeHJhbmdlID0gKC4uLmFyZ3MpID0+IG5ldyBYUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJldnJhbmdlXG4gICAqL1xuICB4cmV2cmFuZ2UgPSAoLi4uYXJncykgPT4gbmV3IFhSZXZSYW5nZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96YWRkXG4gICAqL1xuICB6YWRkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoXCJzY29yZVwiIGluIGFyZ3NbMV0pIHtcbiAgICAgIHJldHVybiBuZXcgWkFkZENvbW1hbmQoW2FyZ3NbMF0sIGFyZ3NbMV0sIC4uLmFyZ3Muc2xpY2UoMildLCB0aGlzLm9wdHMpLmV4ZWMoXG4gICAgICAgIHRoaXMuY2xpZW50XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpBZGRDb21tYW5kKFxuICAgICAgW2FyZ3NbMF0sIGFyZ3NbMV0sIC4uLmFyZ3Muc2xpY2UoMildLFxuICAgICAgdGhpcy5vcHRzXG4gICAgKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96Y2FyZFxuICAgKi9cbiAgemNhcmQgPSAoLi4uYXJncykgPT4gbmV3IFpDYXJkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pjb3VudFxuICAgKi9cbiAgemNvdW50ID0gKC4uLmFyZ3MpID0+IG5ldyBaQ291bnRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemRpZmZzdG9yZVxuICAgKi9cbiAgemRpZmZzdG9yZSA9ICguLi5hcmdzKSA9PiBuZXcgWkRpZmZTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96aW5jcmJ5XG4gICAqL1xuICB6aW5jcmJ5ID0gKGtleSwgaW5jcmVtZW50LCBtZW1iZXIpID0+IG5ldyBaSW5jckJ5Q29tbWFuZChba2V5LCBpbmNyZW1lbnQsIG1lbWJlcl0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemludGVyc3RvcmVcbiAgICovXG4gIHppbnRlcnN0b3JlID0gKC4uLmFyZ3MpID0+IG5ldyBaSW50ZXJTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96bGV4Y291bnRcbiAgICovXG4gIHpsZXhjb3VudCA9ICguLi5hcmdzKSA9PiBuZXcgWkxleENvdW50Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3ptc2NvcmVcbiAgICovXG4gIHptc2NvcmUgPSAoLi4uYXJncykgPT4gbmV3IFpNU2NvcmVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenBvcG1heFxuICAgKi9cbiAgenBvcG1heCA9ICguLi5hcmdzKSA9PiBuZXcgWlBvcE1heENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cG9wbWluXG4gICAqL1xuICB6cG9wbWluID0gKC4uLmFyZ3MpID0+IG5ldyBaUG9wTWluQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pyYW5nZVxuICAgKi9cbiAgenJhbmdlID0gKC4uLmFyZ3MpID0+IG5ldyBaUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJhbmtcbiAgICovXG4gIHpyYW5rID0gKGtleSwgbWVtYmVyKSA9PiBuZXcgWlJhbmtDb21tYW5kKFtrZXksIG1lbWJlcl0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbVxuICAgKi9cbiAgenJlbSA9IChrZXksIC4uLm1lbWJlcnMpID0+IG5ldyBaUmVtQ29tbWFuZChba2V5LCAuLi5tZW1iZXJzXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmVtcmFuZ2VieWxleFxuICAgKi9cbiAgenJlbXJhbmdlYnlsZXggPSAoLi4uYXJncykgPT4gbmV3IFpSZW1SYW5nZUJ5TGV4Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pyZW1yYW5nZWJ5cmFua1xuICAgKi9cbiAgenJlbXJhbmdlYnlyYW5rID0gKC4uLmFyZ3MpID0+IG5ldyBaUmVtUmFuZ2VCeVJhbmtDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlzY29yZVxuICAgKi9cbiAgenJlbXJhbmdlYnlzY29yZSA9ICguLi5hcmdzKSA9PiBuZXcgWlJlbVJhbmdlQnlTY29yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmV2cmFua1xuICAgKi9cbiAgenJldnJhbmsgPSAoa2V5LCBtZW1iZXIpID0+IG5ldyBaUmV2UmFua0NvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96c2NhblxuICAgKi9cbiAgenNjYW4gPSAoLi4uYXJncykgPT4gbmV3IFpTY2FuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pzY29yZVxuICAgKi9cbiAgenNjb3JlID0gKGtleSwgbWVtYmVyKSA9PiBuZXcgWlNjb3JlQ29tbWFuZChba2V5LCBtZW1iZXJdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3p1bmlvblxuICAgKi9cbiAgenVuaW9uID0gKC4uLmFyZ3MpID0+IG5ldyBaVW5pb25Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenVuaW9uc3RvcmVcbiAgICovXG4gIHp1bmlvbnN0b3JlID0gKC4uLmFyZ3MpID0+IG5ldyBaVW5pb25TdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbn07XG5cbi8vIHZlcnNpb24udHNcbnZhciBWRVJTSU9OID0gXCJ2MS4zNi4yXCI7XG5cbmV4cG9ydCB7XG4gIGVycm9yX2V4cG9ydHMsXG4gIEh0dHBDbGllbnQsXG4gIFJlZGlzLFxuICBWRVJTSU9OXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/nodejs.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/nodejs.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Redis: () => (/* binding */ Redis2),\n/* harmony export */   errors: () => (/* reexport safe */ _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.error_exports)\n/* harmony export */ });\n/* harmony import */ var _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-Q3SWX4BB.mjs */ \"(rsc)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs\");\n\n\n// platforms/nodejs.ts\nif (typeof atob === \"undefined\") {\n  global.atob = (b64) => Buffer.from(b64, \"base64\").toString(\"utf8\");\n}\nvar Redis2 = class _Redis extends _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.Redis {\n  /**\n   * Create a new redis client by providing a custom `Requester` implementation\n   *\n   * @example\n   * ```ts\n   *\n   * import { UpstashRequest, Requester, UpstashResponse, Redis } from \"@upstash/redis\"\n   *\n   *  const requester: Requester = {\n   *    request: <TResult>(req: UpstashRequest): Promise<UpstashResponse<TResult>> => {\n   *      // ...\n   *    }\n   *  }\n   *\n   * const redis = new Redis(requester)\n   * ```\n   */\n  constructor(configOrRequester) {\n    if (\"request\" in configOrRequester) {\n      super(configOrRequester);\n      return;\n    }\n    if (!configOrRequester.url) {\n      console.warn(\n        `[Upstash Redis] The 'url' property is missing or undefined in your Redis config.`\n      );\n    } else if (configOrRequester.url.startsWith(\" \") || configOrRequester.url.endsWith(\" \") || /\\r|\\n/.test(configOrRequester.url)) {\n      console.warn(\n        \"[Upstash Redis] The redis url contains whitespace or newline, which can cause errors!\"\n      );\n    }\n    if (!configOrRequester.token) {\n      console.warn(\n        `[Upstash Redis] The 'token' property is missing or undefined in your Redis config.`\n      );\n    } else if (configOrRequester.token.startsWith(\" \") || configOrRequester.token.endsWith(\" \") || /\\r|\\n/.test(configOrRequester.token)) {\n      console.warn(\n        \"[Upstash Redis] The redis token contains whitespace or newline, which can cause errors!\"\n      );\n    }\n    const client = new _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpClient({\n      baseUrl: configOrRequester.url,\n      retry: configOrRequester.retry,\n      headers: { authorization: `Bearer ${configOrRequester.token}` },\n      agent: configOrRequester.agent,\n      responseEncoding: configOrRequester.responseEncoding,\n      cache: configOrRequester.cache ?? \"no-store\",\n      signal: configOrRequester.signal,\n      keepAlive: configOrRequester.keepAlive,\n      readYourWrites: configOrRequester.readYourWrites\n    });\n    const safeEnv = typeof process === \"object\" && process && typeof process.env === \"object\" && process.env ? process.env : {};\n    super(client, {\n      automaticDeserialization: configOrRequester.automaticDeserialization,\n      enableTelemetry: configOrRequester.enableTelemetry ?? !safeEnv.UPSTASH_DISABLE_TELEMETRY,\n      latencyLogging: configOrRequester.latencyLogging,\n      enableAutoPipelining: configOrRequester.enableAutoPipelining\n    });\n    const nodeVersion = typeof process === \"object\" && process ? process.version : void 0;\n    this.addTelemetry({\n      runtime: (\n        // @ts-expect-error to silence compiler\n        typeof EdgeRuntime === \"string\" ? \"edge-light\" : nodeVersion ? `node@${nodeVersion}` : \"unknown\"\n      ),\n      platform: safeEnv.UPSTASH_CONSOLE ? \"console\" : safeEnv.VERCEL ? \"vercel\" : safeEnv.AWS_REGION ? \"aws\" : \"unknown\",\n      sdk: `@upstash/redis@${_chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.VERSION}`\n    });\n    if (this.enableAutoPipelining) {\n      return this.autoPipeline();\n    }\n  }\n  /**\n   * Create a new Upstash Redis instance from environment variables.\n   *\n   * Use this to automatically load connection secrets from your environment\n   * variables. For instance when using the Vercel integration.\n   *\n   * This tries to load connection details from your environment using `process.env`:\n   * - URL: `UPSTASH_REDIS_REST_URL` or fallback to `KV_REST_API_URL`\n   * - Token: `UPSTASH_REDIS_REST_TOKEN` or fallback to `KV_REST_API_TOKEN`\n   *\n   * The fallback variables provide compatibility with Vercel KV and other platforms\n   * that may use different naming conventions.\n   */\n  static fromEnv(config) {\n    if (typeof process !== \"object\" || !process || typeof process.env !== \"object\" || !process.env) {\n      throw new TypeError(\n        '[Upstash Redis] Unable to get environment variables, `process.env` is undefined. If you are deploying to cloudflare, please import from \"@upstash/redis/cloudflare\" instead'\n      );\n    }\n    const url = process.env.UPSTASH_REDIS_REST_URL || process.env.KV_REST_API_URL;\n    if (!url) {\n      console.warn(\"[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_URL`\");\n    }\n    const token = process.env.UPSTASH_REDIS_REST_TOKEN || process.env.KV_REST_API_TOKEN;\n    if (!token) {\n      console.warn(\n        \"[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_TOKEN`\"\n      );\n    }\n    return new _Redis({ ...config, url, token });\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHVwc3Rhc2grcmVkaXNAMS4zNi4yL25vZGVfbW9kdWxlcy9AdXBzdGFzaC9yZWRpcy9ub2RlanMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUs4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQUs7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvREFBb0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBVTtBQUNqQztBQUNBO0FBQ0EsaUJBQWlCLHlCQUF5Qix3QkFBd0IsR0FBRztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLFlBQVk7QUFDM0Y7QUFDQTtBQUNBLDZCQUE2Qix3REFBTyxDQUFDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFJRSIsInNvdXJjZXMiOlsiL1VzZXJzL3RpYW56aWhhby9Db2RlQnVkZHkvUHJvdG9mb2xpby9ub2RlX21vZHVsZXMvLnBucG0vQHVwc3Rhc2grcmVkaXNAMS4zNi4yL25vZGVfbW9kdWxlcy9AdXBzdGFzaC9yZWRpcy9ub2RlanMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEh0dHBDbGllbnQsXG4gIFJlZGlzLFxuICBWRVJTSU9OLFxuICBlcnJvcl9leHBvcnRzXG59IGZyb20gXCIuL2NodW5rLVEzU1dYNEJCLm1qc1wiO1xuXG4vLyBwbGF0Zm9ybXMvbm9kZWpzLnRzXG5pZiAodHlwZW9mIGF0b2IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgZ2xvYmFsLmF0b2IgPSAoYjY0KSA9PiBCdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKTtcbn1cbnZhciBSZWRpczIgPSBjbGFzcyBfUmVkaXMgZXh0ZW5kcyBSZWRpcyB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcmVkaXMgY2xpZW50IGJ5IHByb3ZpZGluZyBhIGN1c3RvbSBgUmVxdWVzdGVyYCBpbXBsZW1lbnRhdGlvblxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKlxuICAgKiBpbXBvcnQgeyBVcHN0YXNoUmVxdWVzdCwgUmVxdWVzdGVyLCBVcHN0YXNoUmVzcG9uc2UsIFJlZGlzIH0gZnJvbSBcIkB1cHN0YXNoL3JlZGlzXCJcbiAgICpcbiAgICogIGNvbnN0IHJlcXVlc3RlcjogUmVxdWVzdGVyID0ge1xuICAgKiAgICByZXF1ZXN0OiA8VFJlc3VsdD4ocmVxOiBVcHN0YXNoUmVxdWVzdCk6IFByb21pc2U8VXBzdGFzaFJlc3BvbnNlPFRSZXN1bHQ+PiA9PiB7XG4gICAqICAgICAgLy8gLi4uXG4gICAqICAgIH1cbiAgICogIH1cbiAgICpcbiAgICogY29uc3QgcmVkaXMgPSBuZXcgUmVkaXMocmVxdWVzdGVyKVxuICAgKiBgYGBcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZ09yUmVxdWVzdGVyKSB7XG4gICAgaWYgKFwicmVxdWVzdFwiIGluIGNvbmZpZ09yUmVxdWVzdGVyKSB7XG4gICAgICBzdXBlcihjb25maWdPclJlcXVlc3Rlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29uZmlnT3JSZXF1ZXN0ZXIudXJsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBbVXBzdGFzaCBSZWRpc10gVGhlICd1cmwnIHByb3BlcnR5IGlzIG1pc3Npbmcgb3IgdW5kZWZpbmVkIGluIHlvdXIgUmVkaXMgY29uZmlnLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb25maWdPclJlcXVlc3Rlci51cmwuc3RhcnRzV2l0aChcIiBcIikgfHwgY29uZmlnT3JSZXF1ZXN0ZXIudXJsLmVuZHNXaXRoKFwiIFwiKSB8fCAvXFxyfFxcbi8udGVzdChjb25maWdPclJlcXVlc3Rlci51cmwpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW1Vwc3Rhc2ggUmVkaXNdIFRoZSByZWRpcyB1cmwgY29udGFpbnMgd2hpdGVzcGFjZSBvciBuZXdsaW5lLCB3aGljaCBjYW4gY2F1c2UgZXJyb3JzIVwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZ09yUmVxdWVzdGVyLnRva2VuKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBbVXBzdGFzaCBSZWRpc10gVGhlICd0b2tlbicgcHJvcGVydHkgaXMgbWlzc2luZyBvciB1bmRlZmluZWQgaW4geW91ciBSZWRpcyBjb25maWcuYFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZ09yUmVxdWVzdGVyLnRva2VuLnN0YXJ0c1dpdGgoXCIgXCIpIHx8IGNvbmZpZ09yUmVxdWVzdGVyLnRva2VuLmVuZHNXaXRoKFwiIFwiKSB8fCAvXFxyfFxcbi8udGVzdChjb25maWdPclJlcXVlc3Rlci50b2tlbikpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbVXBzdGFzaCBSZWRpc10gVGhlIHJlZGlzIHRva2VuIGNvbnRhaW5zIHdoaXRlc3BhY2Ugb3IgbmV3bGluZSwgd2hpY2ggY2FuIGNhdXNlIGVycm9ycyFcIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IEh0dHBDbGllbnQoe1xuICAgICAgYmFzZVVybDogY29uZmlnT3JSZXF1ZXN0ZXIudXJsLFxuICAgICAgcmV0cnk6IGNvbmZpZ09yUmVxdWVzdGVyLnJldHJ5LFxuICAgICAgaGVhZGVyczogeyBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Y29uZmlnT3JSZXF1ZXN0ZXIudG9rZW59YCB9LFxuICAgICAgYWdlbnQ6IGNvbmZpZ09yUmVxdWVzdGVyLmFnZW50LFxuICAgICAgcmVzcG9uc2VFbmNvZGluZzogY29uZmlnT3JSZXF1ZXN0ZXIucmVzcG9uc2VFbmNvZGluZyxcbiAgICAgIGNhY2hlOiBjb25maWdPclJlcXVlc3Rlci5jYWNoZSA/PyBcIm5vLXN0b3JlXCIsXG4gICAgICBzaWduYWw6IGNvbmZpZ09yUmVxdWVzdGVyLnNpZ25hbCxcbiAgICAgIGtlZXBBbGl2ZTogY29uZmlnT3JSZXF1ZXN0ZXIua2VlcEFsaXZlLFxuICAgICAgcmVhZFlvdXJXcml0ZXM6IGNvbmZpZ09yUmVxdWVzdGVyLnJlYWRZb3VyV3JpdGVzXG4gICAgfSk7XG4gICAgY29uc3Qgc2FmZUVudiA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgdHlwZW9mIHByb2Nlc3MuZW52ID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ID8gcHJvY2Vzcy5lbnYgOiB7fTtcbiAgICBzdXBlcihjbGllbnQsIHtcbiAgICAgIGF1dG9tYXRpY0Rlc2VyaWFsaXphdGlvbjogY29uZmlnT3JSZXF1ZXN0ZXIuYXV0b21hdGljRGVzZXJpYWxpemF0aW9uLFxuICAgICAgZW5hYmxlVGVsZW1ldHJ5OiBjb25maWdPclJlcXVlc3Rlci5lbmFibGVUZWxlbWV0cnkgPz8gIXNhZmVFbnYuVVBTVEFTSF9ESVNBQkxFX1RFTEVNRVRSWSxcbiAgICAgIGxhdGVuY3lMb2dnaW5nOiBjb25maWdPclJlcXVlc3Rlci5sYXRlbmN5TG9nZ2luZyxcbiAgICAgIGVuYWJsZUF1dG9QaXBlbGluaW5nOiBjb25maWdPclJlcXVlc3Rlci5lbmFibGVBdXRvUGlwZWxpbmluZ1xuICAgIH0pO1xuICAgIGNvbnN0IG5vZGVWZXJzaW9uID0gdHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyA/IHByb2Nlc3MudmVyc2lvbiA6IHZvaWQgMDtcbiAgICB0aGlzLmFkZFRlbGVtZXRyeSh7XG4gICAgICBydW50aW1lOiAoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdG8gc2lsZW5jZSBjb21waWxlclxuICAgICAgICB0eXBlb2YgRWRnZVJ1bnRpbWUgPT09IFwic3RyaW5nXCIgPyBcImVkZ2UtbGlnaHRcIiA6IG5vZGVWZXJzaW9uID8gYG5vZGVAJHtub2RlVmVyc2lvbn1gIDogXCJ1bmtub3duXCJcbiAgICAgICksXG4gICAgICBwbGF0Zm9ybTogc2FmZUVudi5VUFNUQVNIX0NPTlNPTEUgPyBcImNvbnNvbGVcIiA6IHNhZmVFbnYuVkVSQ0VMID8gXCJ2ZXJjZWxcIiA6IHNhZmVFbnYuQVdTX1JFR0lPTiA/IFwiYXdzXCIgOiBcInVua25vd25cIixcbiAgICAgIHNkazogYEB1cHN0YXNoL3JlZGlzQCR7VkVSU0lPTn1gXG4gICAgfSk7XG4gICAgaWYgKHRoaXMuZW5hYmxlQXV0b1BpcGVsaW5pbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLmF1dG9QaXBlbGluZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFVwc3Rhc2ggUmVkaXMgaW5zdGFuY2UgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gICAqXG4gICAqIFVzZSB0aGlzIHRvIGF1dG9tYXRpY2FsbHkgbG9hZCBjb25uZWN0aW9uIHNlY3JldHMgZnJvbSB5b3VyIGVudmlyb25tZW50XG4gICAqIHZhcmlhYmxlcy4gRm9yIGluc3RhbmNlIHdoZW4gdXNpbmcgdGhlIFZlcmNlbCBpbnRlZ3JhdGlvbi5cbiAgICpcbiAgICogVGhpcyB0cmllcyB0byBsb2FkIGNvbm5lY3Rpb24gZGV0YWlscyBmcm9tIHlvdXIgZW52aXJvbm1lbnQgdXNpbmcgYHByb2Nlc3MuZW52YDpcbiAgICogLSBVUkw6IGBVUFNUQVNIX1JFRElTX1JFU1RfVVJMYCBvciBmYWxsYmFjayB0byBgS1ZfUkVTVF9BUElfVVJMYFxuICAgKiAtIFRva2VuOiBgVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOYCBvciBmYWxsYmFjayB0byBgS1ZfUkVTVF9BUElfVE9LRU5gXG4gICAqXG4gICAqIFRoZSBmYWxsYmFjayB2YXJpYWJsZXMgcHJvdmlkZSBjb21wYXRpYmlsaXR5IHdpdGggVmVyY2VsIEtWIGFuZCBvdGhlciBwbGF0Zm9ybXNcbiAgICogdGhhdCBtYXkgdXNlIGRpZmZlcmVudCBuYW1pbmcgY29udmVudGlvbnMuXG4gICAqL1xuICBzdGF0aWMgZnJvbUVudihjb25maWcpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09IFwib2JqZWN0XCIgfHwgIXByb2Nlc3MgfHwgdHlwZW9mIHByb2Nlc3MuZW52ICE9PSBcIm9iamVjdFwiIHx8ICFwcm9jZXNzLmVudikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ1tVcHN0YXNoIFJlZGlzXSBVbmFibGUgdG8gZ2V0IGVudmlyb25tZW50IHZhcmlhYmxlcywgYHByb2Nlc3MuZW52YCBpcyB1bmRlZmluZWQuIElmIHlvdSBhcmUgZGVwbG95aW5nIHRvIGNsb3VkZmxhcmUsIHBsZWFzZSBpbXBvcnQgZnJvbSBcIkB1cHN0YXNoL3JlZGlzL2Nsb3VkZmxhcmVcIiBpbnN0ZWFkJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1VSTCB8fCBwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9VUkw7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltVcHN0YXNoIFJlZGlzXSBVbmFibGUgdG8gZmluZCBlbnZpcm9ubWVudCB2YXJpYWJsZTogYFVQU1RBU0hfUkVESVNfUkVTVF9VUkxgXCIpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9UT0tFTiB8fCBwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9UT0tFTjtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW1Vwc3Rhc2ggUmVkaXNdIFVuYWJsZSB0byBmaW5kIGVudmlyb25tZW50IHZhcmlhYmxlOiBgVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOYFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9SZWRpcyh7IC4uLmNvbmZpZywgdXJsLCB0b2tlbiB9KTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIFJlZGlzMiBhcyBSZWRpcyxcbiAgZXJyb3JfZXhwb3J0cyBhcyBlcnJvcnNcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/nodejs.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpClient: () => (/* binding */ HttpClient),\n/* harmony export */   Redis: () => (/* binding */ Redis),\n/* harmony export */   VERSION: () => (/* binding */ VERSION),\n/* harmony export */   error_exports: () => (/* binding */ error_exports)\n/* harmony export */ });\n/* harmony import */ var uncrypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uncrypto */ \"(ssr)/./node_modules/.pnpm/uncrypto@0.1.3/node_modules/uncrypto/dist/crypto.node.mjs\");\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// pkg/error.ts\nvar error_exports = {};\n__export(error_exports, {\n  UpstashError: () => UpstashError,\n  UpstashJSONParseError: () => UpstashJSONParseError,\n  UrlError: () => UrlError\n});\nvar UpstashError = class extends Error {\n  constructor(message, options) {\n    super(message, options);\n    this.name = \"UpstashError\";\n  }\n};\nvar UrlError = class extends Error {\n  constructor(url) {\n    super(\n      `Upstash Redis client was passed an invalid URL. You should pass a URL starting with https. Received: \"${url}\". `\n    );\n    this.name = \"UrlError\";\n  }\n};\nvar UpstashJSONParseError = class extends UpstashError {\n  constructor(body, options) {\n    const truncatedBody = body.length > 200 ? body.slice(0, 200) + \"...\" : body;\n    super(`Unable to parse response body: ${truncatedBody}`, options);\n    this.name = \"UpstashJSONParseError\";\n  }\n};\n\n// pkg/util.ts\nfunction parseRecursive(obj) {\n  const parsed = Array.isArray(obj) ? obj.map((o) => {\n    try {\n      return parseRecursive(o);\n    } catch {\n      return o;\n    }\n  }) : JSON.parse(obj);\n  if (typeof parsed === \"number\" && parsed.toString() !== obj) {\n    return obj;\n  }\n  return parsed;\n}\nfunction parseResponse(result) {\n  try {\n    return parseRecursive(result);\n  } catch {\n    return result;\n  }\n}\nfunction deserializeScanResponse(result) {\n  return [result[0], ...parseResponse(result.slice(1))];\n}\nfunction deserializeScanWithTypesResponse(result) {\n  const [cursor, keys] = result;\n  const parsedKeys = [];\n  for (let i = 0; i < keys.length; i += 2) {\n    parsedKeys.push({ key: keys[i], type: keys[i + 1] });\n  }\n  return [cursor, parsedKeys];\n}\nfunction mergeHeaders(...headers) {\n  const merged = {};\n  for (const header of headers) {\n    if (!header) continue;\n    for (const [key, value] of Object.entries(header)) {\n      if (value !== void 0 && value !== null) {\n        merged[key] = value;\n      }\n    }\n  }\n  return merged;\n}\nfunction kvArrayToObject(v) {\n  if (typeof v === \"object\" && v !== null && !Array.isArray(v)) return v;\n  if (!Array.isArray(v)) return {};\n  const obj = {};\n  for (let i = 0; i < v.length; i += 2) {\n    if (typeof v[i] === \"string\") obj[v[i]] = v[i + 1];\n  }\n  return obj;\n}\n\n// pkg/http.ts\nvar MAX_BUFFER_SIZE = 1024 * 1024;\nvar HttpClient = class {\n  baseUrl;\n  headers;\n  options;\n  readYourWrites;\n  upstashSyncToken = \"\";\n  hasCredentials;\n  retry;\n  constructor(config) {\n    this.options = {\n      backend: config.options?.backend,\n      agent: config.agent,\n      responseEncoding: config.responseEncoding ?? \"base64\",\n      // default to base64\n      cache: config.cache,\n      signal: config.signal,\n      keepAlive: config.keepAlive ?? true\n    };\n    this.upstashSyncToken = \"\";\n    this.readYourWrites = config.readYourWrites ?? true;\n    this.baseUrl = (config.baseUrl || \"\").replace(/\\/$/, \"\");\n    const urlRegex = /^https?:\\/\\/[^\\s#$./?].\\S*$/;\n    if (this.baseUrl && !urlRegex.test(this.baseUrl)) {\n      throw new UrlError(this.baseUrl);\n    }\n    this.headers = {\n      \"Content-Type\": \"application/json\",\n      ...config.headers\n    };\n    this.hasCredentials = Boolean(this.baseUrl && this.headers.authorization.split(\" \")[1]);\n    if (this.options.responseEncoding === \"base64\") {\n      this.headers[\"Upstash-Encoding\"] = \"base64\";\n    }\n    this.retry = typeof config.retry === \"boolean\" && !config.retry ? {\n      attempts: 1,\n      backoff: () => 0\n    } : {\n      attempts: config.retry?.retries ?? 5,\n      backoff: config.retry?.backoff ?? ((retryCount) => Math.exp(retryCount) * 50)\n    };\n  }\n  mergeTelemetry(telemetry) {\n    this.headers = merge(this.headers, \"Upstash-Telemetry-Runtime\", telemetry.runtime);\n    this.headers = merge(this.headers, \"Upstash-Telemetry-Platform\", telemetry.platform);\n    this.headers = merge(this.headers, \"Upstash-Telemetry-Sdk\", telemetry.sdk);\n  }\n  async request(req) {\n    const requestHeaders = mergeHeaders(this.headers, req.headers ?? {});\n    const requestUrl = [this.baseUrl, ...req.path ?? []].join(\"/\");\n    const isEventStream = requestHeaders.Accept === \"text/event-stream\";\n    const signal = req.signal ?? this.options.signal;\n    const isSignalFunction = typeof signal === \"function\";\n    const requestOptions = {\n      //@ts-expect-error this should throw due to bun regression\n      cache: this.options.cache,\n      method: \"POST\",\n      headers: requestHeaders,\n      body: JSON.stringify(req.body),\n      keepalive: this.options.keepAlive,\n      agent: this.options.agent,\n      signal: isSignalFunction ? signal() : signal,\n      /**\n       * Fastly specific\n       */\n      backend: this.options.backend\n    };\n    if (!this.hasCredentials) {\n      console.warn(\n        \"[Upstash Redis] Redis client was initialized without url or token. Failed to execute command.\"\n      );\n    }\n    if (this.readYourWrites) {\n      const newHeader = this.upstashSyncToken;\n      this.headers[\"upstash-sync-token\"] = newHeader;\n    }\n    let res = null;\n    let error = null;\n    for (let i = 0; i <= this.retry.attempts; i++) {\n      try {\n        res = await fetch(requestUrl, requestOptions);\n        break;\n      } catch (error_) {\n        if (requestOptions.signal?.aborted && isSignalFunction) {\n          throw error_;\n        } else if (requestOptions.signal?.aborted) {\n          const myBlob = new Blob([\n            JSON.stringify({ result: requestOptions.signal.reason ?? \"Aborted\" })\n          ]);\n          const myOptions = {\n            status: 200,\n            statusText: requestOptions.signal.reason ?? \"Aborted\"\n          };\n          res = new Response(myBlob, myOptions);\n          break;\n        }\n        error = error_;\n        if (i < this.retry.attempts) {\n          await new Promise((r) => setTimeout(r, this.retry.backoff(i)));\n        }\n      }\n    }\n    if (!res) {\n      throw error ?? new Error(\"Exhausted all retries\");\n    }\n    if (!res.ok) {\n      let body2;\n      const rawBody2 = await res.text();\n      try {\n        body2 = JSON.parse(rawBody2);\n      } catch (error2) {\n        throw new UpstashJSONParseError(rawBody2, { cause: error2 });\n      }\n      throw new UpstashError(`${body2.error}, command was: ${JSON.stringify(req.body)}`);\n    }\n    if (this.readYourWrites) {\n      const headers = res.headers;\n      this.upstashSyncToken = headers.get(\"upstash-sync-token\") ?? \"\";\n    }\n    if (isEventStream && req && req.onMessage && res.body) {\n      const reader = res.body.getReader();\n      const decoder = new TextDecoder();\n      (async () => {\n        try {\n          let buffer = \"\";\n          while (true) {\n            const { value, done } = await reader.read();\n            if (done) break;\n            buffer += decoder.decode(value, { stream: true });\n            const lines = buffer.split(\"\\n\");\n            buffer = lines.pop() || \"\";\n            if (buffer.length > MAX_BUFFER_SIZE) {\n              throw new Error(\"Buffer size exceeded (1MB)\");\n            }\n            for (const line of lines) {\n              if (line.startsWith(\"data: \")) {\n                const data = line.slice(6);\n                req.onMessage?.(data);\n              }\n            }\n          }\n        } catch (error2) {\n          if (error2 instanceof Error && error2.name === \"AbortError\") {\n          } else {\n            console.error(\"Stream reading error:\", error2);\n          }\n        } finally {\n          try {\n            await reader.cancel();\n          } catch {\n          }\n        }\n      })();\n      return { result: 1 };\n    }\n    let body;\n    const rawBody = await res.text();\n    try {\n      body = JSON.parse(rawBody);\n    } catch (error2) {\n      throw new UpstashJSONParseError(rawBody, { cause: error2 });\n    }\n    if (this.readYourWrites) {\n      const headers = res.headers;\n      this.upstashSyncToken = headers.get(\"upstash-sync-token\") ?? \"\";\n    }\n    if (this.options.responseEncoding === \"base64\") {\n      if (Array.isArray(body)) {\n        return body.map(({ result: result2, error: error2 }) => ({\n          result: decode(result2),\n          error: error2\n        }));\n      }\n      const result = decode(body.result);\n      return { result, error: body.error };\n    }\n    return body;\n  }\n};\nfunction base64decode(b64) {\n  let dec = \"\";\n  try {\n    const binString = atob(b64);\n    const size = binString.length;\n    const bytes = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n      bytes[i] = binString.charCodeAt(i);\n    }\n    dec = new TextDecoder().decode(bytes);\n  } catch {\n    dec = b64;\n  }\n  return dec;\n}\nfunction decode(raw) {\n  let result = void 0;\n  switch (typeof raw) {\n    case \"undefined\": {\n      return raw;\n    }\n    case \"number\": {\n      result = raw;\n      break;\n    }\n    case \"object\": {\n      if (Array.isArray(raw)) {\n        result = raw.map(\n          (v) => typeof v === \"string\" ? base64decode(v) : Array.isArray(v) ? v.map((element) => decode(element)) : v\n        );\n      } else {\n        result = null;\n      }\n      break;\n    }\n    case \"string\": {\n      result = raw === \"OK\" ? \"OK\" : base64decode(raw);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  return result;\n}\nfunction merge(obj, key, value) {\n  if (!value) {\n    return obj;\n  }\n  obj[key] = obj[key] ? [obj[key], value].join(\",\") : value;\n  return obj;\n}\n\n// pkg/commands/command.ts\nvar defaultSerializer = (c) => {\n  switch (typeof c) {\n    case \"string\":\n    case \"number\":\n    case \"boolean\": {\n      return c;\n    }\n    default: {\n      return JSON.stringify(c);\n    }\n  }\n};\nvar Command = class {\n  command;\n  serialize;\n  deserialize;\n  headers;\n  path;\n  onMessage;\n  isStreaming;\n  signal;\n  /**\n   * Create a new command instance.\n   *\n   * You can define a custom `deserialize` function. By default we try to deserialize as json.\n   */\n  constructor(command, opts) {\n    this.serialize = defaultSerializer;\n    this.deserialize = opts?.automaticDeserialization === void 0 || opts.automaticDeserialization ? opts?.deserialize ?? parseResponse : (x) => x;\n    this.command = command.map((c) => this.serialize(c));\n    this.headers = opts?.headers;\n    this.path = opts?.path;\n    this.onMessage = opts?.streamOptions?.onMessage;\n    this.isStreaming = opts?.streamOptions?.isStreaming ?? false;\n    this.signal = opts?.streamOptions?.signal;\n    if (opts?.latencyLogging) {\n      const originalExec = this.exec.bind(this);\n      this.exec = async (client) => {\n        const start = performance.now();\n        const result = await originalExec(client);\n        const end = performance.now();\n        const loggerResult = (end - start).toFixed(2);\n        console.log(\n          `Latency for \\x1B[38;2;19;185;39m${this.command[0].toString().toUpperCase()}\\x1B[0m: \\x1B[38;2;0;255;255m${loggerResult} ms\\x1B[0m`\n        );\n        return result;\n      };\n    }\n  }\n  /**\n   * Execute the command using a client.\n   */\n  async exec(client) {\n    const { result, error } = await client.request({\n      body: this.command,\n      path: this.path,\n      upstashSyncToken: client.upstashSyncToken,\n      headers: this.headers,\n      onMessage: this.onMessage,\n      isStreaming: this.isStreaming,\n      signal: this.signal\n    });\n    if (error) {\n      throw new UpstashError(error);\n    }\n    if (result === void 0) {\n      throw new TypeError(\"Request did not return a result\");\n    }\n    return this.deserialize(result);\n  }\n};\n\n// pkg/commands/hrandfield.ts\nfunction deserialize(result) {\n  if (result.length === 0) {\n    return null;\n  }\n  const obj = {};\n  for (let i = 0; i < result.length; i += 2) {\n    const key = result[i];\n    const value = result[i + 1];\n    try {\n      obj[key] = JSON.parse(value);\n    } catch {\n      obj[key] = value;\n    }\n  }\n  return obj;\n}\nvar HRandFieldCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"hrandfield\", cmd[0]];\n    if (typeof cmd[1] === \"number\") {\n      command.push(cmd[1]);\n    }\n    if (cmd[2]) {\n      command.push(\"WITHVALUES\");\n    }\n    super(command, {\n      // @ts-expect-error to silence compiler\n      deserialize: cmd[2] ? (result) => deserialize(result) : opts?.deserialize,\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/append.ts\nvar AppendCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"append\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/bitcount.ts\nvar BitCountCommand = class extends Command {\n  constructor([key, start, end], opts) {\n    const command = [\"bitcount\", key];\n    if (typeof start === \"number\") {\n      command.push(start);\n    }\n    if (typeof end === \"number\") {\n      command.push(end);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/bitfield.ts\nvar BitFieldCommand = class {\n  constructor(args, client, opts, execOperation = (command) => command.exec(this.client)) {\n    this.client = client;\n    this.opts = opts;\n    this.execOperation = execOperation;\n    this.command = [\"bitfield\", ...args];\n  }\n  command;\n  chain(...args) {\n    this.command.push(...args);\n    return this;\n  }\n  get(...args) {\n    return this.chain(\"get\", ...args);\n  }\n  set(...args) {\n    return this.chain(\"set\", ...args);\n  }\n  incrby(...args) {\n    return this.chain(\"incrby\", ...args);\n  }\n  overflow(overflow) {\n    return this.chain(\"overflow\", overflow);\n  }\n  exec() {\n    const command = new Command(this.command, this.opts);\n    return this.execOperation(command);\n  }\n};\n\n// pkg/commands/bitop.ts\nvar BitOpCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"bitop\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/bitpos.ts\nvar BitPosCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"bitpos\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/client_setinfo.ts\nvar ClientSetInfoCommand = class extends Command {\n  constructor([attribute, value], opts) {\n    super([\"CLIENT\", \"SETINFO\", attribute.toUpperCase(), value], opts);\n  }\n};\n\n// pkg/commands/copy.ts\nvar CopyCommand = class extends Command {\n  constructor([key, destinationKey, opts], commandOptions) {\n    super([\"COPY\", key, destinationKey, ...opts?.replace ? [\"REPLACE\"] : []], {\n      ...commandOptions,\n      deserialize(result) {\n        if (result > 0) {\n          return \"COPIED\";\n        }\n        return \"NOT_COPIED\";\n      }\n    });\n  }\n};\n\n// pkg/commands/dbsize.ts\nvar DBSizeCommand = class extends Command {\n  constructor(opts) {\n    super([\"dbsize\"], opts);\n  }\n};\n\n// pkg/commands/decr.ts\nvar DecrCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"decr\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/decrby.ts\nvar DecrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"decrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/del.ts\nvar DelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"del\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/echo.ts\nvar EchoCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"echo\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/evalRo.ts\nvar EvalROCommand = class extends Command {\n  constructor([script, keys, args], opts) {\n    super([\"eval_ro\", script, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/eval.ts\nvar EvalCommand = class extends Command {\n  constructor([script, keys, args], opts) {\n    super([\"eval\", script, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/evalshaRo.ts\nvar EvalshaROCommand = class extends Command {\n  constructor([sha, keys, args], opts) {\n    super([\"evalsha_ro\", sha, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/evalsha.ts\nvar EvalshaCommand = class extends Command {\n  constructor([sha, keys, args], opts) {\n    super([\"evalsha\", sha, keys.length, ...keys, ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/exec.ts\nvar ExecCommand = class extends Command {\n  constructor(cmd, opts) {\n    const normalizedCmd = cmd.map((arg) => typeof arg === \"string\" ? arg : String(arg));\n    super(normalizedCmd, opts);\n  }\n};\n\n// pkg/commands/exists.ts\nvar ExistsCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"exists\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/expire.ts\nvar ExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"expire\", ...cmd.filter(Boolean)], opts);\n  }\n};\n\n// pkg/commands/expireat.ts\nvar ExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"expireat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/fcall.ts\nvar FCallCommand = class extends Command {\n  constructor([functionName, keys, args], opts) {\n    super([\"fcall\", functionName, ...keys ? [keys.length, ...keys] : [0], ...args ?? []], opts);\n  }\n};\n\n// pkg/commands/fcall_ro.ts\nvar FCallRoCommand = class extends Command {\n  constructor([functionName, keys, args], opts) {\n    super(\n      [\"fcall_ro\", functionName, ...keys ? [keys.length, ...keys] : [0], ...args ?? []],\n      opts\n    );\n  }\n};\n\n// pkg/commands/flushall.ts\nvar FlushAllCommand = class extends Command {\n  constructor(args, opts) {\n    const command = [\"flushall\"];\n    if (args && args.length > 0 && args[0].async) {\n      command.push(\"async\");\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/flushdb.ts\nvar FlushDBCommand = class extends Command {\n  constructor([opts], cmdOpts) {\n    const command = [\"flushdb\"];\n    if (opts?.async) {\n      command.push(\"async\");\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/function_delete.ts\nvar FunctionDeleteCommand = class extends Command {\n  constructor([libraryName], opts) {\n    super([\"function\", \"delete\", libraryName], opts);\n  }\n};\n\n// pkg/commands/function_flush.ts\nvar FunctionFlushCommand = class extends Command {\n  constructor(opts) {\n    super([\"function\", \"flush\"], opts);\n  }\n};\n\n// pkg/commands/function_list.ts\nvar FunctionListCommand = class extends Command {\n  constructor([args], opts) {\n    const command = [\"function\", \"list\"];\n    if (args?.libraryName) {\n      command.push(\"libraryname\", args.libraryName);\n    }\n    if (args?.withCode) {\n      command.push(\"withcode\");\n    }\n    super(command, { deserialize: deserialize2, ...opts });\n  }\n};\nfunction deserialize2(result) {\n  if (!Array.isArray(result)) return [];\n  return result.map((libRaw) => {\n    const lib = kvArrayToObject(libRaw);\n    const functionsParsed = lib.functions.map(\n      (fnRaw) => kvArrayToObject(fnRaw)\n    );\n    return {\n      libraryName: lib.library_name,\n      engine: lib.engine,\n      functions: functionsParsed.map((fn) => ({\n        name: fn.name,\n        description: fn.description ?? void 0,\n        flags: fn.flags\n      })),\n      libraryCode: lib.library_code\n    };\n  });\n}\n\n// pkg/commands/function_load.ts\nvar FunctionLoadCommand = class extends Command {\n  constructor([args], opts) {\n    super([\"function\", \"load\", ...args.replace ? [\"replace\"] : [], args.code], opts);\n  }\n};\n\n// pkg/commands/function_stats.ts\nvar FunctionStatsCommand = class extends Command {\n  constructor(opts) {\n    super([\"function\", \"stats\"], { deserialize: deserialize3, ...opts });\n  }\n};\nfunction deserialize3(result) {\n  const rawEngines = kvArrayToObject(kvArrayToObject(result).engines);\n  const parsedEngines = Object.fromEntries(\n    Object.entries(rawEngines).map(([key, value]) => [key, kvArrayToObject(value)])\n  );\n  const final = {\n    engines: Object.fromEntries(\n      Object.entries(parsedEngines).map(([key, value]) => [\n        key,\n        {\n          librariesCount: value.libraries_count,\n          functionsCount: value.functions_count\n        }\n      ])\n    )\n  };\n  return final;\n}\n\n// pkg/commands/geo_add.ts\nvar GeoAddCommand = class extends Command {\n  constructor([key, arg1, ...arg2], opts) {\n    const command = [\"geoadd\", key];\n    if (\"nx\" in arg1 && arg1.nx) {\n      command.push(\"nx\");\n    } else if (\"xx\" in arg1 && arg1.xx) {\n      command.push(\"xx\");\n    }\n    if (\"ch\" in arg1 && arg1.ch) {\n      command.push(\"ch\");\n    }\n    if (\"latitude\" in arg1 && arg1.latitude) {\n      command.push(arg1.longitude, arg1.latitude, arg1.member);\n    }\n    command.push(\n      ...arg2.flatMap(({ latitude, longitude, member }) => [longitude, latitude, member])\n    );\n    super(command, opts);\n  }\n};\n\n// pkg/commands/geo_dist.ts\nvar GeoDistCommand = class extends Command {\n  constructor([key, member1, member2, unit = \"M\"], opts) {\n    super([\"GEODIST\", key, member1, member2, unit], opts);\n  }\n};\n\n// pkg/commands/geo_hash.ts\nvar GeoHashCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key] = cmd;\n    const members = Array.isArray(cmd[1]) ? cmd[1] : cmd.slice(1);\n    super([\"GEOHASH\", key, ...members], opts);\n  }\n};\n\n// pkg/commands/geo_pos.ts\nvar GeoPosCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key] = cmd;\n    const members = Array.isArray(cmd[1]) ? cmd[1] : cmd.slice(1);\n    super([\"GEOPOS\", key, ...members], {\n      deserialize: (result) => transform(result),\n      ...opts\n    });\n  }\n};\nfunction transform(result) {\n  const final = [];\n  for (const pos of result) {\n    if (!pos?.[0] || !pos?.[1]) {\n      continue;\n    }\n    final.push({ lng: Number.parseFloat(pos[0]), lat: Number.parseFloat(pos[1]) });\n  }\n  return final;\n}\n\n// pkg/commands/geo_search.ts\nvar GeoSearchCommand = class extends Command {\n  constructor([key, centerPoint, shape, order, opts], commandOptions) {\n    const command = [\"GEOSEARCH\", key];\n    if (centerPoint.type === \"FROMMEMBER\" || centerPoint.type === \"frommember\") {\n      command.push(centerPoint.type, centerPoint.member);\n    }\n    if (centerPoint.type === \"FROMLONLAT\" || centerPoint.type === \"fromlonlat\") {\n      command.push(centerPoint.type, centerPoint.coordinate.lon, centerPoint.coordinate.lat);\n    }\n    if (shape.type === \"BYRADIUS\" || shape.type === \"byradius\") {\n      command.push(shape.type, shape.radius, shape.radiusType);\n    }\n    if (shape.type === \"BYBOX\" || shape.type === \"bybox\") {\n      command.push(shape.type, shape.rect.width, shape.rect.height, shape.rectType);\n    }\n    command.push(order);\n    if (opts?.count) {\n      command.push(\"COUNT\", opts.count.limit, ...opts.count.any ? [\"ANY\"] : []);\n    }\n    const transform2 = (result) => {\n      if (!opts?.withCoord && !opts?.withDist && !opts?.withHash) {\n        return result.map((member) => {\n          try {\n            return { member: JSON.parse(member) };\n          } catch {\n            return { member };\n          }\n        });\n      }\n      return result.map((members) => {\n        let counter = 1;\n        const obj = {};\n        try {\n          obj.member = JSON.parse(members[0]);\n        } catch {\n          obj.member = members[0];\n        }\n        if (opts.withDist) {\n          obj.dist = Number.parseFloat(members[counter++]);\n        }\n        if (opts.withHash) {\n          obj.hash = members[counter++].toString();\n        }\n        if (opts.withCoord) {\n          obj.coord = {\n            long: Number.parseFloat(members[counter][0]),\n            lat: Number.parseFloat(members[counter][1])\n          };\n        }\n        return obj;\n      });\n    };\n    super(\n      [\n        ...command,\n        ...opts?.withCoord ? [\"WITHCOORD\"] : [],\n        ...opts?.withDist ? [\"WITHDIST\"] : [],\n        ...opts?.withHash ? [\"WITHHASH\"] : []\n      ],\n      {\n        deserialize: transform2,\n        ...commandOptions\n      }\n    );\n  }\n};\n\n// pkg/commands/geo_search_store.ts\nvar GeoSearchStoreCommand = class extends Command {\n  constructor([destination, key, centerPoint, shape, order, opts], commandOptions) {\n    const command = [\"GEOSEARCHSTORE\", destination, key];\n    if (centerPoint.type === \"FROMMEMBER\" || centerPoint.type === \"frommember\") {\n      command.push(centerPoint.type, centerPoint.member);\n    }\n    if (centerPoint.type === \"FROMLONLAT\" || centerPoint.type === \"fromlonlat\") {\n      command.push(centerPoint.type, centerPoint.coordinate.lon, centerPoint.coordinate.lat);\n    }\n    if (shape.type === \"BYRADIUS\" || shape.type === \"byradius\") {\n      command.push(shape.type, shape.radius, shape.radiusType);\n    }\n    if (shape.type === \"BYBOX\" || shape.type === \"bybox\") {\n      command.push(shape.type, shape.rect.width, shape.rect.height, shape.rectType);\n    }\n    command.push(order);\n    if (opts?.count) {\n      command.push(\"COUNT\", opts.count.limit, ...opts.count.any ? [\"ANY\"] : []);\n    }\n    super([...command, ...opts?.storeDist ? [\"STOREDIST\"] : []], commandOptions);\n  }\n};\n\n// pkg/commands/get.ts\nvar GetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"get\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getbit.ts\nvar GetBitCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getbit\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getdel.ts\nvar GetDelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getdel\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getex.ts\nvar GetExCommand = class extends Command {\n  constructor([key, opts], cmdOpts) {\n    const command = [\"getex\", key];\n    if (opts) {\n      if (\"ex\" in opts && typeof opts.ex === \"number\") {\n        command.push(\"ex\", opts.ex);\n      } else if (\"px\" in opts && typeof opts.px === \"number\") {\n        command.push(\"px\", opts.px);\n      } else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n        command.push(\"exat\", opts.exat);\n      } else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n        command.push(\"pxat\", opts.pxat);\n      } else if (\"persist\" in opts && opts.persist) {\n        command.push(\"persist\");\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/getrange.ts\nvar GetRangeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getrange\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/getset.ts\nvar GetSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"getset\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hdel.ts\nvar HDelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hdel\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hexists.ts\nvar HExistsCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hexists\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hexpire.ts\nvar HExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, seconds, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hexpire\",\n        key,\n        seconds,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hexpireat.ts\nvar HExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, timestamp, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hexpireat\",\n        key,\n        timestamp,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hexpiretime.ts\nvar HExpireTimeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hexpiretime\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hpersist.ts\nvar HPersistCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hpersist\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hpexpire.ts\nvar HPExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, milliseconds, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hpexpire\",\n        key,\n        milliseconds,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hpexpireat.ts\nvar HPExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields, timestamp, option] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super(\n      [\n        \"hpexpireat\",\n        key,\n        timestamp,\n        ...option ? [option] : [],\n        \"FIELDS\",\n        fieldArray.length,\n        ...fieldArray\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/hpexpiretime.ts\nvar HPExpireTimeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hpexpiretime\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hpttl.ts\nvar HPTtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"hpttl\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hget.ts\nvar HGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hget\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hgetall.ts\nfunction deserialize4(result) {\n  if (result.length === 0) {\n    return null;\n  }\n  const obj = {};\n  for (let i = 0; i < result.length; i += 2) {\n    const key = result[i];\n    const value = result[i + 1];\n    try {\n      const valueIsNumberAndNotSafeInteger = !Number.isNaN(Number(value)) && !Number.isSafeInteger(Number(value));\n      obj[key] = valueIsNumberAndNotSafeInteger ? value : JSON.parse(value);\n    } catch {\n      obj[key] = value;\n    }\n  }\n  return obj;\n}\nvar HGetAllCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hgetall\", ...cmd], {\n      deserialize: (result) => deserialize4(result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hmget.ts\nfunction deserialize5(fields, result) {\n  if (result.every((field) => field === null)) {\n    return null;\n  }\n  const obj = {};\n  for (const [i, field] of fields.entries()) {\n    try {\n      obj[field] = JSON.parse(result[i]);\n    } catch {\n      obj[field] = result[i];\n    }\n  }\n  return obj;\n}\nvar HMGetCommand = class extends Command {\n  constructor([key, ...fields], opts) {\n    super([\"hmget\", key, ...fields], {\n      deserialize: (result) => deserialize5(fields, result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hgetdel.ts\nvar HGetDelCommand = class extends Command {\n  constructor([key, ...fields], opts) {\n    super([\"hgetdel\", key, \"FIELDS\", fields.length, ...fields], {\n      deserialize: (result) => deserialize5(fields.map(String), result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hgetex.ts\nvar HGetExCommand = class extends Command {\n  constructor([key, opts, ...fields], cmdOpts) {\n    const command = [\"hgetex\", key];\n    if (\"ex\" in opts && typeof opts.ex === \"number\") {\n      command.push(\"EX\", opts.ex);\n    } else if (\"px\" in opts && typeof opts.px === \"number\") {\n      command.push(\"PX\", opts.px);\n    } else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n      command.push(\"EXAT\", opts.exat);\n    } else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n      command.push(\"PXAT\", opts.pxat);\n    } else if (\"persist\" in opts && opts.persist) {\n      command.push(\"PERSIST\");\n    }\n    command.push(\"FIELDS\", fields.length, ...fields);\n    super(command, {\n      deserialize: (result) => deserialize5(fields.map(String), result),\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/hincrby.ts\nvar HIncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hincrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hincrbyfloat.ts\nvar HIncrByFloatCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hincrbyfloat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hkeys.ts\nvar HKeysCommand = class extends Command {\n  constructor([key], opts) {\n    super([\"hkeys\", key], opts);\n  }\n};\n\n// pkg/commands/hlen.ts\nvar HLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hlen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hmset.ts\nvar HMSetCommand = class extends Command {\n  constructor([key, kv], opts) {\n    super([\"hmset\", key, ...Object.entries(kv).flatMap(([field, value]) => [field, value])], opts);\n  }\n};\n\n// pkg/commands/hscan.ts\nvar HScanCommand = class extends Command {\n  constructor([key, cursor, cmdOpts], opts) {\n    const command = [\"hscan\", key, cursor];\n    if (cmdOpts?.match) {\n      command.push(\"match\", cmdOpts.match);\n    }\n    if (typeof cmdOpts?.count === \"number\") {\n      command.push(\"count\", cmdOpts.count);\n    }\n    super(command, {\n      deserialize: deserializeScanResponse,\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/hset.ts\nvar HSetCommand = class extends Command {\n  constructor([key, kv], opts) {\n    super([\"hset\", key, ...Object.entries(kv).flatMap(([field, value]) => [field, value])], opts);\n  }\n};\n\n// pkg/commands/hsetex.ts\nvar HSetExCommand = class extends Command {\n  constructor([key, opts, kv], cmdOpts) {\n    const command = [\"hsetex\", key];\n    if (opts.conditional) {\n      command.push(opts.conditional.toUpperCase());\n    }\n    if (opts.expiration) {\n      if (\"ex\" in opts.expiration && typeof opts.expiration.ex === \"number\") {\n        command.push(\"EX\", opts.expiration.ex);\n      } else if (\"px\" in opts.expiration && typeof opts.expiration.px === \"number\") {\n        command.push(\"PX\", opts.expiration.px);\n      } else if (\"exat\" in opts.expiration && typeof opts.expiration.exat === \"number\") {\n        command.push(\"EXAT\", opts.expiration.exat);\n      } else if (\"pxat\" in opts.expiration && typeof opts.expiration.pxat === \"number\") {\n        command.push(\"PXAT\", opts.expiration.pxat);\n      } else if (\"keepttl\" in opts.expiration && opts.expiration.keepttl) {\n        command.push(\"KEEPTTL\");\n      }\n    }\n    const entries = Object.entries(kv);\n    command.push(\"FIELDS\", entries.length);\n    for (const [field, value] of entries) {\n      command.push(field, value);\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/hsetnx.ts\nvar HSetNXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hsetnx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/hstrlen.ts\nvar HStrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hstrlen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/httl.ts\nvar HTtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, fields] = cmd;\n    const fieldArray = Array.isArray(fields) ? fields : [fields];\n    super([\"httl\", key, \"FIELDS\", fieldArray.length, ...fieldArray], opts);\n  }\n};\n\n// pkg/commands/hvals.ts\nvar HValsCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"hvals\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/incr.ts\nvar IncrCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"incr\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/incrby.ts\nvar IncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"incrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/incrbyfloat.ts\nvar IncrByFloatCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"incrbyfloat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrappend.ts\nvar JsonArrAppendCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRAPPEND\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrindex.ts\nvar JsonArrIndexCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRINDEX\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrinsert.ts\nvar JsonArrInsertCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRINSERT\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrlen.ts\nvar JsonArrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRLEN\", cmd[0], cmd[1] ?? \"$\"], opts);\n  }\n};\n\n// pkg/commands/json_arrpop.ts\nvar JsonArrPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.ARRPOP\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_arrtrim.ts\nvar JsonArrTrimCommand = class extends Command {\n  constructor(cmd, opts) {\n    const path = cmd[1] ?? \"$\";\n    const start = cmd[2] ?? 0;\n    const stop = cmd[3] ?? 0;\n    super([\"JSON.ARRTRIM\", cmd[0], path, start, stop], opts);\n  }\n};\n\n// pkg/commands/json_clear.ts\nvar JsonClearCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.CLEAR\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_del.ts\nvar JsonDelCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.DEL\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_forget.ts\nvar JsonForgetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.FORGET\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_get.ts\nvar JsonGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.GET\"];\n    if (typeof cmd[1] === \"string\") {\n      command.push(...cmd);\n    } else {\n      command.push(cmd[0]);\n      if (cmd[1]) {\n        if (cmd[1].indent) {\n          command.push(\"INDENT\", cmd[1].indent);\n        }\n        if (cmd[1].newline) {\n          command.push(\"NEWLINE\", cmd[1].newline);\n        }\n        if (cmd[1].space) {\n          command.push(\"SPACE\", cmd[1].space);\n        }\n      }\n      command.push(...cmd.slice(2));\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_merge.ts\nvar JsonMergeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.MERGE\", ...cmd];\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_mget.ts\nvar JsonMGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.MGET\", ...cmd[0], cmd[1]], opts);\n  }\n};\n\n// pkg/commands/json_mset.ts\nvar JsonMSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.MSET\"];\n    for (const c of cmd) {\n      command.push(c.key, c.path, c.value);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_numincrby.ts\nvar JsonNumIncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.NUMINCRBY\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_nummultby.ts\nvar JsonNumMultByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.NUMMULTBY\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_objkeys.ts\nvar JsonObjKeysCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.OBJKEYS\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_objlen.ts\nvar JsonObjLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.OBJLEN\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_resp.ts\nvar JsonRespCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.RESP\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_set.ts\nvar JsonSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"JSON.SET\", cmd[0], cmd[1], cmd[2]];\n    if (cmd[3]) {\n      if (cmd[3].nx) {\n        command.push(\"NX\");\n      } else if (cmd[3].xx) {\n        command.push(\"XX\");\n      }\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/json_strappend.ts\nvar JsonStrAppendCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.STRAPPEND\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_strlen.ts\nvar JsonStrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.STRLEN\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_toggle.ts\nvar JsonToggleCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.TOGGLE\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/json_type.ts\nvar JsonTypeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"JSON.TYPE\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/keys.ts\nvar KeysCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"keys\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lindex.ts\nvar LIndexCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lindex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/linsert.ts\nvar LInsertCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"linsert\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/llen.ts\nvar LLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"llen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lmove.ts\nvar LMoveCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lmove\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lmpop.ts\nvar LmPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [numkeys, keys, direction, count] = cmd;\n    super([\"LMPOP\", numkeys, ...keys, direction, ...count ? [\"COUNT\", count] : []], opts);\n  }\n};\n\n// pkg/commands/lpop.ts\nvar LPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lpop\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lpos.ts\nvar LPosCommand = class extends Command {\n  constructor(cmd, opts) {\n    const args = [\"lpos\", cmd[0], cmd[1]];\n    if (typeof cmd[2]?.rank === \"number\") {\n      args.push(\"rank\", cmd[2].rank);\n    }\n    if (typeof cmd[2]?.count === \"number\") {\n      args.push(\"count\", cmd[2].count);\n    }\n    if (typeof cmd[2]?.maxLen === \"number\") {\n      args.push(\"maxLen\", cmd[2].maxLen);\n    }\n    super(args, opts);\n  }\n};\n\n// pkg/commands/lpush.ts\nvar LPushCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lpush\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lpushx.ts\nvar LPushXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lpushx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lrange.ts\nvar LRangeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lrange\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lrem.ts\nvar LRemCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lrem\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/lset.ts\nvar LSetCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"lset\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/ltrim.ts\nvar LTrimCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"ltrim\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/mget.ts\nvar MGetCommand = class extends Command {\n  constructor(cmd, opts) {\n    const keys = Array.isArray(cmd[0]) ? cmd[0] : cmd;\n    super([\"mget\", ...keys], opts);\n  }\n};\n\n// pkg/commands/mset.ts\nvar MSetCommand = class extends Command {\n  constructor([kv], opts) {\n    super([\"mset\", ...Object.entries(kv).flatMap(([key, value]) => [key, value])], opts);\n  }\n};\n\n// pkg/commands/msetnx.ts\nvar MSetNXCommand = class extends Command {\n  constructor([kv], opts) {\n    super([\"msetnx\", ...Object.entries(kv).flat()], opts);\n  }\n};\n\n// pkg/commands/persist.ts\nvar PersistCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"persist\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pexpire.ts\nvar PExpireCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pexpire\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pexpireat.ts\nvar PExpireAtCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pexpireat\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pfadd.ts\nvar PfAddCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pfadd\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pfcount.ts\nvar PfCountCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pfcount\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pfmerge.ts\nvar PfMergeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pfmerge\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/ping.ts\nvar PingCommand = class extends Command {\n  constructor(cmd, opts) {\n    const command = [\"ping\"];\n    if (cmd?.[0] !== void 0) {\n      command.push(cmd[0]);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/psetex.ts\nvar PSetEXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"psetex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/pttl.ts\nvar PTtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"pttl\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/publish.ts\nvar PublishCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"publish\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/randomkey.ts\nvar RandomKeyCommand = class extends Command {\n  constructor(opts) {\n    super([\"randomkey\"], opts);\n  }\n};\n\n// pkg/commands/rename.ts\nvar RenameCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rename\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/renamenx.ts\nvar RenameNXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"renamenx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/rpop.ts\nvar RPopCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rpop\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/rpush.ts\nvar RPushCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rpush\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/rpushx.ts\nvar RPushXCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"rpushx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sadd.ts\nvar SAddCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sadd\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/scan.ts\nvar ScanCommand = class extends Command {\n  constructor([cursor, opts], cmdOpts) {\n    const command = [\"scan\", cursor];\n    if (opts?.match) {\n      command.push(\"match\", opts.match);\n    }\n    if (typeof opts?.count === \"number\") {\n      command.push(\"count\", opts.count);\n    }\n    if (opts && \"withType\" in opts && opts.withType === true) {\n      command.push(\"withtype\");\n    } else if (opts && \"type\" in opts && opts.type && opts.type.length > 0) {\n      command.push(\"type\", opts.type);\n    }\n    super(command, {\n      // @ts-expect-error ignore types here\n      deserialize: opts?.withType ? deserializeScanWithTypesResponse : deserializeScanResponse,\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/scard.ts\nvar SCardCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"scard\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/script_exists.ts\nvar ScriptExistsCommand = class extends Command {\n  constructor(hashes, opts) {\n    super([\"script\", \"exists\", ...hashes], {\n      deserialize: (result) => result,\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/script_flush.ts\nvar ScriptFlushCommand = class extends Command {\n  constructor([opts], cmdOpts) {\n    const cmd = [\"script\", \"flush\"];\n    if (opts?.sync) {\n      cmd.push(\"sync\");\n    } else if (opts?.async) {\n      cmd.push(\"async\");\n    }\n    super(cmd, cmdOpts);\n  }\n};\n\n// pkg/commands/script_load.ts\nvar ScriptLoadCommand = class extends Command {\n  constructor(args, opts) {\n    super([\"script\", \"load\", ...args], opts);\n  }\n};\n\n// pkg/commands/sdiff.ts\nvar SDiffCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sdiff\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sdiffstore.ts\nvar SDiffStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sdiffstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/set.ts\nvar SetCommand = class extends Command {\n  constructor([key, value, opts], cmdOpts) {\n    const command = [\"set\", key, value];\n    if (opts) {\n      if (\"nx\" in opts && opts.nx) {\n        command.push(\"nx\");\n      } else if (\"xx\" in opts && opts.xx) {\n        command.push(\"xx\");\n      }\n      if (\"get\" in opts && opts.get) {\n        command.push(\"get\");\n      }\n      if (\"ex\" in opts && typeof opts.ex === \"number\") {\n        command.push(\"ex\", opts.ex);\n      } else if (\"px\" in opts && typeof opts.px === \"number\") {\n        command.push(\"px\", opts.px);\n      } else if (\"exat\" in opts && typeof opts.exat === \"number\") {\n        command.push(\"exat\", opts.exat);\n      } else if (\"pxat\" in opts && typeof opts.pxat === \"number\") {\n        command.push(\"pxat\", opts.pxat);\n      } else if (\"keepTtl\" in opts && opts.keepTtl) {\n        command.push(\"keepTtl\");\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/setbit.ts\nvar SetBitCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setbit\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/setex.ts\nvar SetExCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/setnx.ts\nvar SetNxCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setnx\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/setrange.ts\nvar SetRangeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"setrange\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sinter.ts\nvar SInterCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sinter\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sinterstore.ts\nvar SInterStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sinterstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sismember.ts\nvar SIsMemberCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sismember\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/smembers.ts\nvar SMembersCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"smembers\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/smismember.ts\nvar SMIsMemberCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"smismember\", cmd[0], ...cmd[1]], opts);\n  }\n};\n\n// pkg/commands/smove.ts\nvar SMoveCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"smove\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/spop.ts\nvar SPopCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"spop\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/srandmember.ts\nvar SRandMemberCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"srandmember\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/srem.ts\nvar SRemCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"srem\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sscan.ts\nvar SScanCommand = class extends Command {\n  constructor([key, cursor, opts], cmdOpts) {\n    const command = [\"sscan\", key, cursor];\n    if (opts?.match) {\n      command.push(\"match\", opts.match);\n    }\n    if (typeof opts?.count === \"number\") {\n      command.push(\"count\", opts.count);\n    }\n    super(command, {\n      deserialize: deserializeScanResponse,\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/strlen.ts\nvar StrLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"strlen\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sunion.ts\nvar SUnionCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sunion\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/sunionstore.ts\nvar SUnionStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"sunionstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/time.ts\nvar TimeCommand = class extends Command {\n  constructor(opts) {\n    super([\"time\"], opts);\n  }\n};\n\n// pkg/commands/touch.ts\nvar TouchCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"touch\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/ttl.ts\nvar TtlCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"ttl\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/type.ts\nvar TypeCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"type\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/unlink.ts\nvar UnlinkCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"unlink\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/xack.ts\nvar XAckCommand = class extends Command {\n  constructor([key, group, id], opts) {\n    const ids = Array.isArray(id) ? [...id] : [id];\n    super([\"XACK\", key, group, ...ids], opts);\n  }\n};\n\n// pkg/commands/xackdel.ts\nvar XAckDelCommand = class extends Command {\n  constructor([key, group, opts, ...ids], cmdOpts) {\n    const command = [\"XACKDEL\", key, group];\n    command.push(opts.toUpperCase());\n    command.push(\"IDS\", ids.length, ...ids);\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/xadd.ts\nvar XAddCommand = class extends Command {\n  constructor([key, id, entries, opts], commandOptions) {\n    const command = [\"XADD\", key];\n    if (opts) {\n      if (opts.nomkStream) {\n        command.push(\"NOMKSTREAM\");\n      }\n      if (opts.trim) {\n        command.push(opts.trim.type, opts.trim.comparison, opts.trim.threshold);\n        if (opts.trim.limit !== void 0) {\n          command.push(\"LIMIT\", opts.trim.limit);\n        }\n      }\n    }\n    command.push(id);\n    for (const [k, v] of Object.entries(entries)) {\n      command.push(k, v);\n    }\n    super(command, commandOptions);\n  }\n};\n\n// pkg/commands/xautoclaim.ts\nvar XAutoClaim = class extends Command {\n  constructor([key, group, consumer, minIdleTime, start, options], opts) {\n    const commands = [];\n    if (options?.count) {\n      commands.push(\"COUNT\", options.count);\n    }\n    if (options?.justId) {\n      commands.push(\"JUSTID\");\n    }\n    super([\"XAUTOCLAIM\", key, group, consumer, minIdleTime, start, ...commands], opts);\n  }\n};\n\n// pkg/commands/xclaim.ts\nvar XClaimCommand = class extends Command {\n  constructor([key, group, consumer, minIdleTime, id, options], opts) {\n    const ids = Array.isArray(id) ? [...id] : [id];\n    const commands = [];\n    if (options?.idleMS) {\n      commands.push(\"IDLE\", options.idleMS);\n    }\n    if (options?.idleMS) {\n      commands.push(\"TIME\", options.timeMS);\n    }\n    if (options?.retryCount) {\n      commands.push(\"RETRYCOUNT\", options.retryCount);\n    }\n    if (options?.force) {\n      commands.push(\"FORCE\");\n    }\n    if (options?.justId) {\n      commands.push(\"JUSTID\");\n    }\n    if (options?.lastId) {\n      commands.push(\"LASTID\", options.lastId);\n    }\n    super([\"XCLAIM\", key, group, consumer, minIdleTime, ...ids, ...commands], opts);\n  }\n};\n\n// pkg/commands/xdel.ts\nvar XDelCommand = class extends Command {\n  constructor([key, ids], opts) {\n    const cmds = Array.isArray(ids) ? [...ids] : [ids];\n    super([\"XDEL\", key, ...cmds], opts);\n  }\n};\n\n// pkg/commands/xdelex.ts\nvar XDelExCommand = class extends Command {\n  constructor([key, opts, ...ids], cmdOpts) {\n    const command = [\"XDELEX\", key];\n    if (opts) {\n      command.push(opts.toUpperCase());\n    }\n    command.push(\"IDS\", ids.length, ...ids);\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/xgroup.ts\nvar XGroupCommand = class extends Command {\n  constructor([key, opts], commandOptions) {\n    const command = [\"XGROUP\"];\n    switch (opts.type) {\n      case \"CREATE\": {\n        command.push(\"CREATE\", key, opts.group, opts.id);\n        if (opts.options) {\n          if (opts.options.MKSTREAM) {\n            command.push(\"MKSTREAM\");\n          }\n          if (opts.options.ENTRIESREAD !== void 0) {\n            command.push(\"ENTRIESREAD\", opts.options.ENTRIESREAD.toString());\n          }\n        }\n        break;\n      }\n      case \"CREATECONSUMER\": {\n        command.push(\"CREATECONSUMER\", key, opts.group, opts.consumer);\n        break;\n      }\n      case \"DELCONSUMER\": {\n        command.push(\"DELCONSUMER\", key, opts.group, opts.consumer);\n        break;\n      }\n      case \"DESTROY\": {\n        command.push(\"DESTROY\", key, opts.group);\n        break;\n      }\n      case \"SETID\": {\n        command.push(\"SETID\", key, opts.group, opts.id);\n        if (opts.options?.ENTRIESREAD !== void 0) {\n          command.push(\"ENTRIESREAD\", opts.options.ENTRIESREAD.toString());\n        }\n        break;\n      }\n      default: {\n        throw new Error(\"Invalid XGROUP\");\n      }\n    }\n    super(command, commandOptions);\n  }\n};\n\n// pkg/commands/xinfo.ts\nvar XInfoCommand = class extends Command {\n  constructor([key, options], opts) {\n    const cmds = [];\n    if (options.type === \"CONSUMERS\") {\n      cmds.push(\"CONSUMERS\", key, options.group);\n    } else {\n      cmds.push(\"GROUPS\", key);\n    }\n    super([\"XINFO\", ...cmds], opts);\n  }\n};\n\n// pkg/commands/xlen.ts\nvar XLenCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"XLEN\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/xpending.ts\nvar XPendingCommand = class extends Command {\n  constructor([key, group, start, end, count, options], opts) {\n    const consumers = options?.consumer === void 0 ? [] : Array.isArray(options.consumer) ? [...options.consumer] : [options.consumer];\n    super(\n      [\n        \"XPENDING\",\n        key,\n        group,\n        ...options?.idleTime ? [\"IDLE\", options.idleTime] : [],\n        start,\n        end,\n        count,\n        ...consumers\n      ],\n      opts\n    );\n  }\n};\n\n// pkg/commands/xrange.ts\nfunction deserialize6(result) {\n  const obj = {};\n  for (const e of result) {\n    for (let i = 0; i < e.length; i += 2) {\n      const streamId = e[i];\n      const entries = e[i + 1];\n      if (!(streamId in obj)) {\n        obj[streamId] = {};\n      }\n      for (let j = 0; j < entries.length; j += 2) {\n        const field = entries[j];\n        const value = entries[j + 1];\n        try {\n          obj[streamId][field] = JSON.parse(value);\n        } catch {\n          obj[streamId][field] = value;\n        }\n      }\n    }\n  }\n  return obj;\n}\nvar XRangeCommand = class extends Command {\n  constructor([key, start, end, count], opts) {\n    const command = [\"XRANGE\", key, start, end];\n    if (typeof count === \"number\") {\n      command.push(\"COUNT\", count);\n    }\n    super(command, {\n      deserialize: (result) => deserialize6(result),\n      ...opts\n    });\n  }\n};\n\n// pkg/commands/xread.ts\nvar UNBALANCED_XREAD_ERR = \"ERR Unbalanced XREAD list of streams: for each stream key an ID or '$' must be specified\";\nvar XReadCommand = class extends Command {\n  constructor([key, id, options], opts) {\n    if (Array.isArray(key) && Array.isArray(id) && key.length !== id.length) {\n      throw new Error(UNBALANCED_XREAD_ERR);\n    }\n    const commands = [];\n    if (typeof options?.count === \"number\") {\n      commands.push(\"COUNT\", options.count);\n    }\n    if (typeof options?.blockMS === \"number\") {\n      commands.push(\"BLOCK\", options.blockMS);\n    }\n    commands.push(\n      \"STREAMS\",\n      ...Array.isArray(key) ? [...key] : [key],\n      ...Array.isArray(id) ? [...id] : [id]\n    );\n    super([\"XREAD\", ...commands], opts);\n  }\n};\n\n// pkg/commands/xreadgroup.ts\nvar UNBALANCED_XREADGROUP_ERR = \"ERR Unbalanced XREADGROUP list of streams: for each stream key an ID or '$' must be specified\";\nvar XReadGroupCommand = class extends Command {\n  constructor([group, consumer, key, id, options], opts) {\n    if (Array.isArray(key) && Array.isArray(id) && key.length !== id.length) {\n      throw new Error(UNBALANCED_XREADGROUP_ERR);\n    }\n    const commands = [];\n    if (typeof options?.count === \"number\") {\n      commands.push(\"COUNT\", options.count);\n    }\n    if (typeof options?.blockMS === \"number\") {\n      commands.push(\"BLOCK\", options.blockMS);\n    }\n    if (typeof options?.NOACK === \"boolean\" && options.NOACK) {\n      commands.push(\"NOACK\");\n    }\n    commands.push(\n      \"STREAMS\",\n      ...Array.isArray(key) ? [...key] : [key],\n      ...Array.isArray(id) ? [...id] : [id]\n    );\n    super([\"XREADGROUP\", \"GROUP\", group, consumer, ...commands], opts);\n  }\n};\n\n// pkg/commands/xrevrange.ts\nvar XRevRangeCommand = class extends Command {\n  constructor([key, end, start, count], opts) {\n    const command = [\"XREVRANGE\", key, end, start];\n    if (typeof count === \"number\") {\n      command.push(\"COUNT\", count);\n    }\n    super(command, {\n      deserialize: (result) => deserialize7(result),\n      ...opts\n    });\n  }\n};\nfunction deserialize7(result) {\n  const obj = {};\n  for (const e of result) {\n    for (let i = 0; i < e.length; i += 2) {\n      const streamId = e[i];\n      const entries = e[i + 1];\n      if (!(streamId in obj)) {\n        obj[streamId] = {};\n      }\n      for (let j = 0; j < entries.length; j += 2) {\n        const field = entries[j];\n        const value = entries[j + 1];\n        try {\n          obj[streamId][field] = JSON.parse(value);\n        } catch {\n          obj[streamId][field] = value;\n        }\n      }\n    }\n  }\n  return obj;\n}\n\n// pkg/commands/xtrim.ts\nvar XTrimCommand = class extends Command {\n  constructor([key, options], opts) {\n    const { limit, strategy, threshold, exactness = \"~\" } = options;\n    super([\"XTRIM\", key, strategy, exactness, threshold, ...limit ? [\"LIMIT\", limit] : []], opts);\n  }\n};\n\n// pkg/commands/zadd.ts\nvar ZAddCommand = class extends Command {\n  constructor([key, arg1, ...arg2], opts) {\n    const command = [\"zadd\", key];\n    if (\"nx\" in arg1 && arg1.nx) {\n      command.push(\"nx\");\n    } else if (\"xx\" in arg1 && arg1.xx) {\n      command.push(\"xx\");\n    }\n    if (\"ch\" in arg1 && arg1.ch) {\n      command.push(\"ch\");\n    }\n    if (\"incr\" in arg1 && arg1.incr) {\n      command.push(\"incr\");\n    }\n    if (\"lt\" in arg1 && arg1.lt) {\n      command.push(\"lt\");\n    } else if (\"gt\" in arg1 && arg1.gt) {\n      command.push(\"gt\");\n    }\n    if (\"score\" in arg1 && \"member\" in arg1) {\n      command.push(arg1.score, arg1.member);\n    }\n    command.push(...arg2.flatMap(({ score, member }) => [score, member]));\n    super(command, opts);\n  }\n};\n\n// pkg/commands/zcard.ts\nvar ZCardCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zcard\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zcount.ts\nvar ZCountCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zcount\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zincrby.ts\nvar ZIncrByCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zincrby\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zinterstore.ts\nvar ZInterStoreCommand = class extends Command {\n  constructor([destination, numKeys, keyOrKeys, opts], cmdOpts) {\n    const command = [\"zinterstore\", destination, numKeys];\n    if (Array.isArray(keyOrKeys)) {\n      command.push(...keyOrKeys);\n    } else {\n      command.push(keyOrKeys);\n    }\n    if (opts) {\n      if (\"weights\" in opts && opts.weights) {\n        command.push(\"weights\", ...opts.weights);\n      } else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n        command.push(\"weights\", opts.weight);\n      }\n      if (\"aggregate\" in opts) {\n        command.push(\"aggregate\", opts.aggregate);\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zlexcount.ts\nvar ZLexCountCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zlexcount\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zpopmax.ts\nvar ZPopMaxCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"zpopmax\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/zpopmin.ts\nvar ZPopMinCommand = class extends Command {\n  constructor([key, count], opts) {\n    const command = [\"zpopmin\", key];\n    if (typeof count === \"number\") {\n      command.push(count);\n    }\n    super(command, opts);\n  }\n};\n\n// pkg/commands/zrange.ts\nvar ZRangeCommand = class extends Command {\n  constructor([key, min, max, opts], cmdOpts) {\n    const command = [\"zrange\", key, min, max];\n    if (opts?.byScore) {\n      command.push(\"byscore\");\n    }\n    if (opts?.byLex) {\n      command.push(\"bylex\");\n    }\n    if (opts?.rev) {\n      command.push(\"rev\");\n    }\n    if (opts?.count !== void 0 && opts.offset !== void 0) {\n      command.push(\"limit\", opts.offset, opts.count);\n    }\n    if (opts?.withScores) {\n      command.push(\"withscores\");\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zrank.ts\nvar ZRankCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zrank\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zrem.ts\nvar ZRemCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zrem\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zremrangebylex.ts\nvar ZRemRangeByLexCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zremrangebylex\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zremrangebyrank.ts\nvar ZRemRangeByRankCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zremrangebyrank\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zremrangebyscore.ts\nvar ZRemRangeByScoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zremrangebyscore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zrevrank.ts\nvar ZRevRankCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zrevrank\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zscan.ts\nvar ZScanCommand = class extends Command {\n  constructor([key, cursor, opts], cmdOpts) {\n    const command = [\"zscan\", key, cursor];\n    if (opts?.match) {\n      command.push(\"match\", opts.match);\n    }\n    if (typeof opts?.count === \"number\") {\n      command.push(\"count\", opts.count);\n    }\n    super(command, {\n      deserialize: deserializeScanResponse,\n      ...cmdOpts\n    });\n  }\n};\n\n// pkg/commands/zscore.ts\nvar ZScoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zscore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zunion.ts\nvar ZUnionCommand = class extends Command {\n  constructor([numKeys, keyOrKeys, opts], cmdOpts) {\n    const command = [\"zunion\", numKeys];\n    if (Array.isArray(keyOrKeys)) {\n      command.push(...keyOrKeys);\n    } else {\n      command.push(keyOrKeys);\n    }\n    if (opts) {\n      if (\"weights\" in opts && opts.weights) {\n        command.push(\"weights\", ...opts.weights);\n      } else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n        command.push(\"weights\", opts.weight);\n      }\n      if (\"aggregate\" in opts) {\n        command.push(\"aggregate\", opts.aggregate);\n      }\n      if (opts.withScores) {\n        command.push(\"withscores\");\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zunionstore.ts\nvar ZUnionStoreCommand = class extends Command {\n  constructor([destination, numKeys, keyOrKeys, opts], cmdOpts) {\n    const command = [\"zunionstore\", destination, numKeys];\n    if (Array.isArray(keyOrKeys)) {\n      command.push(...keyOrKeys);\n    } else {\n      command.push(keyOrKeys);\n    }\n    if (opts) {\n      if (\"weights\" in opts && opts.weights) {\n        command.push(\"weights\", ...opts.weights);\n      } else if (\"weight\" in opts && typeof opts.weight === \"number\") {\n        command.push(\"weights\", opts.weight);\n      }\n      if (\"aggregate\" in opts) {\n        command.push(\"aggregate\", opts.aggregate);\n      }\n    }\n    super(command, cmdOpts);\n  }\n};\n\n// pkg/commands/zdiffstore.ts\nvar ZDiffStoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    super([\"zdiffstore\", ...cmd], opts);\n  }\n};\n\n// pkg/commands/zmscore.ts\nvar ZMScoreCommand = class extends Command {\n  constructor(cmd, opts) {\n    const [key, members] = cmd;\n    super([\"zmscore\", key, ...members], opts);\n  }\n};\n\n// pkg/pipeline.ts\nvar Pipeline = class {\n  client;\n  commands;\n  commandOptions;\n  multiExec;\n  constructor(opts) {\n    this.client = opts.client;\n    this.commands = [];\n    this.commandOptions = opts.commandOptions;\n    this.multiExec = opts.multiExec ?? false;\n    if (this.commandOptions?.latencyLogging) {\n      const originalExec = this.exec.bind(this);\n      this.exec = async (options) => {\n        const start = performance.now();\n        const result = await (options ? originalExec(options) : originalExec());\n        const end = performance.now();\n        const loggerResult = (end - start).toFixed(2);\n        console.log(\n          `Latency for \\x1B[38;2;19;185;39m${this.multiExec ? [\"MULTI-EXEC\"] : [\"PIPELINE\"].toString().toUpperCase()}\\x1B[0m: \\x1B[38;2;0;255;255m${loggerResult} ms\\x1B[0m`\n        );\n        return result;\n      };\n    }\n  }\n  exec = async (options) => {\n    if (this.commands.length === 0) {\n      throw new Error(\"Pipeline is empty\");\n    }\n    const path = this.multiExec ? [\"multi-exec\"] : [\"pipeline\"];\n    const res = await this.client.request({\n      path,\n      body: Object.values(this.commands).map((c) => c.command)\n    });\n    return options?.keepErrors ? res.map(({ error, result }, i) => {\n      return {\n        error,\n        result: this.commands[i].deserialize(result)\n      };\n    }) : res.map(({ error, result }, i) => {\n      if (error) {\n        throw new UpstashError(\n          `Command ${i + 1} [ ${this.commands[i].command[0]} ] failed: ${error}`\n        );\n      }\n      return this.commands[i].deserialize(result);\n    });\n  };\n  /**\n   * Returns the length of pipeline before the execution\n   */\n  length() {\n    return this.commands.length;\n  }\n  /**\n   * Pushes a command into the pipeline and returns a chainable instance of the\n   * pipeline\n   */\n  chain(command) {\n    this.commands.push(command);\n    return this;\n  }\n  /**\n   * @see https://redis.io/commands/append\n   */\n  append = (...args) => this.chain(new AppendCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/bitcount\n   */\n  bitcount = (...args) => this.chain(new BitCountCommand(args, this.commandOptions));\n  /**\n   * Returns an instance that can be used to execute `BITFIELD` commands on one key.\n   *\n   * @example\n   * ```typescript\n   * redis.set(\"mykey\", 0);\n   * const result = await redis.pipeline()\n   *   .bitfield(\"mykey\")\n   *   .set(\"u4\", 0, 16)\n   *   .incr(\"u4\", \"#1\", 1)\n   *   .exec();\n   * console.log(result); // [[0, 1]]\n   * ```\n   *\n   * @see https://redis.io/commands/bitfield\n   */\n  bitfield = (...args) => new BitFieldCommand(args, this.client, this.commandOptions, this.chain.bind(this));\n  /**\n   * @see https://redis.io/commands/bitop\n   */\n  bitop = (op, destinationKey, sourceKey, ...sourceKeys) => this.chain(\n    new BitOpCommand([op, destinationKey, sourceKey, ...sourceKeys], this.commandOptions)\n  );\n  /**\n   * @see https://redis.io/commands/bitpos\n   */\n  bitpos = (...args) => this.chain(new BitPosCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/client-setinfo\n   */\n  clientSetinfo = (...args) => this.chain(new ClientSetInfoCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/copy\n   */\n  copy = (...args) => this.chain(new CopyCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zdiffstore\n   */\n  zdiffstore = (...args) => this.chain(new ZDiffStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/dbsize\n   */\n  dbsize = () => this.chain(new DBSizeCommand(this.commandOptions));\n  /**\n   * @see https://redis.io/commands/decr\n   */\n  decr = (...args) => this.chain(new DecrCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/decrby\n   */\n  decrby = (...args) => this.chain(new DecrByCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/del\n   */\n  del = (...args) => this.chain(new DelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/echo\n   */\n  echo = (...args) => this.chain(new EchoCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/eval_ro\n   */\n  evalRo = (...args) => this.chain(new EvalROCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/eval\n   */\n  eval = (...args) => this.chain(new EvalCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/evalsha_ro\n   */\n  evalshaRo = (...args) => this.chain(new EvalshaROCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/evalsha\n   */\n  evalsha = (...args) => this.chain(new EvalshaCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/exists\n   */\n  exists = (...args) => this.chain(new ExistsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/expire\n   */\n  expire = (...args) => this.chain(new ExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/expireat\n   */\n  expireat = (...args) => this.chain(new ExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/flushall\n   */\n  flushall = (args) => this.chain(new FlushAllCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/flushdb\n   */\n  flushdb = (...args) => this.chain(new FlushDBCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geoadd\n   */\n  geoadd = (...args) => this.chain(new GeoAddCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geodist\n   */\n  geodist = (...args) => this.chain(new GeoDistCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geopos\n   */\n  geopos = (...args) => this.chain(new GeoPosCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geohash\n   */\n  geohash = (...args) => this.chain(new GeoHashCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geosearch\n   */\n  geosearch = (...args) => this.chain(new GeoSearchCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/geosearchstore\n   */\n  geosearchstore = (...args) => this.chain(new GeoSearchStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/get\n   */\n  get = (...args) => this.chain(new GetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getbit\n   */\n  getbit = (...args) => this.chain(new GetBitCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getdel\n   */\n  getdel = (...args) => this.chain(new GetDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getex\n   */\n  getex = (...args) => this.chain(new GetExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getrange\n   */\n  getrange = (...args) => this.chain(new GetRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/getset\n   */\n  getset = (key, value) => this.chain(new GetSetCommand([key, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hdel\n   */\n  hdel = (...args) => this.chain(new HDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexists\n   */\n  hexists = (...args) => this.chain(new HExistsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexpire\n   */\n  hexpire = (...args) => this.chain(new HExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexpireat\n   */\n  hexpireat = (...args) => this.chain(new HExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hexpiretime\n   */\n  hexpiretime = (...args) => this.chain(new HExpireTimeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/httl\n   */\n  httl = (...args) => this.chain(new HTtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpexpire\n   */\n  hpexpire = (...args) => this.chain(new HPExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpexpireat\n   */\n  hpexpireat = (...args) => this.chain(new HPExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpexpiretime\n   */\n  hpexpiretime = (...args) => this.chain(new HPExpireTimeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpttl\n   */\n  hpttl = (...args) => this.chain(new HPTtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hpersist\n   */\n  hpersist = (...args) => this.chain(new HPersistCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hget\n   */\n  hget = (...args) => this.chain(new HGetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hgetall\n   */\n  hgetall = (...args) => this.chain(new HGetAllCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hgetdel\n   */\n  hgetdel = (...args) => this.chain(new HGetDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hgetex\n   */\n  hgetex = (...args) => this.chain(new HGetExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hincrby\n   */\n  hincrby = (...args) => this.chain(new HIncrByCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hincrbyfloat\n   */\n  hincrbyfloat = (...args) => this.chain(new HIncrByFloatCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hkeys\n   */\n  hkeys = (...args) => this.chain(new HKeysCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hlen\n   */\n  hlen = (...args) => this.chain(new HLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hmget\n   */\n  hmget = (...args) => this.chain(new HMGetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hmset\n   */\n  hmset = (key, kv) => this.chain(new HMSetCommand([key, kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hrandfield\n   */\n  hrandfield = (key, count, withValues) => this.chain(new HRandFieldCommand([key, count, withValues], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hscan\n   */\n  hscan = (...args) => this.chain(new HScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hset\n   */\n  hset = (key, kv) => this.chain(new HSetCommand([key, kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hsetex\n   */\n  hsetex = (...args) => this.chain(new HSetExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hsetnx\n   */\n  hsetnx = (key, field, value) => this.chain(new HSetNXCommand([key, field, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hstrlen\n   */\n  hstrlen = (...args) => this.chain(new HStrLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/hvals\n   */\n  hvals = (...args) => this.chain(new HValsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/incr\n   */\n  incr = (...args) => this.chain(new IncrCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/incrby\n   */\n  incrby = (...args) => this.chain(new IncrByCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/incrbyfloat\n   */\n  incrbyfloat = (...args) => this.chain(new IncrByFloatCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/keys\n   */\n  keys = (...args) => this.chain(new KeysCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lindex\n   */\n  lindex = (...args) => this.chain(new LIndexCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/linsert\n   */\n  linsert = (key, direction, pivot, value) => this.chain(new LInsertCommand([key, direction, pivot, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/llen\n   */\n  llen = (...args) => this.chain(new LLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lmove\n   */\n  lmove = (...args) => this.chain(new LMoveCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpop\n   */\n  lpop = (...args) => this.chain(new LPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lmpop\n   */\n  lmpop = (...args) => this.chain(new LmPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpos\n   */\n  lpos = (...args) => this.chain(new LPosCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpush\n   */\n  lpush = (key, ...elements) => this.chain(new LPushCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lpushx\n   */\n  lpushx = (key, ...elements) => this.chain(new LPushXCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lrange\n   */\n  lrange = (...args) => this.chain(new LRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lrem\n   */\n  lrem = (key, count, value) => this.chain(new LRemCommand([key, count, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/lset\n   */\n  lset = (key, index, value) => this.chain(new LSetCommand([key, index, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/ltrim\n   */\n  ltrim = (...args) => this.chain(new LTrimCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/mget\n   */\n  mget = (...args) => this.chain(new MGetCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/mset\n   */\n  mset = (kv) => this.chain(new MSetCommand([kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/msetnx\n   */\n  msetnx = (kv) => this.chain(new MSetNXCommand([kv], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/persist\n   */\n  persist = (...args) => this.chain(new PersistCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pexpire\n   */\n  pexpire = (...args) => this.chain(new PExpireCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pexpireat\n   */\n  pexpireat = (...args) => this.chain(new PExpireAtCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pfadd\n   */\n  pfadd = (...args) => this.chain(new PfAddCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pfcount\n   */\n  pfcount = (...args) => this.chain(new PfCountCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pfmerge\n   */\n  pfmerge = (...args) => this.chain(new PfMergeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/ping\n   */\n  ping = (args) => this.chain(new PingCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/psetex\n   */\n  psetex = (key, ttl, value) => this.chain(new PSetEXCommand([key, ttl, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/pttl\n   */\n  pttl = (...args) => this.chain(new PTtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/publish\n   */\n  publish = (...args) => this.chain(new PublishCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/randomkey\n   */\n  randomkey = () => this.chain(new RandomKeyCommand(this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rename\n   */\n  rename = (...args) => this.chain(new RenameCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/renamenx\n   */\n  renamenx = (...args) => this.chain(new RenameNXCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rpop\n   */\n  rpop = (...args) => this.chain(new RPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rpush\n   */\n  rpush = (key, ...elements) => this.chain(new RPushCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/rpushx\n   */\n  rpushx = (key, ...elements) => this.chain(new RPushXCommand([key, ...elements], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sadd\n   */\n  sadd = (key, member, ...members) => this.chain(new SAddCommand([key, member, ...members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/scan\n   */\n  scan = (...args) => this.chain(new ScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/scard\n   */\n  scard = (...args) => this.chain(new SCardCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/script-exists\n   */\n  scriptExists = (...args) => this.chain(new ScriptExistsCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/script-flush\n   */\n  scriptFlush = (...args) => this.chain(new ScriptFlushCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/script-load\n   */\n  scriptLoad = (...args) => this.chain(new ScriptLoadCommand(args, this.commandOptions));\n  /*)*\n   * @see https://redis.io/commands/sdiff\n   */\n  sdiff = (...args) => this.chain(new SDiffCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sdiffstore\n   */\n  sdiffstore = (...args) => this.chain(new SDiffStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/set\n   */\n  set = (key, value, opts) => this.chain(new SetCommand([key, value, opts], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setbit\n   */\n  setbit = (...args) => this.chain(new SetBitCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setex\n   */\n  setex = (key, ttl, value) => this.chain(new SetExCommand([key, ttl, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setnx\n   */\n  setnx = (key, value) => this.chain(new SetNxCommand([key, value], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/setrange\n   */\n  setrange = (...args) => this.chain(new SetRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sinter\n   */\n  sinter = (...args) => this.chain(new SInterCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sinterstore\n   */\n  sinterstore = (...args) => this.chain(new SInterStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sismember\n   */\n  sismember = (key, member) => this.chain(new SIsMemberCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/smembers\n   */\n  smembers = (...args) => this.chain(new SMembersCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/smismember\n   */\n  smismember = (key, members) => this.chain(new SMIsMemberCommand([key, members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/smove\n   */\n  smove = (source, destination, member) => this.chain(new SMoveCommand([source, destination, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/spop\n   */\n  spop = (...args) => this.chain(new SPopCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/srandmember\n   */\n  srandmember = (...args) => this.chain(new SRandMemberCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/srem\n   */\n  srem = (key, ...members) => this.chain(new SRemCommand([key, ...members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sscan\n   */\n  sscan = (...args) => this.chain(new SScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/strlen\n   */\n  strlen = (...args) => this.chain(new StrLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sunion\n   */\n  sunion = (...args) => this.chain(new SUnionCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/sunionstore\n   */\n  sunionstore = (...args) => this.chain(new SUnionStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/time\n   */\n  time = () => this.chain(new TimeCommand(this.commandOptions));\n  /**\n   * @see https://redis.io/commands/touch\n   */\n  touch = (...args) => this.chain(new TouchCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/ttl\n   */\n  ttl = (...args) => this.chain(new TtlCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/type\n   */\n  type = (...args) => this.chain(new TypeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/unlink\n   */\n  unlink = (...args) => this.chain(new UnlinkCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zadd\n   */\n  zadd = (...args) => {\n    if (\"score\" in args[1]) {\n      return this.chain(\n        new ZAddCommand([args[0], args[1], ...args.slice(2)], this.commandOptions)\n      );\n    }\n    return this.chain(\n      new ZAddCommand(\n        [args[0], args[1], ...args.slice(2)],\n        this.commandOptions\n      )\n    );\n  };\n  /**\n   * @see https://redis.io/commands/xadd\n   */\n  xadd = (...args) => this.chain(new XAddCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xack\n   */\n  xack = (...args) => this.chain(new XAckCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xackdel\n   */\n  xackdel = (...args) => this.chain(new XAckDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xdel\n   */\n  xdel = (...args) => this.chain(new XDelCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xdelex\n   */\n  xdelex = (...args) => this.chain(new XDelExCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xgroup\n   */\n  xgroup = (...args) => this.chain(new XGroupCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xread\n   */\n  xread = (...args) => this.chain(new XReadCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xreadgroup\n   */\n  xreadgroup = (...args) => this.chain(new XReadGroupCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xinfo\n   */\n  xinfo = (...args) => this.chain(new XInfoCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xlen\n   */\n  xlen = (...args) => this.chain(new XLenCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xpending\n   */\n  xpending = (...args) => this.chain(new XPendingCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xclaim\n   */\n  xclaim = (...args) => this.chain(new XClaimCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xautoclaim\n   */\n  xautoclaim = (...args) => this.chain(new XAutoClaim(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xtrim\n   */\n  xtrim = (...args) => this.chain(new XTrimCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xrange\n   */\n  xrange = (...args) => this.chain(new XRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/xrevrange\n   */\n  xrevrange = (...args) => this.chain(new XRevRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zcard\n   */\n  zcard = (...args) => this.chain(new ZCardCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zcount\n   */\n  zcount = (...args) => this.chain(new ZCountCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zincrby\n   */\n  zincrby = (key, increment, member) => this.chain(new ZIncrByCommand([key, increment, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zinterstore\n   */\n  zinterstore = (...args) => this.chain(new ZInterStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zlexcount\n   */\n  zlexcount = (...args) => this.chain(new ZLexCountCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zmscore\n   */\n  zmscore = (...args) => this.chain(new ZMScoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zpopmax\n   */\n  zpopmax = (...args) => this.chain(new ZPopMaxCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zpopmin\n   */\n  zpopmin = (...args) => this.chain(new ZPopMinCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrange\n   */\n  zrange = (...args) => this.chain(new ZRangeCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrank\n   */\n  zrank = (key, member) => this.chain(new ZRankCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrem\n   */\n  zrem = (key, ...members) => this.chain(new ZRemCommand([key, ...members], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zremrangebylex\n   */\n  zremrangebylex = (...args) => this.chain(new ZRemRangeByLexCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zremrangebyrank\n   */\n  zremrangebyrank = (...args) => this.chain(new ZRemRangeByRankCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zremrangebyscore\n   */\n  zremrangebyscore = (...args) => this.chain(new ZRemRangeByScoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zrevrank\n   */\n  zrevrank = (key, member) => this.chain(new ZRevRankCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zscan\n   */\n  zscan = (...args) => this.chain(new ZScanCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zscore\n   */\n  zscore = (key, member) => this.chain(new ZScoreCommand([key, member], this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zunionstore\n   */\n  zunionstore = (...args) => this.chain(new ZUnionStoreCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/zunion\n   */\n  zunion = (...args) => this.chain(new ZUnionCommand(args, this.commandOptions));\n  /**\n   * @see https://redis.io/commands/?group=json\n   */\n  get json() {\n    return {\n      /**\n       * @see https://redis.io/commands/json.arrappend\n       */\n      arrappend: (...args) => this.chain(new JsonArrAppendCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrindex\n       */\n      arrindex: (...args) => this.chain(new JsonArrIndexCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrinsert\n       */\n      arrinsert: (...args) => this.chain(new JsonArrInsertCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrlen\n       */\n      arrlen: (...args) => this.chain(new JsonArrLenCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrpop\n       */\n      arrpop: (...args) => this.chain(new JsonArrPopCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.arrtrim\n       */\n      arrtrim: (...args) => this.chain(new JsonArrTrimCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.clear\n       */\n      clear: (...args) => this.chain(new JsonClearCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.del\n       */\n      del: (...args) => this.chain(new JsonDelCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.forget\n       */\n      forget: (...args) => this.chain(new JsonForgetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.get\n       */\n      get: (...args) => this.chain(new JsonGetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.merge\n       */\n      merge: (...args) => this.chain(new JsonMergeCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.mget\n       */\n      mget: (...args) => this.chain(new JsonMGetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.mset\n       */\n      mset: (...args) => this.chain(new JsonMSetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.numincrby\n       */\n      numincrby: (...args) => this.chain(new JsonNumIncrByCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.nummultby\n       */\n      nummultby: (...args) => this.chain(new JsonNumMultByCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.objkeys\n       */\n      objkeys: (...args) => this.chain(new JsonObjKeysCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.objlen\n       */\n      objlen: (...args) => this.chain(new JsonObjLenCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.resp\n       */\n      resp: (...args) => this.chain(new JsonRespCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.set\n       */\n      set: (...args) => this.chain(new JsonSetCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.strappend\n       */\n      strappend: (...args) => this.chain(new JsonStrAppendCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.strlen\n       */\n      strlen: (...args) => this.chain(new JsonStrLenCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.toggle\n       */\n      toggle: (...args) => this.chain(new JsonToggleCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/commands/json.type\n       */\n      type: (...args) => this.chain(new JsonTypeCommand(args, this.commandOptions))\n    };\n  }\n  get functions() {\n    return {\n      /**\n       * @see https://redis.io/docs/latest/commands/function-load/\n       */\n      load: (...args) => this.chain(new FunctionLoadCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-list/\n       */\n      list: (...args) => this.chain(new FunctionListCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-delete/\n       */\n      delete: (...args) => this.chain(new FunctionDeleteCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-flush/\n       */\n      flush: () => this.chain(new FunctionFlushCommand(this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-stats/\n       */\n      stats: () => this.chain(new FunctionStatsCommand(this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall/\n       */\n      call: (...args) => this.chain(new FCallCommand(args, this.commandOptions)),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall_ro/\n       */\n      callRo: (...args) => this.chain(new FCallRoCommand(args, this.commandOptions))\n    };\n  }\n};\n\n// pkg/auto-pipeline.ts\nvar EXCLUDE_COMMANDS = /* @__PURE__ */ new Set([\n  \"scan\",\n  \"keys\",\n  \"flushdb\",\n  \"flushall\",\n  \"dbsize\",\n  \"hscan\",\n  \"hgetall\",\n  \"hkeys\",\n  \"lrange\",\n  \"sscan\",\n  \"smembers\",\n  \"xrange\",\n  \"xrevrange\",\n  \"zscan\",\n  \"zrange\",\n  \"exec\"\n]);\nfunction createAutoPipelineProxy(_redis, namespace = \"root\") {\n  const redis = _redis;\n  if (!redis.autoPipelineExecutor) {\n    redis.autoPipelineExecutor = new AutoPipelineExecutor(redis);\n  }\n  return new Proxy(redis, {\n    get: (redis2, command) => {\n      if (command === \"pipelineCounter\") {\n        return redis2.autoPipelineExecutor.pipelineCounter;\n      }\n      if (namespace === \"root\" && command === \"json\") {\n        return createAutoPipelineProxy(redis2, \"json\");\n      }\n      if (namespace === \"root\" && command === \"functions\") {\n        return createAutoPipelineProxy(redis2, \"functions\");\n      }\n      if (namespace === \"root\") {\n        const commandInRedisButNotPipeline = command in redis2 && !(command in redis2.autoPipelineExecutor.pipeline);\n        const isCommandExcluded = EXCLUDE_COMMANDS.has(command);\n        if (commandInRedisButNotPipeline || isCommandExcluded) {\n          return redis2[command];\n        }\n      }\n      const pipeline = redis2.autoPipelineExecutor.pipeline;\n      const targetFunction = namespace === \"json\" ? pipeline.json[command] : namespace === \"functions\" ? pipeline.functions[command] : pipeline[command];\n      const isFunction = typeof targetFunction === \"function\";\n      if (isFunction) {\n        return (...args) => {\n          return redis2.autoPipelineExecutor.withAutoPipeline((pipeline2) => {\n            const targetFunction2 = namespace === \"json\" ? pipeline2.json[command] : namespace === \"functions\" ? pipeline2.functions[command] : pipeline2[command];\n            targetFunction2(...args);\n          });\n        };\n      }\n      return targetFunction;\n    }\n  });\n}\nvar AutoPipelineExecutor = class {\n  pipelinePromises = /* @__PURE__ */ new WeakMap();\n  activePipeline = null;\n  indexInCurrentPipeline = 0;\n  redis;\n  pipeline;\n  // only to make sure that proxy can work\n  pipelineCounter = 0;\n  // to keep track of how many times a pipeline was executed\n  constructor(redis) {\n    this.redis = redis;\n    this.pipeline = redis.pipeline();\n  }\n  async withAutoPipeline(executeWithPipeline) {\n    const pipeline = this.activePipeline ?? this.redis.pipeline();\n    if (!this.activePipeline) {\n      this.activePipeline = pipeline;\n      this.indexInCurrentPipeline = 0;\n    }\n    const index = this.indexInCurrentPipeline++;\n    executeWithPipeline(pipeline);\n    const pipelineDone = this.deferExecution().then(() => {\n      if (!this.pipelinePromises.has(pipeline)) {\n        const pipelinePromise = pipeline.exec({ keepErrors: true });\n        this.pipelineCounter += 1;\n        this.pipelinePromises.set(pipeline, pipelinePromise);\n        this.activePipeline = null;\n      }\n      return this.pipelinePromises.get(pipeline);\n    });\n    const results = await pipelineDone;\n    const commandResult = results[index];\n    if (commandResult.error) {\n      throw new UpstashError(`Command failed: ${commandResult.error}`);\n    }\n    return commandResult.result;\n  }\n  async deferExecution() {\n    await Promise.resolve();\n    await Promise.resolve();\n  }\n};\n\n// pkg/commands/psubscribe.ts\nvar PSubscribeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const sseHeaders = {\n      Accept: \"text/event-stream\",\n      \"Cache-Control\": \"no-cache\",\n      Connection: \"keep-alive\"\n    };\n    super([], {\n      ...opts,\n      headers: sseHeaders,\n      path: [\"psubscribe\", ...cmd],\n      streamOptions: {\n        isStreaming: true,\n        onMessage: opts?.streamOptions?.onMessage,\n        signal: opts?.streamOptions?.signal\n      }\n    });\n  }\n};\n\n// pkg/commands/subscribe.ts\nvar Subscriber = class extends EventTarget {\n  subscriptions;\n  client;\n  listeners;\n  opts;\n  constructor(client, channels, isPattern = false, opts) {\n    super();\n    this.client = client;\n    this.subscriptions = /* @__PURE__ */ new Map();\n    this.listeners = /* @__PURE__ */ new Map();\n    this.opts = opts;\n    for (const channel of channels) {\n      if (isPattern) {\n        this.subscribeToPattern(channel);\n      } else {\n        this.subscribeToChannel(channel);\n      }\n    }\n  }\n  subscribeToChannel(channel) {\n    const controller = new AbortController();\n    const command = new SubscribeCommand([channel], {\n      streamOptions: {\n        signal: controller.signal,\n        onMessage: (data) => this.handleMessage(data, false)\n      }\n    });\n    command.exec(this.client).catch((error) => {\n      if (error.name !== \"AbortError\") {\n        this.dispatchToListeners(\"error\", error);\n      }\n    });\n    this.subscriptions.set(channel, {\n      command,\n      controller,\n      isPattern: false\n    });\n  }\n  subscribeToPattern(pattern) {\n    const controller = new AbortController();\n    const command = new PSubscribeCommand([pattern], {\n      streamOptions: {\n        signal: controller.signal,\n        onMessage: (data) => this.handleMessage(data, true)\n      }\n    });\n    command.exec(this.client).catch((error) => {\n      if (error.name !== \"AbortError\") {\n        this.dispatchToListeners(\"error\", error);\n      }\n    });\n    this.subscriptions.set(pattern, {\n      command,\n      controller,\n      isPattern: true\n    });\n  }\n  handleMessage(data, isPattern) {\n    const messageData = data.replace(/^data:\\s*/, \"\");\n    const firstCommaIndex = messageData.indexOf(\",\");\n    const secondCommaIndex = messageData.indexOf(\",\", firstCommaIndex + 1);\n    const thirdCommaIndex = isPattern ? messageData.indexOf(\",\", secondCommaIndex + 1) : -1;\n    if (firstCommaIndex !== -1 && secondCommaIndex !== -1) {\n      const type = messageData.slice(0, firstCommaIndex);\n      if (isPattern && type === \"pmessage\" && thirdCommaIndex !== -1) {\n        const pattern = messageData.slice(firstCommaIndex + 1, secondCommaIndex);\n        const channel = messageData.slice(secondCommaIndex + 1, thirdCommaIndex);\n        const messageStr = messageData.slice(thirdCommaIndex + 1);\n        try {\n          const message = this.opts?.automaticDeserialization === false ? messageStr : JSON.parse(messageStr);\n          this.dispatchToListeners(\"pmessage\", { pattern, channel, message });\n          this.dispatchToListeners(`pmessage:${pattern}`, { pattern, channel, message });\n        } catch (error) {\n          this.dispatchToListeners(\"error\", new Error(`Failed to parse message: ${error}`));\n        }\n      } else {\n        const channel = messageData.slice(firstCommaIndex + 1, secondCommaIndex);\n        const messageStr = messageData.slice(secondCommaIndex + 1);\n        try {\n          if (type === \"subscribe\" || type === \"psubscribe\" || type === \"unsubscribe\" || type === \"punsubscribe\") {\n            const count = Number.parseInt(messageStr);\n            this.dispatchToListeners(type, count);\n          } else {\n            const message = this.opts?.automaticDeserialization === false ? messageStr : parseWithTryCatch(messageStr);\n            this.dispatchToListeners(type, { channel, message });\n            this.dispatchToListeners(`${type}:${channel}`, { channel, message });\n          }\n        } catch (error) {\n          this.dispatchToListeners(\"error\", new Error(`Failed to parse message: ${error}`));\n        }\n      }\n    }\n  }\n  dispatchToListeners(type, data) {\n    const listeners = this.listeners.get(type);\n    if (listeners) {\n      for (const listener of listeners) {\n        listener(data);\n      }\n    }\n  }\n  on(type, listener) {\n    if (!this.listeners.has(type)) {\n      this.listeners.set(type, /* @__PURE__ */ new Set());\n    }\n    this.listeners.get(type)?.add(listener);\n  }\n  removeAllListeners() {\n    this.listeners.clear();\n  }\n  async unsubscribe(channels) {\n    if (channels) {\n      for (const channel of channels) {\n        const subscription = this.subscriptions.get(channel);\n        if (subscription) {\n          try {\n            subscription.controller.abort();\n          } catch {\n          }\n          this.subscriptions.delete(channel);\n        }\n      }\n    } else {\n      for (const subscription of this.subscriptions.values()) {\n        try {\n          subscription.controller.abort();\n        } catch {\n        }\n      }\n      this.subscriptions.clear();\n      this.removeAllListeners();\n    }\n  }\n  getSubscribedChannels() {\n    return [...this.subscriptions.keys()];\n  }\n};\nvar SubscribeCommand = class extends Command {\n  constructor(cmd, opts) {\n    const sseHeaders = {\n      Accept: \"text/event-stream\",\n      \"Cache-Control\": \"no-cache\",\n      Connection: \"keep-alive\"\n    };\n    super([], {\n      ...opts,\n      headers: sseHeaders,\n      path: [\"subscribe\", ...cmd],\n      streamOptions: {\n        isStreaming: true,\n        onMessage: opts?.streamOptions?.onMessage,\n        signal: opts?.streamOptions?.signal\n      }\n    });\n  }\n};\nvar parseWithTryCatch = (str) => {\n  try {\n    return JSON.parse(str);\n  } catch {\n    return str;\n  }\n};\n\n// pkg/script.ts\n\nvar Script = class {\n  script;\n  /**\n   * @deprecated This property is initialized to an empty string and will be set in the init method\n   * asynchronously. Do not use this property immidiately after the constructor.\n   *\n   * This property is only exposed for backwards compatibility and will be removed in the\n   * future major release.\n   */\n  sha1;\n  redis;\n  constructor(redis, script) {\n    this.redis = redis;\n    this.script = script;\n    this.sha1 = \"\";\n    void this.init(script);\n  }\n  /**\n   * Initialize the script by computing its SHA-1 hash.\n   */\n  async init(script) {\n    if (this.sha1) return;\n    this.sha1 = await this.digest(script);\n  }\n  /**\n   * Send an `EVAL` command to redis.\n   */\n  async eval(keys, args) {\n    await this.init(this.script);\n    return await this.redis.eval(this.script, keys, args);\n  }\n  /**\n   * Calculates the sha1 hash of the script and then calls `EVALSHA`.\n   */\n  async evalsha(keys, args) {\n    await this.init(this.script);\n    return await this.redis.evalsha(this.sha1, keys, args);\n  }\n  /**\n   * Optimistically try to run `EVALSHA` first.\n   * If the script is not loaded in redis, it will fall back and try again with `EVAL`.\n   *\n   * Following calls will be able to use the cached script\n   */\n  async exec(keys, args) {\n    await this.init(this.script);\n    const res = await this.redis.evalsha(this.sha1, keys, args).catch(async (error) => {\n      if (error instanceof Error && error.message.toLowerCase().includes(\"noscript\")) {\n        return await this.redis.eval(this.script, keys, args);\n      }\n      throw error;\n    });\n    return res;\n  }\n  /**\n   * Compute the sha1 hash of the script and return its hex representation.\n   */\n  async digest(s) {\n    const data = new TextEncoder().encode(s);\n    const hashBuffer = await uncrypto__WEBPACK_IMPORTED_MODULE_0__.subtle.digest(\"SHA-1\", data);\n    const hashArray = [...new Uint8Array(hashBuffer)];\n    return hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n};\n\n// pkg/scriptRo.ts\n\nvar ScriptRO = class {\n  script;\n  /**\n   * @deprecated This property is initialized to an empty string and will be set in the init method\n   * asynchronously. Do not use this property immidiately after the constructor.\n   *\n   * This property is only exposed for backwards compatibility and will be removed in the\n   * future major release.\n   */\n  sha1;\n  redis;\n  constructor(redis, script) {\n    this.redis = redis;\n    this.sha1 = \"\";\n    this.script = script;\n    void this.init(script);\n  }\n  async init(script) {\n    if (this.sha1) return;\n    this.sha1 = await this.digest(script);\n  }\n  /**\n   * Send an `EVAL_RO` command to redis.\n   */\n  async evalRo(keys, args) {\n    await this.init(this.script);\n    return await this.redis.evalRo(this.script, keys, args);\n  }\n  /**\n   * Calculates the sha1 hash of the script and then calls `EVALSHA_RO`.\n   */\n  async evalshaRo(keys, args) {\n    await this.init(this.script);\n    return await this.redis.evalshaRo(this.sha1, keys, args);\n  }\n  /**\n   * Optimistically try to run `EVALSHA_RO` first.\n   * If the script is not loaded in redis, it will fall back and try again with `EVAL_RO`.\n   *\n   * Following calls will be able to use the cached script\n   */\n  async exec(keys, args) {\n    await this.init(this.script);\n    const res = await this.redis.evalshaRo(this.sha1, keys, args).catch(async (error) => {\n      if (error instanceof Error && error.message.toLowerCase().includes(\"noscript\")) {\n        return await this.redis.evalRo(this.script, keys, args);\n      }\n      throw error;\n    });\n    return res;\n  }\n  /**\n   * Compute the sha1 hash of the script and return its hex representation.\n   */\n  async digest(s) {\n    const data = new TextEncoder().encode(s);\n    const hashBuffer = await uncrypto__WEBPACK_IMPORTED_MODULE_0__.subtle.digest(\"SHA-1\", data);\n    const hashArray = [...new Uint8Array(hashBuffer)];\n    return hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n  }\n};\n\n// pkg/redis.ts\nvar Redis = class {\n  client;\n  opts;\n  enableTelemetry;\n  enableAutoPipelining;\n  /**\n   * Create a new redis client\n   *\n   * @example\n   * ```typescript\n   * const redis = new Redis({\n   *  url: \"<UPSTASH_REDIS_REST_URL>\",\n   *  token: \"<UPSTASH_REDIS_REST_TOKEN>\",\n   * });\n   * ```\n   */\n  constructor(client, opts) {\n    this.client = client;\n    this.opts = opts;\n    this.enableTelemetry = opts?.enableTelemetry ?? true;\n    if (opts?.readYourWrites === false) {\n      this.client.readYourWrites = false;\n    }\n    this.enableAutoPipelining = opts?.enableAutoPipelining ?? true;\n  }\n  get readYourWritesSyncToken() {\n    return this.client.upstashSyncToken;\n  }\n  set readYourWritesSyncToken(session) {\n    this.client.upstashSyncToken = session;\n  }\n  get json() {\n    return {\n      /**\n       * @see https://redis.io/commands/json.arrappend\n       */\n      arrappend: (...args) => new JsonArrAppendCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrindex\n       */\n      arrindex: (...args) => new JsonArrIndexCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrinsert\n       */\n      arrinsert: (...args) => new JsonArrInsertCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrlen\n       */\n      arrlen: (...args) => new JsonArrLenCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrpop\n       */\n      arrpop: (...args) => new JsonArrPopCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.arrtrim\n       */\n      arrtrim: (...args) => new JsonArrTrimCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.clear\n       */\n      clear: (...args) => new JsonClearCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.del\n       */\n      del: (...args) => new JsonDelCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.forget\n       */\n      forget: (...args) => new JsonForgetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.get\n       */\n      get: (...args) => new JsonGetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.merge\n       */\n      merge: (...args) => new JsonMergeCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.mget\n       */\n      mget: (...args) => new JsonMGetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.mset\n       */\n      mset: (...args) => new JsonMSetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.numincrby\n       */\n      numincrby: (...args) => new JsonNumIncrByCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.nummultby\n       */\n      nummultby: (...args) => new JsonNumMultByCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.objkeys\n       */\n      objkeys: (...args) => new JsonObjKeysCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.objlen\n       */\n      objlen: (...args) => new JsonObjLenCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.resp\n       */\n      resp: (...args) => new JsonRespCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.set\n       */\n      set: (...args) => new JsonSetCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.strappend\n       */\n      strappend: (...args) => new JsonStrAppendCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.strlen\n       */\n      strlen: (...args) => new JsonStrLenCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.toggle\n       */\n      toggle: (...args) => new JsonToggleCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/commands/json.type\n       */\n      type: (...args) => new JsonTypeCommand(args, this.opts).exec(this.client)\n    };\n  }\n  get functions() {\n    return {\n      /**\n       * @see https://redis.io/docs/latest/commands/function-load/\n       */\n      load: (...args) => new FunctionLoadCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-list/\n       */\n      list: (...args) => new FunctionListCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-delete/\n       */\n      delete: (...args) => new FunctionDeleteCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-flush/\n       */\n      flush: () => new FunctionFlushCommand(this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/function-stats/\n       *\n       * Note: `running_script` field is not supported and therefore not included in the type.\n       */\n      stats: () => new FunctionStatsCommand(this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall/\n       */\n      call: (...args) => new FCallCommand(args, this.opts).exec(this.client),\n      /**\n       * @see https://redis.io/docs/latest/commands/fcall_ro/\n       */\n      callRo: (...args) => new FCallRoCommand(args, this.opts).exec(this.client)\n    };\n  }\n  /**\n   * Wrap a new middleware around the HTTP client.\n   */\n  use = (middleware) => {\n    const makeRequest = this.client.request.bind(this.client);\n    this.client.request = (req) => middleware(req, makeRequest);\n  };\n  /**\n   * Technically this is not private, we can hide it from intellisense by doing this\n   */\n  addTelemetry = (telemetry) => {\n    if (!this.enableTelemetry) {\n      return;\n    }\n    try {\n      this.client.mergeTelemetry(telemetry);\n    } catch {\n    }\n  };\n  /**\n   * Creates a new script.\n   *\n   * Scripts offer the ability to optimistically try to execute a script without having to send the\n   * entire script to the server. If the script is loaded on the server, it tries again by sending\n   * the entire script. Afterwards, the script is cached on the server.\n   *\n   * @param script - The script to create\n   * @param opts - Optional options to pass to the script `{ readonly?: boolean }`\n   * @returns A new script\n   *\n   * @example\n   * ```ts\n   * const redis = new Redis({...})\n   *\n   * const script = redis.createScript<string>(\"return ARGV[1];\")\n   * const arg1 = await script.eval([], [\"Hello World\"])\n   * expect(arg1, \"Hello World\")\n   * ```\n   * @example\n   * ```ts\n   * const redis = new Redis({...})\n   *\n   * const script = redis.createScript<string>(\"return ARGV[1];\", { readonly: true })\n   * const arg1 = await script.evalRo([], [\"Hello World\"])\n   * expect(arg1, \"Hello World\")\n   * ```\n   */\n  createScript(script, opts) {\n    return opts?.readonly ? new ScriptRO(this, script) : new Script(this, script);\n  }\n  /**\n   * Create a new pipeline that allows you to send requests in bulk.\n   *\n   * @see {@link Pipeline}\n   */\n  pipeline = () => new Pipeline({\n    client: this.client,\n    commandOptions: this.opts,\n    multiExec: false\n  });\n  autoPipeline = () => {\n    return createAutoPipelineProxy(this);\n  };\n  /**\n   * Create a new transaction to allow executing multiple steps atomically.\n   *\n   * All the commands in a transaction are serialized and executed sequentially. A request sent by\n   * another client will never be served in the middle of the execution of a Redis Transaction. This\n   * guarantees that the commands are executed as a single isolated operation.\n   *\n   * @see {@link Pipeline}\n   */\n  multi = () => new Pipeline({\n    client: this.client,\n    commandOptions: this.opts,\n    multiExec: true\n  });\n  /**\n   * Returns an instance that can be used to execute `BITFIELD` commands on one key.\n   *\n   * @example\n   * ```typescript\n   * redis.set(\"mykey\", 0);\n   * const result = await redis.bitfield(\"mykey\")\n   *   .set(\"u4\", 0, 16)\n   *   .incr(\"u4\", \"#1\", 1)\n   *   .exec();\n   * console.log(result); // [0, 1]\n   * ```\n   *\n   * @see https://redis.io/commands/bitfield\n   */\n  bitfield = (...args) => new BitFieldCommand(args, this.client, this.opts);\n  /**\n   * @see https://redis.io/commands/append\n   */\n  append = (...args) => new AppendCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/bitcount\n   */\n  bitcount = (...args) => new BitCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/bitop\n   */\n  bitop = (op, destinationKey, sourceKey, ...sourceKeys) => new BitOpCommand([op, destinationKey, sourceKey, ...sourceKeys], this.opts).exec(\n    this.client\n  );\n  /**\n   * @see https://redis.io/commands/bitpos\n   */\n  bitpos = (...args) => new BitPosCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/client-setinfo\n   */\n  clientSetinfo = (...args) => new ClientSetInfoCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/copy\n   */\n  copy = (...args) => new CopyCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/dbsize\n   */\n  dbsize = () => new DBSizeCommand(this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/decr\n   */\n  decr = (...args) => new DecrCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/decrby\n   */\n  decrby = (...args) => new DecrByCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/del\n   */\n  del = (...args) => new DelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/echo\n   */\n  echo = (...args) => new EchoCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/eval_ro\n   */\n  evalRo = (...args) => new EvalROCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/eval\n   */\n  eval = (...args) => new EvalCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/evalsha_ro\n   */\n  evalshaRo = (...args) => new EvalshaROCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/evalsha\n   */\n  evalsha = (...args) => new EvalshaCommand(args, this.opts).exec(this.client);\n  /**\n   * Generic method to execute any Redis command.\n   */\n  exec = (args) => new ExecCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/exists\n   */\n  exists = (...args) => new ExistsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/expire\n   */\n  expire = (...args) => new ExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/expireat\n   */\n  expireat = (...args) => new ExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/flushall\n   */\n  flushall = (args) => new FlushAllCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/flushdb\n   */\n  flushdb = (...args) => new FlushDBCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geoadd\n   */\n  geoadd = (...args) => new GeoAddCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geopos\n   */\n  geopos = (...args) => new GeoPosCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geodist\n   */\n  geodist = (...args) => new GeoDistCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geohash\n   */\n  geohash = (...args) => new GeoHashCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geosearch\n   */\n  geosearch = (...args) => new GeoSearchCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/geosearchstore\n   */\n  geosearchstore = (...args) => new GeoSearchStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/get\n   */\n  get = (...args) => new GetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getbit\n   */\n  getbit = (...args) => new GetBitCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getdel\n   */\n  getdel = (...args) => new GetDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getex\n   */\n  getex = (...args) => new GetExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getrange\n   */\n  getrange = (...args) => new GetRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/getset\n   */\n  getset = (key, value) => new GetSetCommand([key, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hdel\n   */\n  hdel = (...args) => new HDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexists\n   */\n  hexists = (...args) => new HExistsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexpire\n   */\n  hexpire = (...args) => new HExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexpireat\n   */\n  hexpireat = (...args) => new HExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hexpiretime\n   */\n  hexpiretime = (...args) => new HExpireTimeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/httl\n   */\n  httl = (...args) => new HTtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpexpire\n   */\n  hpexpire = (...args) => new HPExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpexpireat\n   */\n  hpexpireat = (...args) => new HPExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpexpiretime\n   */\n  hpexpiretime = (...args) => new HPExpireTimeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpttl\n   */\n  hpttl = (...args) => new HPTtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hpersist\n   */\n  hpersist = (...args) => new HPersistCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hget\n   */\n  hget = (...args) => new HGetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hgetall\n   */\n  hgetall = (...args) => new HGetAllCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hgetdel\n   */\n  hgetdel = (...args) => new HGetDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hgetex\n   */\n  hgetex = (...args) => new HGetExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hincrby\n   */\n  hincrby = (...args) => new HIncrByCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hincrbyfloat\n   */\n  hincrbyfloat = (...args) => new HIncrByFloatCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hkeys\n   */\n  hkeys = (...args) => new HKeysCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hlen\n   */\n  hlen = (...args) => new HLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hmget\n   */\n  hmget = (...args) => new HMGetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hmset\n   */\n  hmset = (key, kv) => new HMSetCommand([key, kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hrandfield\n   */\n  hrandfield = (key, count, withValues) => new HRandFieldCommand([key, count, withValues], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hscan\n   */\n  hscan = (...args) => new HScanCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hset\n   */\n  hset = (key, kv) => new HSetCommand([key, kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hsetex\n   */\n  hsetex = (...args) => new HSetExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hsetnx\n   */\n  hsetnx = (key, field, value) => new HSetNXCommand([key, field, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hstrlen\n   */\n  hstrlen = (...args) => new HStrLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/hvals\n   */\n  hvals = (...args) => new HValsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/incr\n   */\n  incr = (...args) => new IncrCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/incrby\n   */\n  incrby = (...args) => new IncrByCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/incrbyfloat\n   */\n  incrbyfloat = (...args) => new IncrByFloatCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/keys\n   */\n  keys = (...args) => new KeysCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lindex\n   */\n  lindex = (...args) => new LIndexCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/linsert\n   */\n  linsert = (key, direction, pivot, value) => new LInsertCommand([key, direction, pivot, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/llen\n   */\n  llen = (...args) => new LLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lmove\n   */\n  lmove = (...args) => new LMoveCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpop\n   */\n  lpop = (...args) => new LPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lmpop\n   */\n  lmpop = (...args) => new LmPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpos\n   */\n  lpos = (...args) => new LPosCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpush\n   */\n  lpush = (key, ...elements) => new LPushCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lpushx\n   */\n  lpushx = (key, ...elements) => new LPushXCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lrange\n   */\n  lrange = (...args) => new LRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lrem\n   */\n  lrem = (key, count, value) => new LRemCommand([key, count, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/lset\n   */\n  lset = (key, index, value) => new LSetCommand([key, index, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/ltrim\n   */\n  ltrim = (...args) => new LTrimCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/mget\n   */\n  mget = (...args) => new MGetCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/mset\n   */\n  mset = (kv) => new MSetCommand([kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/msetnx\n   */\n  msetnx = (kv) => new MSetNXCommand([kv], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/persist\n   */\n  persist = (...args) => new PersistCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pexpire\n   */\n  pexpire = (...args) => new PExpireCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pexpireat\n   */\n  pexpireat = (...args) => new PExpireAtCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pfadd\n   */\n  pfadd = (...args) => new PfAddCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pfcount\n   */\n  pfcount = (...args) => new PfCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/pfmerge\n   */\n  pfmerge = (...args) => new PfMergeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/ping\n   */\n  ping = (args) => new PingCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/psetex\n   */\n  psetex = (key, ttl, value) => new PSetEXCommand([key, ttl, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/psubscribe\n   */\n  psubscribe = (patterns) => {\n    const patternArray = Array.isArray(patterns) ? patterns : [patterns];\n    return new Subscriber(this.client, patternArray, true, this.opts);\n  };\n  /**\n   * @see https://redis.io/commands/pttl\n   */\n  pttl = (...args) => new PTtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/publish\n   */\n  publish = (...args) => new PublishCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/randomkey\n   */\n  randomkey = () => new RandomKeyCommand().exec(this.client);\n  /**\n   * @see https://redis.io/commands/rename\n   */\n  rename = (...args) => new RenameCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/renamenx\n   */\n  renamenx = (...args) => new RenameNXCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/rpop\n   */\n  rpop = (...args) => new RPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/rpush\n   */\n  rpush = (key, ...elements) => new RPushCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/rpushx\n   */\n  rpushx = (key, ...elements) => new RPushXCommand([key, ...elements], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sadd\n   */\n  sadd = (key, member, ...members) => new SAddCommand([key, member, ...members], this.opts).exec(this.client);\n  scan(cursor, opts) {\n    return new ScanCommand([cursor, opts], this.opts).exec(this.client);\n  }\n  /**\n   * @see https://redis.io/commands/scard\n   */\n  scard = (...args) => new SCardCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/script-exists\n   */\n  scriptExists = (...args) => new ScriptExistsCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/script-flush\n   */\n  scriptFlush = (...args) => new ScriptFlushCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/script-load\n   */\n  scriptLoad = (...args) => new ScriptLoadCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sdiff\n   */\n  sdiff = (...args) => new SDiffCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sdiffstore\n   */\n  sdiffstore = (...args) => new SDiffStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/set\n   */\n  set = (key, value, opts) => new SetCommand([key, value, opts], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setbit\n   */\n  setbit = (...args) => new SetBitCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setex\n   */\n  setex = (key, ttl, value) => new SetExCommand([key, ttl, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setnx\n   */\n  setnx = (key, value) => new SetNxCommand([key, value], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/setrange\n   */\n  setrange = (...args) => new SetRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sinter\n   */\n  sinter = (...args) => new SInterCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sinterstore\n   */\n  sinterstore = (...args) => new SInterStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sismember\n   */\n  sismember = (key, member) => new SIsMemberCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/smismember\n   */\n  smismember = (key, members) => new SMIsMemberCommand([key, members], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/smembers\n   */\n  smembers = (...args) => new SMembersCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/smove\n   */\n  smove = (source, destination, member) => new SMoveCommand([source, destination, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/spop\n   */\n  spop = (...args) => new SPopCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/srandmember\n   */\n  srandmember = (...args) => new SRandMemberCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/srem\n   */\n  srem = (key, ...members) => new SRemCommand([key, ...members], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sscan\n   */\n  sscan = (...args) => new SScanCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/strlen\n   */\n  strlen = (...args) => new StrLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/subscribe\n   */\n  subscribe = (channels) => {\n    const channelArray = Array.isArray(channels) ? channels : [channels];\n    return new Subscriber(this.client, channelArray, false, this.opts);\n  };\n  /**\n   * @see https://redis.io/commands/sunion\n   */\n  sunion = (...args) => new SUnionCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/sunionstore\n   */\n  sunionstore = (...args) => new SUnionStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/time\n   */\n  time = () => new TimeCommand().exec(this.client);\n  /**\n   * @see https://redis.io/commands/touch\n   */\n  touch = (...args) => new TouchCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/ttl\n   */\n  ttl = (...args) => new TtlCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/type\n   */\n  type = (...args) => new TypeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/unlink\n   */\n  unlink = (...args) => new UnlinkCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xadd\n   */\n  xadd = (...args) => new XAddCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xack\n   */\n  xack = (...args) => new XAckCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xackdel\n   */\n  xackdel = (...args) => new XAckDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xdel\n   */\n  xdel = (...args) => new XDelCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xdelex\n   */\n  xdelex = (...args) => new XDelExCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xgroup\n   */\n  xgroup = (...args) => new XGroupCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xread\n   */\n  xread = (...args) => new XReadCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xreadgroup\n   */\n  xreadgroup = (...args) => new XReadGroupCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xinfo\n   */\n  xinfo = (...args) => new XInfoCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xlen\n   */\n  xlen = (...args) => new XLenCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xpending\n   */\n  xpending = (...args) => new XPendingCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xclaim\n   */\n  xclaim = (...args) => new XClaimCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xautoclaim\n   */\n  xautoclaim = (...args) => new XAutoClaim(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xtrim\n   */\n  xtrim = (...args) => new XTrimCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xrange\n   */\n  xrange = (...args) => new XRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/xrevrange\n   */\n  xrevrange = (...args) => new XRevRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zadd\n   */\n  zadd = (...args) => {\n    if (\"score\" in args[1]) {\n      return new ZAddCommand([args[0], args[1], ...args.slice(2)], this.opts).exec(\n        this.client\n      );\n    }\n    return new ZAddCommand(\n      [args[0], args[1], ...args.slice(2)],\n      this.opts\n    ).exec(this.client);\n  };\n  /**\n   * @see https://redis.io/commands/zcard\n   */\n  zcard = (...args) => new ZCardCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zcount\n   */\n  zcount = (...args) => new ZCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zdiffstore\n   */\n  zdiffstore = (...args) => new ZDiffStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zincrby\n   */\n  zincrby = (key, increment, member) => new ZIncrByCommand([key, increment, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zinterstore\n   */\n  zinterstore = (...args) => new ZInterStoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zlexcount\n   */\n  zlexcount = (...args) => new ZLexCountCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zmscore\n   */\n  zmscore = (...args) => new ZMScoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zpopmax\n   */\n  zpopmax = (...args) => new ZPopMaxCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zpopmin\n   */\n  zpopmin = (...args) => new ZPopMinCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrange\n   */\n  zrange = (...args) => new ZRangeCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrank\n   */\n  zrank = (key, member) => new ZRankCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrem\n   */\n  zrem = (key, ...members) => new ZRemCommand([key, ...members], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zremrangebylex\n   */\n  zremrangebylex = (...args) => new ZRemRangeByLexCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zremrangebyrank\n   */\n  zremrangebyrank = (...args) => new ZRemRangeByRankCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zremrangebyscore\n   */\n  zremrangebyscore = (...args) => new ZRemRangeByScoreCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zrevrank\n   */\n  zrevrank = (key, member) => new ZRevRankCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zscan\n   */\n  zscan = (...args) => new ZScanCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zscore\n   */\n  zscore = (key, member) => new ZScoreCommand([key, member], this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zunion\n   */\n  zunion = (...args) => new ZUnionCommand(args, this.opts).exec(this.client);\n  /**\n   * @see https://redis.io/commands/zunionstore\n   */\n  zunionstore = (...args) => new ZUnionStoreCommand(args, this.opts).exec(this.client);\n};\n\n// version.ts\nvar VERSION = \"v1.36.2\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHVwc3Rhc2grcmVkaXNAMS4zNi4yL25vZGVfbW9kdWxlcy9AdXBzdGFzaC9yZWRpcy9jaHVuay1RM1NXWDRCQi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrR0FBK0csSUFBSTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxjQUFjO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUJBQWlCO0FBQ25DLHNCQUFzQixpQ0FBaUM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsNkJBQTZCLG1EQUFtRDtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixvREFBb0QsZUFBZTtBQUNuRTtBQUNBLGdDQUFnQyxZQUFZLGlCQUFpQix5QkFBeUI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04saURBQWlELGVBQWU7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixFQUFFLEdBQUcsSUFBSSxLQUFLLHlDQUF5QyxpQkFBaUIsRUFBRSxFQUFFLElBQUksTUFBTSxjQUFjO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvQ0FBb0M7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkJBQTZCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnRUFBZ0U7QUFDakY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixZQUFZO0FBQ1oscUJBQXFCO0FBQ3JCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQThDO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxlQUFlO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEVBQUUsR0FBRyxJQUFJLEtBQUssd0VBQXdFLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxNQUFNLGNBQWM7QUFDbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGVBQWUsZUFBZTtBQUNuQztBQUNBO0FBQ0EscUJBQXFCLE9BQU8sSUFBSSw2QkFBNkIsWUFBWSxNQUFNO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxrQkFBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsb0JBQW9CO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwyQkFBMkI7QUFDNUUsK0NBQStDLFFBQVEsS0FBSywyQkFBMkI7QUFDdkYsVUFBVTtBQUNWLGtGQUFrRixNQUFNO0FBQ3hGO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLDZDQUE2QyxrQkFBa0I7QUFDL0Qsd0NBQXdDLEtBQUssR0FBRyxRQUFRLEtBQUssa0JBQWtCO0FBQy9FO0FBQ0EsVUFBVTtBQUNWLGtGQUFrRixNQUFNO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ2tDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0Q0FBTTtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNENBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxvQkFBb0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsSUFBSTtBQUNsQztBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLElBQUk7QUFDbEM7QUFDQSwrREFBK0QsS0FBSyxnQkFBZ0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBT0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy90aWFuemloYW8vQ29kZUJ1ZGR5L1Byb3RvZm9saW8vbm9kZV9tb2R1bGVzLy5wbnBtL0B1cHN0YXNoK3JlZGlzQDEuMzYuMi9ub2RlX21vZHVsZXMvQHVwc3Rhc2gvcmVkaXMvY2h1bmstUTNTV1g0QkIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG5cbi8vIHBrZy9lcnJvci50c1xudmFyIGVycm9yX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGVycm9yX2V4cG9ydHMsIHtcbiAgVXBzdGFzaEVycm9yOiAoKSA9PiBVcHN0YXNoRXJyb3IsXG4gIFVwc3Rhc2hKU09OUGFyc2VFcnJvcjogKCkgPT4gVXBzdGFzaEpTT05QYXJzZUVycm9yLFxuICBVcmxFcnJvcjogKCkgPT4gVXJsRXJyb3Jcbn0pO1xudmFyIFVwc3Rhc2hFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgdGhpcy5uYW1lID0gXCJVcHN0YXNoRXJyb3JcIjtcbiAgfVxufTtcbnZhciBVcmxFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICBzdXBlcihcbiAgICAgIGBVcHN0YXNoIFJlZGlzIGNsaWVudCB3YXMgcGFzc2VkIGFuIGludmFsaWQgVVJMLiBZb3Ugc2hvdWxkIHBhc3MgYSBVUkwgc3RhcnRpbmcgd2l0aCBodHRwcy4gUmVjZWl2ZWQ6IFwiJHt1cmx9XCIuIGBcbiAgICApO1xuICAgIHRoaXMubmFtZSA9IFwiVXJsRXJyb3JcIjtcbiAgfVxufTtcbnZhciBVcHN0YXNoSlNPTlBhcnNlRXJyb3IgPSBjbGFzcyBleHRlbmRzIFVwc3Rhc2hFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGJvZHksIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0cnVuY2F0ZWRCb2R5ID0gYm9keS5sZW5ndGggPiAyMDAgPyBib2R5LnNsaWNlKDAsIDIwMCkgKyBcIi4uLlwiIDogYm9keTtcbiAgICBzdXBlcihgVW5hYmxlIHRvIHBhcnNlIHJlc3BvbnNlIGJvZHk6ICR7dHJ1bmNhdGVkQm9keX1gLCBvcHRpb25zKTtcbiAgICB0aGlzLm5hbWUgPSBcIlVwc3Rhc2hKU09OUGFyc2VFcnJvclwiO1xuICB9XG59O1xuXG4vLyBwa2cvdXRpbC50c1xuZnVuY3Rpb24gcGFyc2VSZWN1cnNpdmUob2JqKSB7XG4gIGNvbnN0IHBhcnNlZCA9IEFycmF5LmlzQXJyYXkob2JqKSA/IG9iai5tYXAoKG8pID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHBhcnNlUmVjdXJzaXZlKG8pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG87XG4gICAgfVxuICB9KSA6IEpTT04ucGFyc2Uob2JqKTtcbiAgaWYgKHR5cGVvZiBwYXJzZWQgPT09IFwibnVtYmVyXCIgJiYgcGFyc2VkLnRvU3RyaW5nKCkgIT09IG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzdWx0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHBhcnNlUmVjdXJzaXZlKHJlc3VsdCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplU2NhblJlc3BvbnNlKHJlc3VsdCkge1xuICByZXR1cm4gW3Jlc3VsdFswXSwgLi4ucGFyc2VSZXNwb25zZShyZXN1bHQuc2xpY2UoMSkpXTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplU2NhbldpdGhUeXBlc1Jlc3BvbnNlKHJlc3VsdCkge1xuICBjb25zdCBbY3Vyc29yLCBrZXlzXSA9IHJlc3VsdDtcbiAgY29uc3QgcGFyc2VkS2V5cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBwYXJzZWRLZXlzLnB1c2goeyBrZXk6IGtleXNbaV0sIHR5cGU6IGtleXNbaSArIDFdIH0pO1xuICB9XG4gIHJldHVybiBbY3Vyc29yLCBwYXJzZWRLZXlzXTtcbn1cbmZ1bmN0aW9uIG1lcmdlSGVhZGVycyguLi5oZWFkZXJzKSB7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuICBmb3IgKGNvbnN0IGhlYWRlciBvZiBoZWFkZXJzKSB7XG4gICAgaWYgKCFoZWFkZXIpIGNvbnRpbnVlO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcikpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG1lcmdlZFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5mdW5jdGlvbiBrdkFycmF5VG9PYmplY3Qodikge1xuICBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIHY7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIHt9O1xuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgaWYgKHR5cGVvZiB2W2ldID09PSBcInN0cmluZ1wiKSBvYmpbdltpXV0gPSB2W2kgKyAxXTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vLyBwa2cvaHR0cC50c1xudmFyIE1BWF9CVUZGRVJfU0laRSA9IDEwMjQgKiAxMDI0O1xudmFyIEh0dHBDbGllbnQgPSBjbGFzcyB7XG4gIGJhc2VVcmw7XG4gIGhlYWRlcnM7XG4gIG9wdGlvbnM7XG4gIHJlYWRZb3VyV3JpdGVzO1xuICB1cHN0YXNoU3luY1Rva2VuID0gXCJcIjtcbiAgaGFzQ3JlZGVudGlhbHM7XG4gIHJldHJ5O1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBiYWNrZW5kOiBjb25maWcub3B0aW9ucz8uYmFja2VuZCxcbiAgICAgIGFnZW50OiBjb25maWcuYWdlbnQsXG4gICAgICByZXNwb25zZUVuY29kaW5nOiBjb25maWcucmVzcG9uc2VFbmNvZGluZyA/PyBcImJhc2U2NFwiLFxuICAgICAgLy8gZGVmYXVsdCB0byBiYXNlNjRcbiAgICAgIGNhY2hlOiBjb25maWcuY2FjaGUsXG4gICAgICBzaWduYWw6IGNvbmZpZy5zaWduYWwsXG4gICAgICBrZWVwQWxpdmU6IGNvbmZpZy5rZWVwQWxpdmUgPz8gdHJ1ZVxuICAgIH07XG4gICAgdGhpcy51cHN0YXNoU3luY1Rva2VuID0gXCJcIjtcbiAgICB0aGlzLnJlYWRZb3VyV3JpdGVzID0gY29uZmlnLnJlYWRZb3VyV3JpdGVzID8/IHRydWU7XG4gICAgdGhpcy5iYXNlVXJsID0gKGNvbmZpZy5iYXNlVXJsIHx8IFwiXCIpLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbiAgICBjb25zdCB1cmxSZWdleCA9IC9eaHR0cHM/OlxcL1xcL1teXFxzIyQuLz9dLlxcUyokLztcbiAgICBpZiAodGhpcy5iYXNlVXJsICYmICF1cmxSZWdleC50ZXN0KHRoaXMuYmFzZVVybCkpIHtcbiAgICAgIHRocm93IG5ldyBVcmxFcnJvcih0aGlzLmJhc2VVcmwpO1xuICAgIH1cbiAgICB0aGlzLmhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmNvbmZpZy5oZWFkZXJzXG4gICAgfTtcbiAgICB0aGlzLmhhc0NyZWRlbnRpYWxzID0gQm9vbGVhbih0aGlzLmJhc2VVcmwgJiYgdGhpcy5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCIgXCIpWzFdKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNlRW5jb2RpbmcgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgIHRoaXMuaGVhZGVyc1tcIlVwc3Rhc2gtRW5jb2RpbmdcIl0gPSBcImJhc2U2NFwiO1xuICAgIH1cbiAgICB0aGlzLnJldHJ5ID0gdHlwZW9mIGNvbmZpZy5yZXRyeSA9PT0gXCJib29sZWFuXCIgJiYgIWNvbmZpZy5yZXRyeSA/IHtcbiAgICAgIGF0dGVtcHRzOiAxLFxuICAgICAgYmFja29mZjogKCkgPT4gMFxuICAgIH0gOiB7XG4gICAgICBhdHRlbXB0czogY29uZmlnLnJldHJ5Py5yZXRyaWVzID8/IDUsXG4gICAgICBiYWNrb2ZmOiBjb25maWcucmV0cnk/LmJhY2tvZmYgPz8gKChyZXRyeUNvdW50KSA9PiBNYXRoLmV4cChyZXRyeUNvdW50KSAqIDUwKVxuICAgIH07XG4gIH1cbiAgbWVyZ2VUZWxlbWV0cnkodGVsZW1ldHJ5KSB7XG4gICAgdGhpcy5oZWFkZXJzID0gbWVyZ2UodGhpcy5oZWFkZXJzLCBcIlVwc3Rhc2gtVGVsZW1ldHJ5LVJ1bnRpbWVcIiwgdGVsZW1ldHJ5LnJ1bnRpbWUpO1xuICAgIHRoaXMuaGVhZGVycyA9IG1lcmdlKHRoaXMuaGVhZGVycywgXCJVcHN0YXNoLVRlbGVtZXRyeS1QbGF0Zm9ybVwiLCB0ZWxlbWV0cnkucGxhdGZvcm0pO1xuICAgIHRoaXMuaGVhZGVycyA9IG1lcmdlKHRoaXMuaGVhZGVycywgXCJVcHN0YXNoLVRlbGVtZXRyeS1TZGtcIiwgdGVsZW1ldHJ5LnNkayk7XG4gIH1cbiAgYXN5bmMgcmVxdWVzdChyZXEpIHtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IG1lcmdlSGVhZGVycyh0aGlzLmhlYWRlcnMsIHJlcS5oZWFkZXJzID8/IHt9KTtcbiAgICBjb25zdCByZXF1ZXN0VXJsID0gW3RoaXMuYmFzZVVybCwgLi4ucmVxLnBhdGggPz8gW11dLmpvaW4oXCIvXCIpO1xuICAgIGNvbnN0IGlzRXZlbnRTdHJlYW0gPSByZXF1ZXN0SGVhZGVycy5BY2NlcHQgPT09IFwidGV4dC9ldmVudC1zdHJlYW1cIjtcbiAgICBjb25zdCBzaWduYWwgPSByZXEuc2lnbmFsID8/IHRoaXMub3B0aW9ucy5zaWduYWw7XG4gICAgY29uc3QgaXNTaWduYWxGdW5jdGlvbiA9IHR5cGVvZiBzaWduYWwgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciB0aGlzIHNob3VsZCB0aHJvdyBkdWUgdG8gYnVuIHJlZ3Jlc3Npb25cbiAgICAgIGNhY2hlOiB0aGlzLm9wdGlvbnMuY2FjaGUsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEuYm9keSksXG4gICAgICBrZWVwYWxpdmU6IHRoaXMub3B0aW9ucy5rZWVwQWxpdmUsXG4gICAgICBhZ2VudDogdGhpcy5vcHRpb25zLmFnZW50LFxuICAgICAgc2lnbmFsOiBpc1NpZ25hbEZ1bmN0aW9uID8gc2lnbmFsKCkgOiBzaWduYWwsXG4gICAgICAvKipcbiAgICAgICAqIEZhc3RseSBzcGVjaWZpY1xuICAgICAgICovXG4gICAgICBiYWNrZW5kOiB0aGlzLm9wdGlvbnMuYmFja2VuZFxuICAgIH07XG4gICAgaWYgKCF0aGlzLmhhc0NyZWRlbnRpYWxzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW1Vwc3Rhc2ggUmVkaXNdIFJlZGlzIGNsaWVudCB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCB1cmwgb3IgdG9rZW4uIEZhaWxlZCB0byBleGVjdXRlIGNvbW1hbmQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlYWRZb3VyV3JpdGVzKSB7XG4gICAgICBjb25zdCBuZXdIZWFkZXIgPSB0aGlzLnVwc3Rhc2hTeW5jVG9rZW47XG4gICAgICB0aGlzLmhlYWRlcnNbXCJ1cHN0YXNoLXN5bmMtdG9rZW5cIl0gPSBuZXdIZWFkZXI7XG4gICAgfVxuICAgIGxldCByZXMgPSBudWxsO1xuICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5yZXRyeS5hdHRlbXB0czsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBhd2FpdCBmZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBjYXRjaCAoZXJyb3JfKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0T3B0aW9ucy5zaWduYWw/LmFib3J0ZWQgJiYgaXNTaWduYWxGdW5jdGlvbikge1xuICAgICAgICAgIHRocm93IGVycm9yXztcbiAgICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0T3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICBjb25zdCBteUJsb2IgPSBuZXcgQmxvYihbXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHJlc3VsdDogcmVxdWVzdE9wdGlvbnMuc2lnbmFsLnJlYXNvbiA/PyBcIkFib3J0ZWRcIiB9KVxuICAgICAgICAgIF0pO1xuICAgICAgICAgIGNvbnN0IG15T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdE9wdGlvbnMuc2lnbmFsLnJlYXNvbiA/PyBcIkFib3J0ZWRcIlxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzID0gbmV3IFJlc3BvbnNlKG15QmxvYiwgbXlPcHRpb25zKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlcnJvciA9IGVycm9yXztcbiAgICAgICAgaWYgKGkgPCB0aGlzLnJldHJ5LmF0dGVtcHRzKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgdGhpcy5yZXRyeS5iYWNrb2ZmKGkpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXMpIHtcbiAgICAgIHRocm93IGVycm9yID8/IG5ldyBFcnJvcihcIkV4aGF1c3RlZCBhbGwgcmV0cmllc1wiKTtcbiAgICB9XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIGxldCBib2R5MjtcbiAgICAgIGNvbnN0IHJhd0JvZHkyID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkyID0gSlNPTi5wYXJzZShyYXdCb2R5Mik7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVwc3Rhc2hKU09OUGFyc2VFcnJvcihyYXdCb2R5MiwgeyBjYXVzZTogZXJyb3IyIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFVwc3Rhc2hFcnJvcihgJHtib2R5Mi5lcnJvcn0sIGNvbW1hbmQgd2FzOiAke0pTT04uc3RyaW5naWZ5KHJlcS5ib2R5KX1gKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVhZFlvdXJXcml0ZXMpIHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSByZXMuaGVhZGVycztcbiAgICAgIHRoaXMudXBzdGFzaFN5bmNUb2tlbiA9IGhlYWRlcnMuZ2V0KFwidXBzdGFzaC1zeW5jLXRva2VuXCIpID8/IFwiXCI7XG4gICAgfVxuICAgIGlmIChpc0V2ZW50U3RyZWFtICYmIHJlcSAmJiByZXEub25NZXNzYWdlICYmIHJlcy5ib2R5KSB7XG4gICAgICBjb25zdCByZWFkZXIgPSByZXMuYm9keS5nZXRSZWFkZXIoKTtcbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICAgICAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSBidWZmZXIuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICBidWZmZXIgPSBsaW5lcy5wb3AoKSB8fCBcIlwiO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiBNQVhfQlVGRkVSX1NJWkUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyIHNpemUgZXhjZWVkZWQgKDFNQilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aChcImRhdGE6IFwiKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBsaW5lLnNsaWNlKDYpO1xuICAgICAgICAgICAgICAgIHJlcS5vbk1lc3NhZ2U/LihkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgICAgaWYgKGVycm9yMiBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yMi5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU3RyZWFtIHJlYWRpbmcgZXJyb3I6XCIsIGVycm9yMik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgICAgcmV0dXJuIHsgcmVzdWx0OiAxIH07XG4gICAgfVxuICAgIGxldCBib2R5O1xuICAgIGNvbnN0IHJhd0JvZHkgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgIHRyeSB7XG4gICAgICBib2R5ID0gSlNPTi5wYXJzZShyYXdCb2R5KTtcbiAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgIHRocm93IG5ldyBVcHN0YXNoSlNPTlBhcnNlRXJyb3IocmF3Qm9keSwgeyBjYXVzZTogZXJyb3IyIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWFkWW91cldyaXRlcykge1xuICAgICAgY29uc3QgaGVhZGVycyA9IHJlcy5oZWFkZXJzO1xuICAgICAgdGhpcy51cHN0YXNoU3luY1Rva2VuID0gaGVhZGVycy5nZXQoXCJ1cHN0YXNoLXN5bmMtdG9rZW5cIikgPz8gXCJcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXNwb25zZUVuY29kaW5nID09PSBcImJhc2U2NFwiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShib2R5KSkge1xuICAgICAgICByZXR1cm4gYm9keS5tYXAoKHsgcmVzdWx0OiByZXN1bHQyLCBlcnJvcjogZXJyb3IyIH0pID0+ICh7XG4gICAgICAgICAgcmVzdWx0OiBkZWNvZGUocmVzdWx0MiksXG4gICAgICAgICAgZXJyb3I6IGVycm9yMlxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBkZWNvZGUoYm9keS5yZXN1bHQpO1xuICAgICAgcmV0dXJuIHsgcmVzdWx0LCBlcnJvcjogYm9keS5lcnJvciB9O1xuICAgIH1cbiAgICByZXR1cm4gYm9keTtcbiAgfVxufTtcbmZ1bmN0aW9uIGJhc2U2NGRlY29kZShiNjQpIHtcbiAgbGV0IGRlYyA9IFwiXCI7XG4gIHRyeSB7XG4gICAgY29uc3QgYmluU3RyaW5nID0gYXRvYihiNjQpO1xuICAgIGNvbnN0IHNpemUgPSBiaW5TdHJpbmcubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIGJ5dGVzW2ldID0gYmluU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIGRlYyA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShieXRlcyk7XG4gIH0gY2F0Y2gge1xuICAgIGRlYyA9IGI2NDtcbiAgfVxuICByZXR1cm4gZGVjO1xufVxuZnVuY3Rpb24gZGVjb2RlKHJhdykge1xuICBsZXQgcmVzdWx0ID0gdm9pZCAwO1xuICBzd2l0Y2ggKHR5cGVvZiByYXcpIHtcbiAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHtcbiAgICAgIHJldHVybiByYXc7XG4gICAgfVxuICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgcmVzdWx0ID0gcmF3O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJvYmplY3RcIjoge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmF3KSkge1xuICAgICAgICByZXN1bHQgPSByYXcubWFwKFxuICAgICAgICAgICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IGJhc2U2NGRlY29kZSh2KSA6IEFycmF5LmlzQXJyYXkodikgPyB2Lm1hcCgoZWxlbWVudCkgPT4gZGVjb2RlKGVsZW1lbnQpKSA6IHZcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICByZXN1bHQgPSByYXcgPT09IFwiT0tcIiA/IFwiT0tcIiA6IGJhc2U2NGRlY29kZShyYXcpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWVyZ2Uob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIG9ialtrZXldID0gb2JqW2tleV0gPyBbb2JqW2tleV0sIHZhbHVlXS5qb2luKFwiLFwiKSA6IHZhbHVlO1xuICByZXR1cm4gb2JqO1xufVxuXG4vLyBwa2cvY29tbWFuZHMvY29tbWFuZC50c1xudmFyIGRlZmF1bHRTZXJpYWxpemVyID0gKGMpID0+IHtcbiAgc3dpdGNoICh0eXBlb2YgYykge1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjKTtcbiAgICB9XG4gIH1cbn07XG52YXIgQ29tbWFuZCA9IGNsYXNzIHtcbiAgY29tbWFuZDtcbiAgc2VyaWFsaXplO1xuICBkZXNlcmlhbGl6ZTtcbiAgaGVhZGVycztcbiAgcGF0aDtcbiAgb25NZXNzYWdlO1xuICBpc1N0cmVhbWluZztcbiAgc2lnbmFsO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvbW1hbmQgaW5zdGFuY2UuXG4gICAqXG4gICAqIFlvdSBjYW4gZGVmaW5lIGEgY3VzdG9tIGBkZXNlcmlhbGl6ZWAgZnVuY3Rpb24uIEJ5IGRlZmF1bHQgd2UgdHJ5IHRvIGRlc2VyaWFsaXplIGFzIGpzb24uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb21tYW5kLCBvcHRzKSB7XG4gICAgdGhpcy5zZXJpYWxpemUgPSBkZWZhdWx0U2VyaWFsaXplcjtcbiAgICB0aGlzLmRlc2VyaWFsaXplID0gb3B0cz8uYXV0b21hdGljRGVzZXJpYWxpemF0aW9uID09PSB2b2lkIDAgfHwgb3B0cy5hdXRvbWF0aWNEZXNlcmlhbGl6YXRpb24gPyBvcHRzPy5kZXNlcmlhbGl6ZSA/PyBwYXJzZVJlc3BvbnNlIDogKHgpID0+IHg7XG4gICAgdGhpcy5jb21tYW5kID0gY29tbWFuZC5tYXAoKGMpID0+IHRoaXMuc2VyaWFsaXplKGMpKTtcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRzPy5oZWFkZXJzO1xuICAgIHRoaXMucGF0aCA9IG9wdHM/LnBhdGg7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBvcHRzPy5zdHJlYW1PcHRpb25zPy5vbk1lc3NhZ2U7XG4gICAgdGhpcy5pc1N0cmVhbWluZyA9IG9wdHM/LnN0cmVhbU9wdGlvbnM/LmlzU3RyZWFtaW5nID8/IGZhbHNlO1xuICAgIHRoaXMuc2lnbmFsID0gb3B0cz8uc3RyZWFtT3B0aW9ucz8uc2lnbmFsO1xuICAgIGlmIChvcHRzPy5sYXRlbmN5TG9nZ2luZykge1xuICAgICAgY29uc3Qgb3JpZ2luYWxFeGVjID0gdGhpcy5leGVjLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmV4ZWMgPSBhc3luYyAoY2xpZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9yaWdpbmFsRXhlYyhjbGllbnQpO1xuICAgICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgbG9nZ2VyUmVzdWx0ID0gKGVuZCAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgTGF0ZW5jeSBmb3IgXFx4MUJbMzg7MjsxOTsxODU7MzltJHt0aGlzLmNvbW1hbmRbMF0udG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpfVxceDFCWzBtOiBcXHgxQlszODsyOzA7MjU1OzI1NW0ke2xvZ2dlclJlc3VsdH0gbXNcXHgxQlswbWBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBjb21tYW5kIHVzaW5nIGEgY2xpZW50LlxuICAgKi9cbiAgYXN5bmMgZXhlYyhjbGllbnQpIHtcbiAgICBjb25zdCB7IHJlc3VsdCwgZXJyb3IgfSA9IGF3YWl0IGNsaWVudC5yZXF1ZXN0KHtcbiAgICAgIGJvZHk6IHRoaXMuY29tbWFuZCxcbiAgICAgIHBhdGg6IHRoaXMucGF0aCxcbiAgICAgIHVwc3Rhc2hTeW5jVG9rZW46IGNsaWVudC51cHN0YXNoU3luY1Rva2VuLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgb25NZXNzYWdlOiB0aGlzLm9uTWVzc2FnZSxcbiAgICAgIGlzU3RyZWFtaW5nOiB0aGlzLmlzU3RyZWFtaW5nLFxuICAgICAgc2lnbmFsOiB0aGlzLnNpZ25hbFxuICAgIH0pO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IFVwc3Rhc2hFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlcXVlc3QgZGlkIG5vdCByZXR1cm4gYSByZXN1bHRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ocmFuZGZpZWxkLnRzXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZShyZXN1bHQpIHtcbiAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBrZXkgPSByZXN1bHRbaV07XG4gICAgY29uc3QgdmFsdWUgPSByZXN1bHRbaSArIDFdO1xuICAgIHRyeSB7XG4gICAgICBvYmpba2V5XSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cbnZhciBIUmFuZEZpZWxkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJocmFuZGZpZWxkXCIsIGNtZFswXV07XG4gICAgaWYgKHR5cGVvZiBjbWRbMV0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjbWRbMV0pO1xuICAgIH1cbiAgICBpZiAoY21kWzJdKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJXSVRIVkFMVUVTXCIpO1xuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRvIHNpbGVuY2UgY29tcGlsZXJcbiAgICAgIGRlc2VyaWFsaXplOiBjbWRbMl0gPyAocmVzdWx0KSA9PiBkZXNlcmlhbGl6ZShyZXN1bHQpIDogb3B0cz8uZGVzZXJpYWxpemUsXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9hcHBlbmQudHNcbnZhciBBcHBlbmRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiYXBwZW5kXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvYml0Y291bnQudHNcbnZhciBCaXRDb3VudENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBzdGFydCwgZW5kXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJiaXRjb3VudFwiLCBrZXldO1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChzdGFydCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5kID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goZW5kKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9iaXRmaWVsZC50c1xudmFyIEJpdEZpZWxkQ29tbWFuZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoYXJncywgY2xpZW50LCBvcHRzLCBleGVjT3BlcmF0aW9uID0gKGNvbW1hbmQpID0+IGNvbW1hbmQuZXhlYyh0aGlzLmNsaWVudCkpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgIHRoaXMuZXhlY09wZXJhdGlvbiA9IGV4ZWNPcGVyYXRpb247XG4gICAgdGhpcy5jb21tYW5kID0gW1wiYml0ZmllbGRcIiwgLi4uYXJnc107XG4gIH1cbiAgY29tbWFuZDtcbiAgY2hhaW4oLi4uYXJncykge1xuICAgIHRoaXMuY29tbWFuZC5wdXNoKC4uLmFyZ3MpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGdldCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhaW4oXCJnZXRcIiwgLi4uYXJncyk7XG4gIH1cbiAgc2V0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFpbihcInNldFwiLCAuLi5hcmdzKTtcbiAgfVxuICBpbmNyYnkoLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmNoYWluKFwiaW5jcmJ5XCIsIC4uLmFyZ3MpO1xuICB9XG4gIG92ZXJmbG93KG92ZXJmbG93KSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhaW4oXCJvdmVyZmxvd1wiLCBvdmVyZmxvdyk7XG4gIH1cbiAgZXhlYygpIHtcbiAgICBjb25zdCBjb21tYW5kID0gbmV3IENvbW1hbmQodGhpcy5jb21tYW5kLCB0aGlzLm9wdHMpO1xuICAgIHJldHVybiB0aGlzLmV4ZWNPcGVyYXRpb24oY29tbWFuZCk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9iaXRvcC50c1xudmFyIEJpdE9wQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImJpdG9wXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvYml0cG9zLnRzXG52YXIgQml0UG9zQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImJpdHBvc1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2NsaWVudF9zZXRpbmZvLnRzXG52YXIgQ2xpZW50U2V0SW5mb0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbYXR0cmlidXRlLCB2YWx1ZV0sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJDTElFTlRcIiwgXCJTRVRJTkZPXCIsIGF0dHJpYnV0ZS50b1VwcGVyQ2FzZSgpLCB2YWx1ZV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvY29weS50c1xudmFyIENvcHlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgZGVzdGluYXRpb25LZXksIG9wdHNdLCBjb21tYW5kT3B0aW9ucykge1xuICAgIHN1cGVyKFtcIkNPUFlcIiwga2V5LCBkZXN0aW5hdGlvbktleSwgLi4ub3B0cz8ucmVwbGFjZSA/IFtcIlJFUExBQ0VcIl0gOiBbXV0sIHtcbiAgICAgIC4uLmNvbW1hbmRPcHRpb25zLFxuICAgICAgZGVzZXJpYWxpemUocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIFwiQ09QSUVEXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiTk9UX0NPUElFRFwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZGJzaXplLnRzXG52YXIgREJTaXplQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihbXCJkYnNpemVcIl0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZGVjci50c1xudmFyIERlY3JDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZGVjclwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2RlY3JieS50c1xudmFyIERlY3JCeUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJkZWNyYnlcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9kZWwudHNcbnZhciBEZWxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZGVsXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZWNoby50c1xudmFyIEVjaG9Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZWNob1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2V2YWxSby50c1xudmFyIEV2YWxST0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihbc2NyaXB0LCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImV2YWxfcm9cIiwgc2NyaXB0LCBrZXlzLmxlbmd0aCwgLi4ua2V5cywgLi4uYXJncyA/PyBbXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZXZhbC50c1xudmFyIEV2YWxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW3NjcmlwdCwga2V5cywgYXJnc10sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJldmFsXCIsIHNjcmlwdCwga2V5cy5sZW5ndGgsIC4uLmtleXMsIC4uLmFyZ3MgPz8gW11dLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2V2YWxzaGFSby50c1xudmFyIEV2YWxzaGFST0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihbc2hhLCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImV2YWxzaGFfcm9cIiwgc2hhLCBrZXlzLmxlbmd0aCwgLi4ua2V5cywgLi4uYXJncyA/PyBbXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZXZhbHNoYS50c1xudmFyIEV2YWxzaGFDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW3NoYSwga2V5cywgYXJnc10sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJldmFsc2hhXCIsIHNoYSwga2V5cy5sZW5ndGgsIC4uLmtleXMsIC4uLmFyZ3MgPz8gW11dLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2V4ZWMudHNcbnZhciBFeGVjQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRDbWQgPSBjbWQubWFwKChhcmcpID0+IHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgPyBhcmcgOiBTdHJpbmcoYXJnKSk7XG4gICAgc3VwZXIobm9ybWFsaXplZENtZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9leGlzdHMudHNcbnZhciBFeGlzdHNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZXhpc3RzXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZXhwaXJlLnRzXG52YXIgRXhwaXJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImV4cGlyZVwiLCAuLi5jbWQuZmlsdGVyKEJvb2xlYW4pXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9leHBpcmVhdC50c1xudmFyIEV4cGlyZUF0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImV4cGlyZWF0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZmNhbGwudHNcbnZhciBGQ2FsbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbZnVuY3Rpb25OYW1lLCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImZjYWxsXCIsIGZ1bmN0aW9uTmFtZSwgLi4ua2V5cyA/IFtrZXlzLmxlbmd0aCwgLi4ua2V5c10gOiBbMF0sIC4uLmFyZ3MgPz8gW11dLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2ZjYWxsX3JvLnRzXG52YXIgRkNhbGxSb0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbZnVuY3Rpb25OYW1lLCBrZXlzLCBhcmdzXSwgb3B0cykge1xuICAgIHN1cGVyKFxuICAgICAgW1wiZmNhbGxfcm9cIiwgZnVuY3Rpb25OYW1lLCAuLi5rZXlzID8gW2tleXMubGVuZ3RoLCAuLi5rZXlzXSA6IFswXSwgLi4uYXJncyA/PyBbXV0sXG4gICAgICBvcHRzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2ZsdXNoYWxsLnRzXG52YXIgRmx1c2hBbGxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoYXJncywgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJmbHVzaGFsbFwiXTtcbiAgICBpZiAoYXJncyAmJiBhcmdzLmxlbmd0aCA+IDAgJiYgYXJnc1swXS5hc3luYykge1xuICAgICAgY29tbWFuZC5wdXNoKFwiYXN5bmNcIik7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZmx1c2hkYi50c1xudmFyIEZsdXNoREJDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW29wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcImZsdXNoZGJcIl07XG4gICAgaWYgKG9wdHM/LmFzeW5jKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJhc3luY1wiKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9mdW5jdGlvbl9kZWxldGUudHNcbnZhciBGdW5jdGlvbkRlbGV0ZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbbGlicmFyeU5hbWVdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZnVuY3Rpb25cIiwgXCJkZWxldGVcIiwgbGlicmFyeU5hbWVdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2Z1bmN0aW9uX2ZsdXNoLnRzXG52YXIgRnVuY3Rpb25GbHVzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIoW1wiZnVuY3Rpb25cIiwgXCJmbHVzaFwiXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9mdW5jdGlvbl9saXN0LnRzXG52YXIgRnVuY3Rpb25MaXN0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFthcmdzXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJmdW5jdGlvblwiLCBcImxpc3RcIl07XG4gICAgaWYgKGFyZ3M/LmxpYnJhcnlOYW1lKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJsaWJyYXJ5bmFtZVwiLCBhcmdzLmxpYnJhcnlOYW1lKTtcbiAgICB9XG4gICAgaWYgKGFyZ3M/LndpdGhDb2RlKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJ3aXRoY29kZVwiKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgeyBkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUyLCAuLi5vcHRzIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gZGVzZXJpYWxpemUyKHJlc3VsdCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkgcmV0dXJuIFtdO1xuICByZXR1cm4gcmVzdWx0Lm1hcCgobGliUmF3KSA9PiB7XG4gICAgY29uc3QgbGliID0ga3ZBcnJheVRvT2JqZWN0KGxpYlJhdyk7XG4gICAgY29uc3QgZnVuY3Rpb25zUGFyc2VkID0gbGliLmZ1bmN0aW9ucy5tYXAoXG4gICAgICAoZm5SYXcpID0+IGt2QXJyYXlUb09iamVjdChmblJhdylcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICBsaWJyYXJ5TmFtZTogbGliLmxpYnJhcnlfbmFtZSxcbiAgICAgIGVuZ2luZTogbGliLmVuZ2luZSxcbiAgICAgIGZ1bmN0aW9uczogZnVuY3Rpb25zUGFyc2VkLm1hcCgoZm4pID0+ICh7XG4gICAgICAgIG5hbWU6IGZuLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBmbi5kZXNjcmlwdGlvbiA/PyB2b2lkIDAsXG4gICAgICAgIGZsYWdzOiBmbi5mbGFnc1xuICAgICAgfSkpLFxuICAgICAgbGlicmFyeUNvZGU6IGxpYi5saWJyYXJ5X2NvZGVcbiAgICB9O1xuICB9KTtcbn1cblxuLy8gcGtnL2NvbW1hbmRzL2Z1bmN0aW9uX2xvYWQudHNcbnZhciBGdW5jdGlvbkxvYWRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2FyZ3NdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZnVuY3Rpb25cIiwgXCJsb2FkXCIsIC4uLmFyZ3MucmVwbGFjZSA/IFtcInJlcGxhY2VcIl0gOiBbXSwgYXJncy5jb2RlXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9mdW5jdGlvbl9zdGF0cy50c1xudmFyIEZ1bmN0aW9uU3RhdHNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKFtcImZ1bmN0aW9uXCIsIFwic3RhdHNcIl0sIHsgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplMywgLi4ub3B0cyB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplMyhyZXN1bHQpIHtcbiAgY29uc3QgcmF3RW5naW5lcyA9IGt2QXJyYXlUb09iamVjdChrdkFycmF5VG9PYmplY3QocmVzdWx0KS5lbmdpbmVzKTtcbiAgY29uc3QgcGFyc2VkRW5naW5lcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhyYXdFbmdpbmVzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleSwga3ZBcnJheVRvT2JqZWN0KHZhbHVlKV0pXG4gICk7XG4gIGNvbnN0IGZpbmFsID0ge1xuICAgIGVuZ2luZXM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKHBhcnNlZEVuZ2luZXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbXG4gICAgICAgIGtleSxcbiAgICAgICAge1xuICAgICAgICAgIGxpYnJhcmllc0NvdW50OiB2YWx1ZS5saWJyYXJpZXNfY291bnQsXG4gICAgICAgICAgZnVuY3Rpb25zQ291bnQ6IHZhbHVlLmZ1bmN0aW9uc19jb3VudFxuICAgICAgICB9XG4gICAgICBdKVxuICAgIClcbiAgfTtcbiAgcmV0dXJuIGZpbmFsO1xufVxuXG4vLyBwa2cvY29tbWFuZHMvZ2VvX2FkZC50c1xudmFyIEdlb0FkZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBhcmcxLCAuLi5hcmcyXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJnZW9hZGRcIiwga2V5XTtcbiAgICBpZiAoXCJueFwiIGluIGFyZzEgJiYgYXJnMS5ueCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibnhcIik7XG4gICAgfSBlbHNlIGlmIChcInh4XCIgaW4gYXJnMSAmJiBhcmcxLnh4KSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJ4eFwiKTtcbiAgICB9XG4gICAgaWYgKFwiY2hcIiBpbiBhcmcxICYmIGFyZzEuY2gpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImNoXCIpO1xuICAgIH1cbiAgICBpZiAoXCJsYXRpdHVkZVwiIGluIGFyZzEgJiYgYXJnMS5sYXRpdHVkZSkge1xuICAgICAgY29tbWFuZC5wdXNoKGFyZzEubG9uZ2l0dWRlLCBhcmcxLmxhdGl0dWRlLCBhcmcxLm1lbWJlcik7XG4gICAgfVxuICAgIGNvbW1hbmQucHVzaChcbiAgICAgIC4uLmFyZzIuZmxhdE1hcCgoeyBsYXRpdHVkZSwgbG9uZ2l0dWRlLCBtZW1iZXIgfSkgPT4gW2xvbmdpdHVkZSwgbGF0aXR1ZGUsIG1lbWJlcl0pXG4gICAgKTtcbiAgICBzdXBlcihjb21tYW5kLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dlb19kaXN0LnRzXG52YXIgR2VvRGlzdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBtZW1iZXIxLCBtZW1iZXIyLCB1bml0ID0gXCJNXCJdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiR0VPRElTVFwiLCBrZXksIG1lbWJlcjEsIG1lbWJlcjIsIHVuaXRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dlb19oYXNoLnRzXG52YXIgR2VvSGFzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBba2V5XSA9IGNtZDtcbiAgICBjb25zdCBtZW1iZXJzID0gQXJyYXkuaXNBcnJheShjbWRbMV0pID8gY21kWzFdIDogY21kLnNsaWNlKDEpO1xuICAgIHN1cGVyKFtcIkdFT0hBU0hcIiwga2V5LCAuLi5tZW1iZXJzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZW9fcG9zLnRzXG52YXIgR2VvUG9zQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXldID0gY21kO1xuICAgIGNvbnN0IG1lbWJlcnMgPSBBcnJheS5pc0FycmF5KGNtZFsxXSkgPyBjbWRbMV0gOiBjbWQuc2xpY2UoMSk7XG4gICAgc3VwZXIoW1wiR0VPUE9TXCIsIGtleSwgLi4ubWVtYmVyc10sIHtcbiAgICAgIGRlc2VyaWFsaXplOiAocmVzdWx0KSA9PiB0cmFuc2Zvcm0ocmVzdWx0KSxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIHRyYW5zZm9ybShyZXN1bHQpIHtcbiAgY29uc3QgZmluYWwgPSBbXTtcbiAgZm9yIChjb25zdCBwb3Mgb2YgcmVzdWx0KSB7XG4gICAgaWYgKCFwb3M/LlswXSB8fCAhcG9zPy5bMV0pIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmaW5hbC5wdXNoKHsgbG5nOiBOdW1iZXIucGFyc2VGbG9hdChwb3NbMF0pLCBsYXQ6IE51bWJlci5wYXJzZUZsb2F0KHBvc1sxXSkgfSk7XG4gIH1cbiAgcmV0dXJuIGZpbmFsO1xufVxuXG4vLyBwa2cvY29tbWFuZHMvZ2VvX3NlYXJjaC50c1xudmFyIEdlb1NlYXJjaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBjZW50ZXJQb2ludCwgc2hhcGUsIG9yZGVyLCBvcHRzXSwgY29tbWFuZE9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiR0VPU0VBUkNIXCIsIGtleV07XG4gICAgaWYgKGNlbnRlclBvaW50LnR5cGUgPT09IFwiRlJPTU1FTUJFUlwiIHx8IGNlbnRlclBvaW50LnR5cGUgPT09IFwiZnJvbW1lbWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goY2VudGVyUG9pbnQudHlwZSwgY2VudGVyUG9pbnQubWVtYmVyKTtcbiAgICB9XG4gICAgaWYgKGNlbnRlclBvaW50LnR5cGUgPT09IFwiRlJPTUxPTkxBVFwiIHx8IGNlbnRlclBvaW50LnR5cGUgPT09IFwiZnJvbWxvbmxhdFwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goY2VudGVyUG9pbnQudHlwZSwgY2VudGVyUG9pbnQuY29vcmRpbmF0ZS5sb24sIGNlbnRlclBvaW50LmNvb3JkaW5hdGUubGF0KTtcbiAgICB9XG4gICAgaWYgKHNoYXBlLnR5cGUgPT09IFwiQllSQURJVVNcIiB8fCBzaGFwZS50eXBlID09PSBcImJ5cmFkaXVzXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChzaGFwZS50eXBlLCBzaGFwZS5yYWRpdXMsIHNoYXBlLnJhZGl1c1R5cGUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJCWUJPWFwiIHx8IHNoYXBlLnR5cGUgPT09IFwiYnlib3hcIikge1xuICAgICAgY29tbWFuZC5wdXNoKHNoYXBlLnR5cGUsIHNoYXBlLnJlY3Qud2lkdGgsIHNoYXBlLnJlY3QuaGVpZ2h0LCBzaGFwZS5yZWN0VHlwZSk7XG4gICAgfVxuICAgIGNvbW1hbmQucHVzaChvcmRlcik7XG4gICAgaWYgKG9wdHM/LmNvdW50KSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJDT1VOVFwiLCBvcHRzLmNvdW50LmxpbWl0LCAuLi5vcHRzLmNvdW50LmFueSA/IFtcIkFOWVwiXSA6IFtdKTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtMiA9IChyZXN1bHQpID0+IHtcbiAgICAgIGlmICghb3B0cz8ud2l0aENvb3JkICYmICFvcHRzPy53aXRoRGlzdCAmJiAhb3B0cz8ud2l0aEhhc2gpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKG1lbWJlcikgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZW1iZXI6IEpTT04ucGFyc2UobWVtYmVyKSB9O1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVtYmVyIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQubWFwKChtZW1iZXJzKSA9PiB7XG4gICAgICAgIGxldCBjb3VudGVyID0gMTtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb2JqLm1lbWJlciA9IEpTT04ucGFyc2UobWVtYmVyc1swXSk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIG9iai5tZW1iZXIgPSBtZW1iZXJzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLndpdGhEaXN0KSB7XG4gICAgICAgICAgb2JqLmRpc3QgPSBOdW1iZXIucGFyc2VGbG9hdChtZW1iZXJzW2NvdW50ZXIrK10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLndpdGhIYXNoKSB7XG4gICAgICAgICAgb2JqLmhhc2ggPSBtZW1iZXJzW2NvdW50ZXIrK10udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy53aXRoQ29vcmQpIHtcbiAgICAgICAgICBvYmouY29vcmQgPSB7XG4gICAgICAgICAgICBsb25nOiBOdW1iZXIucGFyc2VGbG9hdChtZW1iZXJzW2NvdW50ZXJdWzBdKSxcbiAgICAgICAgICAgIGxhdDogTnVtYmVyLnBhcnNlRmxvYXQobWVtYmVyc1tjb3VudGVyXVsxXSlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHN1cGVyKFxuICAgICAgW1xuICAgICAgICAuLi5jb21tYW5kLFxuICAgICAgICAuLi5vcHRzPy53aXRoQ29vcmQgPyBbXCJXSVRIQ09PUkRcIl0gOiBbXSxcbiAgICAgICAgLi4ub3B0cz8ud2l0aERpc3QgPyBbXCJXSVRIRElTVFwiXSA6IFtdLFxuICAgICAgICAuLi5vcHRzPy53aXRoSGFzaCA/IFtcIldJVEhIQVNIXCJdIDogW11cbiAgICAgIF0sXG4gICAgICB7XG4gICAgICAgIGRlc2VyaWFsaXplOiB0cmFuc2Zvcm0yLFxuICAgICAgICAuLi5jb21tYW5kT3B0aW9uc1xuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZW9fc2VhcmNoX3N0b3JlLnRzXG52YXIgR2VvU2VhcmNoU3RvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2Rlc3RpbmF0aW9uLCBrZXksIGNlbnRlclBvaW50LCBzaGFwZSwgb3JkZXIsIG9wdHNdLCBjb21tYW5kT3B0aW9ucykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJHRU9TRUFSQ0hTVE9SRVwiLCBkZXN0aW5hdGlvbiwga2V5XTtcbiAgICBpZiAoY2VudGVyUG9pbnQudHlwZSA9PT0gXCJGUk9NTUVNQkVSXCIgfHwgY2VudGVyUG9pbnQudHlwZSA9PT0gXCJmcm9tbWVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjZW50ZXJQb2ludC50eXBlLCBjZW50ZXJQb2ludC5tZW1iZXIpO1xuICAgIH1cbiAgICBpZiAoY2VudGVyUG9pbnQudHlwZSA9PT0gXCJGUk9NTE9OTEFUXCIgfHwgY2VudGVyUG9pbnQudHlwZSA9PT0gXCJmcm9tbG9ubGF0XCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjZW50ZXJQb2ludC50eXBlLCBjZW50ZXJQb2ludC5jb29yZGluYXRlLmxvbiwgY2VudGVyUG9pbnQuY29vcmRpbmF0ZS5sYXQpO1xuICAgIH1cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJCWVJBRElVU1wiIHx8IHNoYXBlLnR5cGUgPT09IFwiYnlyYWRpdXNcIikge1xuICAgICAgY29tbWFuZC5wdXNoKHNoYXBlLnR5cGUsIHNoYXBlLnJhZGl1cywgc2hhcGUucmFkaXVzVHlwZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZS50eXBlID09PSBcIkJZQk9YXCIgfHwgc2hhcGUudHlwZSA9PT0gXCJieWJveFwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goc2hhcGUudHlwZSwgc2hhcGUucmVjdC53aWR0aCwgc2hhcGUucmVjdC5oZWlnaHQsIHNoYXBlLnJlY3RUeXBlKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKG9yZGVyKTtcbiAgICBpZiAob3B0cz8uY291bnQpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcIkNPVU5UXCIsIG9wdHMuY291bnQubGltaXQsIC4uLm9wdHMuY291bnQuYW55ID8gW1wiQU5ZXCJdIDogW10pO1xuICAgIH1cbiAgICBzdXBlcihbLi4uY29tbWFuZCwgLi4ub3B0cz8uc3RvcmVEaXN0ID8gW1wiU1RPUkVESVNUXCJdIDogW11dLCBjb21tYW5kT3B0aW9ucyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZXQudHNcbnZhciBHZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiZ2V0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZ2V0Yml0LnRzXG52YXIgR2V0Qml0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImdldGJpdFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dldGRlbC50c1xudmFyIEdldERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJnZXRkZWxcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9nZXRleC50c1xudmFyIEdldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG9wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcImdldGV4XCIsIGtleV07XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmIChcImV4XCIgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5leCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJleFwiLCBvcHRzLmV4KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJweFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMucHggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwicHhcIiwgb3B0cy5weCk7XG4gICAgICB9IGVsc2UgaWYgKFwiZXhhdFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuZXhhdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJleGF0XCIsIG9wdHMuZXhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwicHhhdFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMucHhhdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJweGF0XCIsIG9wdHMucHhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwicGVyc2lzdFwiIGluIG9wdHMgJiYgb3B0cy5wZXJzaXN0KSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcInBlcnNpc3RcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIGNtZE9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvZ2V0cmFuZ2UudHNcbnZhciBHZXRSYW5nZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJnZXRyYW5nZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2dldHNldC50c1xudmFyIEdldFNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJnZXRzZXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZGVsLnRzXG52YXIgSERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJoZGVsXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaGV4aXN0cy50c1xudmFyIEhFeGlzdHNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaGV4aXN0c1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hleHBpcmUudHNcbnZhciBIRXhwaXJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkcywgc2Vjb25kcywgb3B0aW9uXSA9IGNtZDtcbiAgICBjb25zdCBmaWVsZEFycmF5ID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogW2ZpZWxkc107XG4gICAgc3VwZXIoXG4gICAgICBbXG4gICAgICAgIFwiaGV4cGlyZVwiLFxuICAgICAgICBrZXksXG4gICAgICAgIHNlY29uZHMsXG4gICAgICAgIC4uLm9wdGlvbiA/IFtvcHRpb25dIDogW10sXG4gICAgICAgIFwiRklFTERTXCIsXG4gICAgICAgIGZpZWxkQXJyYXkubGVuZ3RoLFxuICAgICAgICAuLi5maWVsZEFycmF5XG4gICAgICBdLFxuICAgICAgb3B0c1xuICAgICk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZXhwaXJlYXQudHNcbnZhciBIRXhwaXJlQXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgW2tleSwgZmllbGRzLCB0aW1lc3RhbXAsIG9wdGlvbl0gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFxuICAgICAgW1xuICAgICAgICBcImhleHBpcmVhdFwiLFxuICAgICAgICBrZXksXG4gICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgLi4ub3B0aW9uID8gW29wdGlvbl0gOiBbXSxcbiAgICAgICAgXCJGSUVMRFNcIixcbiAgICAgICAgZmllbGRBcnJheS5sZW5ndGgsXG4gICAgICAgIC4uLmZpZWxkQXJyYXlcbiAgICAgIF0sXG4gICAgICBvcHRzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hleHBpcmV0aW1lLnRzXG52YXIgSEV4cGlyZVRpbWVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgW2tleSwgZmllbGRzXSA9IGNtZDtcbiAgICBjb25zdCBmaWVsZEFycmF5ID0gQXJyYXkuaXNBcnJheShmaWVsZHMpID8gZmllbGRzIDogW2ZpZWxkc107XG4gICAgc3VwZXIoW1wiaGV4cGlyZXRpbWVcIiwga2V5LCBcIkZJRUxEU1wiLCBmaWVsZEFycmF5Lmxlbmd0aCwgLi4uZmllbGRBcnJheV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHBlcnNpc3QudHNcbnZhciBIUGVyc2lzdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBba2V5LCBmaWVsZHNdID0gY21kO1xuICAgIGNvbnN0IGZpZWxkQXJyYXkgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICBzdXBlcihbXCJocGVyc2lzdFwiLCBrZXksIFwiRklFTERTXCIsIGZpZWxkQXJyYXkubGVuZ3RoLCAuLi5maWVsZEFycmF5XSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ocGV4cGlyZS50c1xudmFyIEhQRXhwaXJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkcywgbWlsbGlzZWNvbmRzLCBvcHRpb25dID0gY21kO1xuICAgIGNvbnN0IGZpZWxkQXJyYXkgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICBzdXBlcihcbiAgICAgIFtcbiAgICAgICAgXCJocGV4cGlyZVwiLFxuICAgICAgICBrZXksXG4gICAgICAgIG1pbGxpc2Vjb25kcyxcbiAgICAgICAgLi4ub3B0aW9uID8gW29wdGlvbl0gOiBbXSxcbiAgICAgICAgXCJGSUVMRFNcIixcbiAgICAgICAgZmllbGRBcnJheS5sZW5ndGgsXG4gICAgICAgIC4uLmZpZWxkQXJyYXlcbiAgICAgIF0sXG4gICAgICBvcHRzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hwZXhwaXJlYXQudHNcbnZhciBIUEV4cGlyZUF0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkcywgdGltZXN0YW1wLCBvcHRpb25dID0gY21kO1xuICAgIGNvbnN0IGZpZWxkQXJyYXkgPSBBcnJheS5pc0FycmF5KGZpZWxkcykgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICBzdXBlcihcbiAgICAgIFtcbiAgICAgICAgXCJocGV4cGlyZWF0XCIsXG4gICAgICAgIGtleSxcbiAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAuLi5vcHRpb24gPyBbb3B0aW9uXSA6IFtdLFxuICAgICAgICBcIkZJRUxEU1wiLFxuICAgICAgICBmaWVsZEFycmF5Lmxlbmd0aCxcbiAgICAgICAgLi4uZmllbGRBcnJheVxuICAgICAgXSxcbiAgICAgIG9wdHNcbiAgICApO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHBleHBpcmV0aW1lLnRzXG52YXIgSFBFeHBpcmVUaW1lQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkc10gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFtcImhwZXhwaXJldGltZVwiLCBrZXksIFwiRklFTERTXCIsIGZpZWxkQXJyYXkubGVuZ3RoLCAuLi5maWVsZEFycmF5XSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ocHR0bC50c1xudmFyIEhQVHRsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkc10gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFtcImhwdHRsXCIsIGtleSwgXCJGSUVMRFNcIiwgZmllbGRBcnJheS5sZW5ndGgsIC4uLmZpZWxkQXJyYXldLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hnZXQudHNcbnZhciBIR2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImhnZXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZ2V0YWxsLnRzXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZTQocmVzdWx0KSB7XG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgb2JqID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0W2ldO1xuICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0W2kgKyAxXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdmFsdWVJc051bWJlckFuZE5vdFNhZmVJbnRlZ2VyID0gIU51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSAmJiAhTnVtYmVyLmlzU2FmZUludGVnZXIoTnVtYmVyKHZhbHVlKSk7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlSXNOdW1iZXJBbmROb3RTYWZlSW50ZWdlciA/IHZhbHVlIDogSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxudmFyIEhHZXRBbGxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaGdldGFsbFwiLCAuLi5jbWRdLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogKHJlc3VsdCkgPT4gZGVzZXJpYWxpemU0KHJlc3VsdCksXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9obWdldC50c1xuZnVuY3Rpb24gZGVzZXJpYWxpemU1KGZpZWxkcywgcmVzdWx0KSB7XG4gIGlmIChyZXN1bHQuZXZlcnkoKGZpZWxkKSA9PiBmaWVsZCA9PT0gbnVsbCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChjb25zdCBbaSwgZmllbGRdIG9mIGZpZWxkcy5lbnRyaWVzKCkpIHtcbiAgICB0cnkge1xuICAgICAgb2JqW2ZpZWxkXSA9IEpTT04ucGFyc2UocmVzdWx0W2ldKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIG9ialtmaWVsZF0gPSByZXN1bHRbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG52YXIgSE1HZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgLi4uZmllbGRzXSwgb3B0cykge1xuICAgIHN1cGVyKFtcImhtZ2V0XCIsIGtleSwgLi4uZmllbGRzXSwge1xuICAgICAgZGVzZXJpYWxpemU6IChyZXN1bHQpID0+IGRlc2VyaWFsaXplNShmaWVsZHMsIHJlc3VsdCksXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oZ2V0ZGVsLnRzXG52YXIgSEdldERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCAuLi5maWVsZHNdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaGdldGRlbFwiLCBrZXksIFwiRklFTERTXCIsIGZpZWxkcy5sZW5ndGgsIC4uLmZpZWxkc10sIHtcbiAgICAgIGRlc2VyaWFsaXplOiAocmVzdWx0KSA9PiBkZXNlcmlhbGl6ZTUoZmllbGRzLm1hcChTdHJpbmcpLCByZXN1bHQpLFxuICAgICAgLi4ub3B0c1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaGdldGV4LnRzXG52YXIgSEdldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG9wdHMsIC4uLmZpZWxkc10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiaGdldGV4XCIsIGtleV07XG4gICAgaWYgKFwiZXhcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmV4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJFWFwiLCBvcHRzLmV4KTtcbiAgICB9IGVsc2UgaWYgKFwicHhcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLnB4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJQWFwiLCBvcHRzLnB4KTtcbiAgICB9IGVsc2UgaWYgKFwiZXhhdFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuZXhhdCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiRVhBVFwiLCBvcHRzLmV4YXQpO1xuICAgIH0gZWxzZSBpZiAoXCJweGF0XCIgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy5weGF0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJQWEFUXCIsIG9wdHMucHhhdCk7XG4gICAgfSBlbHNlIGlmIChcInBlcnNpc3RcIiBpbiBvcHRzICYmIG9wdHMucGVyc2lzdCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwiUEVSU0lTVFwiKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKFwiRklFTERTXCIsIGZpZWxkcy5sZW5ndGgsIC4uLmZpZWxkcyk7XG4gICAgc3VwZXIoY29tbWFuZCwge1xuICAgICAgZGVzZXJpYWxpemU6IChyZXN1bHQpID0+IGRlc2VyaWFsaXplNShmaWVsZHMubWFwKFN0cmluZyksIHJlc3VsdCksXG4gICAgICAuLi5jbWRPcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oaW5jcmJ5LnRzXG52YXIgSEluY3JCeUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJoaW5jcmJ5XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaGluY3JieWZsb2F0LnRzXG52YXIgSEluY3JCeUZsb2F0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImhpbmNyYnlmbG9hdFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hrZXlzLnRzXG52YXIgSEtleXNDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleV0sIG9wdHMpIHtcbiAgICBzdXBlcihbXCJoa2V5c1wiLCBrZXldLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hsZW4udHNcbnZhciBITGVuQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImhsZW5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9obXNldC50c1xudmFyIEhNU2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGt2XSwgb3B0cykge1xuICAgIHN1cGVyKFtcImhtc2V0XCIsIGtleSwgLi4uT2JqZWN0LmVudHJpZXMoa3YpLmZsYXRNYXAoKFtmaWVsZCwgdmFsdWVdKSA9PiBbZmllbGQsIHZhbHVlXSldLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hzY2FuLnRzXG52YXIgSFNjYW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgY3Vyc29yLCBjbWRPcHRzXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJoc2NhblwiLCBrZXksIGN1cnNvcl07XG4gICAgaWYgKGNtZE9wdHM/Lm1hdGNoKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJtYXRjaFwiLCBjbWRPcHRzLm1hdGNoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjbWRPcHRzPy5jb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiY291bnRcIiwgY21kT3B0cy5jb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIHtcbiAgICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZVNjYW5SZXNwb25zZSxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2hzZXQudHNcbnZhciBIU2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGt2XSwgb3B0cykge1xuICAgIHN1cGVyKFtcImhzZXRcIiwga2V5LCAuLi5PYmplY3QuZW50cmllcyhrdikuZmxhdE1hcCgoW2ZpZWxkLCB2YWx1ZV0pID0+IFtmaWVsZCwgdmFsdWVdKV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHNldGV4LnRzXG52YXIgSFNldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG9wdHMsIGt2XSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJoc2V0ZXhcIiwga2V5XTtcbiAgICBpZiAob3B0cy5jb25kaXRpb25hbCkge1xuICAgICAgY29tbWFuZC5wdXNoKG9wdHMuY29uZGl0aW9uYWwudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuICAgIGlmIChvcHRzLmV4cGlyYXRpb24pIHtcbiAgICAgIGlmIChcImV4XCIgaW4gb3B0cy5leHBpcmF0aW9uICYmIHR5cGVvZiBvcHRzLmV4cGlyYXRpb24uZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiRVhcIiwgb3B0cy5leHBpcmF0aW9uLmV4KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJweFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiB0eXBlb2Ygb3B0cy5leHBpcmF0aW9uLnB4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIlBYXCIsIG9wdHMuZXhwaXJhdGlvbi5weCk7XG4gICAgICB9IGVsc2UgaWYgKFwiZXhhdFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiB0eXBlb2Ygb3B0cy5leHBpcmF0aW9uLmV4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiRVhBVFwiLCBvcHRzLmV4cGlyYXRpb24uZXhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwicHhhdFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiB0eXBlb2Ygb3B0cy5leHBpcmF0aW9uLnB4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiUFhBVFwiLCBvcHRzLmV4cGlyYXRpb24ucHhhdCk7XG4gICAgICB9IGVsc2UgaWYgKFwia2VlcHR0bFwiIGluIG9wdHMuZXhwaXJhdGlvbiAmJiBvcHRzLmV4cGlyYXRpb24ua2VlcHR0bCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJLRUVQVFRMXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoa3YpO1xuICAgIGNvbW1hbmQucHVzaChcIkZJRUxEU1wiLCBlbnRyaWVzLmxlbmd0aCk7XG4gICAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBlbnRyaWVzKSB7XG4gICAgICBjb21tYW5kLnB1c2goZmllbGQsIHZhbHVlKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9oc2V0bngudHNcbnZhciBIU2V0TlhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaHNldG54XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHN0cmxlbi50c1xudmFyIEhTdHJMZW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaHN0cmxlblwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2h0dGwudHNcbnZhciBIVHRsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IFtrZXksIGZpZWxkc10gPSBjbWQ7XG4gICAgY29uc3QgZmllbGRBcnJheSA9IEFycmF5LmlzQXJyYXkoZmllbGRzKSA/IGZpZWxkcyA6IFtmaWVsZHNdO1xuICAgIHN1cGVyKFtcImh0dGxcIiwga2V5LCBcIkZJRUxEU1wiLCBmaWVsZEFycmF5Lmxlbmd0aCwgLi4uZmllbGRBcnJheV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaHZhbHMudHNcbnZhciBIVmFsc0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJodmFsc1wiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2luY3IudHNcbnZhciBJbmNyQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImluY3JcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9pbmNyYnkudHNcbnZhciBJbmNyQnlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiaW5jcmJ5XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvaW5jcmJ5ZmxvYXQudHNcbnZhciBJbmNyQnlGbG9hdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJpbmNyYnlmbG9hdFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJyYXBwZW5kLnRzXG52YXIgSnNvbkFyckFwcGVuZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkFSUkFQUEVORFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJyaW5kZXgudHNcbnZhciBKc29uQXJySW5kZXhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5BUlJJTkRFWFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJyaW5zZXJ0LnRzXG52YXIgSnNvbkFyckluc2VydENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkFSUklOU0VSVFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2pzb25fYXJybGVuLnRzXG52YXIgSnNvbkFyckxlbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkFSUkxFTlwiLCBjbWRbMF0sIGNtZFsxXSA/PyBcIiRcIl0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9hcnJwb3AudHNcbnZhciBKc29uQXJyUG9wQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIkpTT04uQVJSUE9QXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9hcnJ0cmltLnRzXG52YXIgSnNvbkFyclRyaW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgcGF0aCA9IGNtZFsxXSA/PyBcIiRcIjtcbiAgICBjb25zdCBzdGFydCA9IGNtZFsyXSA/PyAwO1xuICAgIGNvbnN0IHN0b3AgPSBjbWRbM10gPz8gMDtcbiAgICBzdXBlcihbXCJKU09OLkFSUlRSSU1cIiwgY21kWzBdLCBwYXRoLCBzdGFydCwgc3RvcF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9jbGVhci50c1xudmFyIEpzb25DbGVhckNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLkNMRUFSXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9kZWwudHNcbnZhciBKc29uRGVsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIkpTT04uREVMXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9mb3JnZXQudHNcbnZhciBKc29uRm9yZ2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIkpTT04uRk9SR0VUXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9nZXQudHNcbnZhciBKc29uR2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJKU09OLkdFVFwiXTtcbiAgICBpZiAodHlwZW9mIGNtZFsxXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29tbWFuZC5wdXNoKC4uLmNtZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1hbmQucHVzaChjbWRbMF0pO1xuICAgICAgaWYgKGNtZFsxXSkge1xuICAgICAgICBpZiAoY21kWzFdLmluZGVudCkge1xuICAgICAgICAgIGNvbW1hbmQucHVzaChcIklOREVOVFwiLCBjbWRbMV0uaW5kZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21kWzFdLm5ld2xpbmUpIHtcbiAgICAgICAgICBjb21tYW5kLnB1c2goXCJORVdMSU5FXCIsIGNtZFsxXS5uZXdsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21kWzFdLnNwYWNlKSB7XG4gICAgICAgICAgY29tbWFuZC5wdXNoKFwiU1BBQ0VcIiwgY21kWzFdLnNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29tbWFuZC5wdXNoKC4uLmNtZC5zbGljZSgyKSk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9tZXJnZS50c1xudmFyIEpzb25NZXJnZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiSlNPTi5NRVJHRVwiLCAuLi5jbWRdO1xuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvanNvbl9tZ2V0LnRzXG52YXIgSnNvbk1HZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5NR0VUXCIsIC4uLmNtZFswXSwgY21kWzFdXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX21zZXQudHNcbnZhciBKc29uTVNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiSlNPTi5NU0VUXCJdO1xuICAgIGZvciAoY29uc3QgYyBvZiBjbWQpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjLmtleSwgYy5wYXRoLCBjLnZhbHVlKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX251bWluY3JieS50c1xudmFyIEpzb25OdW1JbmNyQnlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5OVU1JTkNSQllcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX251bW11bHRieS50c1xudmFyIEpzb25OdW1NdWx0QnlDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5OVU1NVUxUQllcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX29iamtleXMudHNcbnZhciBKc29uT2JqS2V5c0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLk9CSktFWVNcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX29iamxlbi50c1xudmFyIEpzb25PYmpMZW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5PQkpMRU5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3Jlc3AudHNcbnZhciBKc29uUmVzcENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLlJFU1BcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3NldC50c1xudmFyIEpzb25TZXRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcIkpTT04uU0VUXCIsIGNtZFswXSwgY21kWzFdLCBjbWRbMl1dO1xuICAgIGlmIChjbWRbM10pIHtcbiAgICAgIGlmIChjbWRbM10ubngpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiTlhcIik7XG4gICAgICB9IGVsc2UgaWYgKGNtZFszXS54eCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJYWFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3N0cmFwcGVuZC50c1xudmFyIEpzb25TdHJBcHBlbmRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5TVFJBUFBFTkRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3N0cmxlbi50c1xudmFyIEpzb25TdHJMZW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5TVFJMRU5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3RvZ2dsZS50c1xudmFyIEpzb25Ub2dnbGVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wiSlNPTi5UT0dHTEVcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9qc29uX3R5cGUudHNcbnZhciBKc29uVHlwZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJKU09OLlRZUEVcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9rZXlzLnRzXG52YXIgS2V5c0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJrZXlzXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbGluZGV4LnRzXG52YXIgTEluZGV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxpbmRleFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xpbnNlcnQudHNcbnZhciBMSW5zZXJ0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxpbnNlcnRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9sbGVuLnRzXG52YXIgTExlbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsbGVuXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbG1vdmUudHNcbnZhciBMTW92ZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsbW92ZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xtcG9wLnRzXG52YXIgTG1Qb3BDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgY29uc3QgW251bWtleXMsIGtleXMsIGRpcmVjdGlvbiwgY291bnRdID0gY21kO1xuICAgIHN1cGVyKFtcIkxNUE9QXCIsIG51bWtleXMsIC4uLmtleXMsIGRpcmVjdGlvbiwgLi4uY291bnQgPyBbXCJDT1VOVFwiLCBjb3VudF0gOiBbXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbHBvcC50c1xudmFyIExQb3BDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibHBvcFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xwb3MudHNcbnZhciBMUG9zQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGFyZ3MgPSBbXCJscG9zXCIsIGNtZFswXSwgY21kWzFdXTtcbiAgICBpZiAodHlwZW9mIGNtZFsyXT8ucmFuayA9PT0gXCJudW1iZXJcIikge1xuICAgICAgYXJncy5wdXNoKFwicmFua1wiLCBjbWRbMl0ucmFuayk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY21kWzJdPy5jb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgYXJncy5wdXNoKFwiY291bnRcIiwgY21kWzJdLmNvdW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjbWRbMl0/Lm1heExlbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgYXJncy5wdXNoKFwibWF4TGVuXCIsIGNtZFsyXS5tYXhMZW4pO1xuICAgIH1cbiAgICBzdXBlcihhcmdzLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xwdXNoLnRzXG52YXIgTFB1c2hDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibHB1c2hcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9scHVzaHgudHNcbnZhciBMUHVzaFhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibHB1c2h4XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbHJhbmdlLnRzXG52YXIgTFJhbmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxyYW5nZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL2xyZW0udHNcbnZhciBMUmVtQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcImxyZW1cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9sc2V0LnRzXG52YXIgTFNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsc2V0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvbHRyaW0udHNcbnZhciBMVHJpbUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJsdHJpbVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL21nZXQudHNcbnZhciBNR2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5pc0FycmF5KGNtZFswXSkgPyBjbWRbMF0gOiBjbWQ7XG4gICAgc3VwZXIoW1wibWdldFwiLCAuLi5rZXlzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9tc2V0LnRzXG52YXIgTVNldENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba3ZdLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wibXNldFwiLCAuLi5PYmplY3QuZW50cmllcyhrdikuZmxhdE1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCB2YWx1ZV0pXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9tc2V0bngudHNcbnZhciBNU2V0TlhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2t2XSwgb3B0cykge1xuICAgIHN1cGVyKFtcIm1zZXRueFwiLCAuLi5PYmplY3QuZW50cmllcyhrdikuZmxhdCgpXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9wZXJzaXN0LnRzXG52YXIgUGVyc2lzdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJwZXJzaXN0XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcGV4cGlyZS50c1xudmFyIFBFeHBpcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wicGV4cGlyZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3BleHBpcmVhdC50c1xudmFyIFBFeHBpcmVBdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJwZXhwaXJlYXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9wZmFkZC50c1xudmFyIFBmQWRkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInBmYWRkXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcGZjb3VudC50c1xudmFyIFBmQ291bnRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wicGZjb3VudFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3BmbWVyZ2UudHNcbnZhciBQZk1lcmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInBmbWVyZ2VcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9waW5nLnRzXG52YXIgUGluZ0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wicGluZ1wiXTtcbiAgICBpZiAoY21kPy5bMF0gIT09IHZvaWQgMCkge1xuICAgICAgY29tbWFuZC5wdXNoKGNtZFswXSk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcHNldGV4LnRzXG52YXIgUFNldEVYQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInBzZXRleFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3B0dGwudHNcbnZhciBQVHRsQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInB0dGxcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9wdWJsaXNoLnRzXG52YXIgUHVibGlzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJwdWJsaXNoXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcmFuZG9ta2V5LnRzXG52YXIgUmFuZG9tS2V5Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihbXCJyYW5kb21rZXlcIl0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcmVuYW1lLnRzXG52YXIgUmVuYW1lQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInJlbmFtZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3JlbmFtZW54LnRzXG52YXIgUmVuYW1lTlhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wicmVuYW1lbnhcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9ycG9wLnRzXG52YXIgUlBvcENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJycG9wXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvcnB1c2gudHNcbnZhciBSUHVzaENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJycHVzaFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3JwdXNoeC50c1xudmFyIFJQdXNoWENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJycHVzaHhcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zYWRkLnRzXG52YXIgU0FkZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzYWRkXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2Nhbi50c1xudmFyIFNjYW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2N1cnNvciwgb3B0c10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wic2NhblwiLCBjdXJzb3JdO1xuICAgIGlmIChvcHRzPy5tYXRjaCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibWF0Y2hcIiwgb3B0cy5tYXRjaCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cz8uY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImNvdW50XCIsIG9wdHMuY291bnQpO1xuICAgIH1cbiAgICBpZiAob3B0cyAmJiBcIndpdGhUeXBlXCIgaW4gb3B0cyAmJiBvcHRzLndpdGhUeXBlID09PSB0cnVlKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJ3aXRodHlwZVwiKTtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgXCJ0eXBlXCIgaW4gb3B0cyAmJiBvcHRzLnR5cGUgJiYgb3B0cy50eXBlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbW1hbmQucHVzaChcInR5cGVcIiwgb3B0cy50eXBlKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwge1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZ25vcmUgdHlwZXMgaGVyZVxuICAgICAgZGVzZXJpYWxpemU6IG9wdHM/LndpdGhUeXBlID8gZGVzZXJpYWxpemVTY2FuV2l0aFR5cGVzUmVzcG9uc2UgOiBkZXNlcmlhbGl6ZVNjYW5SZXNwb25zZSxcbiAgICAgIC4uLmNtZE9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NjYXJkLnRzXG52YXIgU0NhcmRDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2NhcmRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zY3JpcHRfZXhpc3RzLnRzXG52YXIgU2NyaXB0RXhpc3RzQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGhhc2hlcywgb3B0cykge1xuICAgIHN1cGVyKFtcInNjcmlwdFwiLCBcImV4aXN0c1wiLCAuLi5oYXNoZXNdLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogKHJlc3VsdCkgPT4gcmVzdWx0LFxuICAgICAgLi4ub3B0c1xuICAgIH0pO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2NyaXB0X2ZsdXNoLnRzXG52YXIgU2NyaXB0Rmx1c2hDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW29wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY21kID0gW1wic2NyaXB0XCIsIFwiZmx1c2hcIl07XG4gICAgaWYgKG9wdHM/LnN5bmMpIHtcbiAgICAgIGNtZC5wdXNoKFwic3luY1wiKTtcbiAgICB9IGVsc2UgaWYgKG9wdHM/LmFzeW5jKSB7XG4gICAgICBjbWQucHVzaChcImFzeW5jXCIpO1xuICAgIH1cbiAgICBzdXBlcihjbWQsIGNtZE9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2NyaXB0X2xvYWQudHNcbnZhciBTY3JpcHRMb2FkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGFyZ3MsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzY3JpcHRcIiwgXCJsb2FkXCIsIC4uLmFyZ3NdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NkaWZmLnRzXG52YXIgU0RpZmZDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2RpZmZcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zZGlmZnN0b3JlLnRzXG52YXIgU0RpZmZTdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzZGlmZnN0b3JlXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2V0LnRzXG52YXIgU2V0Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIHZhbHVlLCBvcHRzXSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzZXRcIiwga2V5LCB2YWx1ZV07XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmIChcIm54XCIgaW4gb3B0cyAmJiBvcHRzLm54KSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIm54XCIpO1xuICAgICAgfSBlbHNlIGlmIChcInh4XCIgaW4gb3B0cyAmJiBvcHRzLnh4KSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcInh4XCIpO1xuICAgICAgfVxuICAgICAgaWYgKFwiZ2V0XCIgaW4gb3B0cyAmJiBvcHRzLmdldCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJnZXRcIik7XG4gICAgICB9XG4gICAgICBpZiAoXCJleFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiZXhcIiwgb3B0cy5leCk7XG4gICAgICB9IGVsc2UgaWYgKFwicHhcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLnB4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcInB4XCIsIG9wdHMucHgpO1xuICAgICAgfSBlbHNlIGlmIChcImV4YXRcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmV4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiZXhhdFwiLCBvcHRzLmV4YXQpO1xuICAgICAgfSBlbHNlIGlmIChcInB4YXRcIiBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLnB4YXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwicHhhdFwiLCBvcHRzLnB4YXQpO1xuICAgICAgfSBlbHNlIGlmIChcImtlZXBUdGxcIiBpbiBvcHRzICYmIG9wdHMua2VlcFR0bCkge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJrZWVwVHRsXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NldGJpdC50c1xudmFyIFNldEJpdENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzZXRiaXRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zZXRleC50c1xudmFyIFNldEV4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInNldGV4XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2V0bngudHNcbnZhciBTZXROeENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzZXRueFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NldHJhbmdlLnRzXG52YXIgU2V0UmFuZ2VDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2V0cmFuZ2VcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zaW50ZXIudHNcbnZhciBTSW50ZXJDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic2ludGVyXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc2ludGVyc3RvcmUudHNcbnZhciBTSW50ZXJTdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzaW50ZXJzdG9yZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3Npc21lbWJlci50c1xudmFyIFNJc01lbWJlckNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzaXNtZW1iZXJcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zbWVtYmVycy50c1xudmFyIFNNZW1iZXJzQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInNtZW1iZXJzXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc21pc21lbWJlci50c1xudmFyIFNNSXNNZW1iZXJDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic21pc21lbWJlclwiLCBjbWRbMF0sIC4uLmNtZFsxXV0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc21vdmUudHNcbnZhciBTTW92ZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzbW92ZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3Nwb3AudHNcbnZhciBTUG9wQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzcG9wXCIsIGtleV07XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKGNvdW50KTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zcmFuZG1lbWJlci50c1xudmFyIFNSYW5kTWVtYmVyQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzcmFuZG1lbWJlclwiLCBrZXldO1xuICAgIGlmICh0eXBlb2YgY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc3JlbS50c1xudmFyIFNSZW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic3JlbVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3NzY2FuLnRzXG52YXIgU1NjYW5Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgY3Vyc29yLCBvcHRzXSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJzc2NhblwiLCBrZXksIGN1cnNvcl07XG4gICAgaWYgKG9wdHM/Lm1hdGNoKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJtYXRjaFwiLCBvcHRzLm1hdGNoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzPy5jb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiY291bnRcIiwgb3B0cy5jb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIHtcbiAgICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZVNjYW5SZXNwb25zZSxcbiAgICAgIC4uLmNtZE9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3N0cmxlbi50c1xudmFyIFN0ckxlbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzdHJsZW5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zdW5pb24udHNcbnZhciBTVW5pb25Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wic3VuaW9uXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvc3VuaW9uc3RvcmUudHNcbnZhciBTVW5pb25TdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJzdW5pb25zdG9yZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3RpbWUudHNcbnZhciBUaW1lQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihbXCJ0aW1lXCJdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3RvdWNoLnRzXG52YXIgVG91Y2hDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1widG91Y2hcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy90dGwudHNcbnZhciBUdGxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1widHRsXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvdHlwZS50c1xudmFyIFR5cGVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1widHlwZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3VubGluay50c1xudmFyIFVubGlua0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ1bmxpbmtcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94YWNrLnRzXG52YXIgWEFja0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBncm91cCwgaWRdLCBvcHRzKSB7XG4gICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShpZCkgPyBbLi4uaWRdIDogW2lkXTtcbiAgICBzdXBlcihbXCJYQUNLXCIsIGtleSwgZ3JvdXAsIC4uLmlkc10sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveGFja2RlbC50c1xudmFyIFhBY2tEZWxDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgZ3JvdXAsIG9wdHMsIC4uLmlkc10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiWEFDS0RFTFwiLCBrZXksIGdyb3VwXTtcbiAgICBjb21tYW5kLnB1c2gob3B0cy50b1VwcGVyQ2FzZSgpKTtcbiAgICBjb21tYW5kLnB1c2goXCJJRFNcIiwgaWRzLmxlbmd0aCwgLi4uaWRzKTtcbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hhZGQudHNcbnZhciBYQWRkQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGlkLCBlbnRyaWVzLCBvcHRzXSwgY29tbWFuZE9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiWEFERFwiLCBrZXldO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAob3B0cy5ub21rU3RyZWFtKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIk5PTUtTVFJFQU1cIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy50cmltKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChvcHRzLnRyaW0udHlwZSwgb3B0cy50cmltLmNvbXBhcmlzb24sIG9wdHMudHJpbS50aHJlc2hvbGQpO1xuICAgICAgICBpZiAob3B0cy50cmltLmxpbWl0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjb21tYW5kLnB1c2goXCJMSU1JVFwiLCBvcHRzLnRyaW0ubGltaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbW1hbmQucHVzaChpZCk7XG4gICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZW50cmllcykpIHtcbiAgICAgIGNvbW1hbmQucHVzaChrLCB2KTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY29tbWFuZE9wdGlvbnMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveGF1dG9jbGFpbS50c1xudmFyIFhBdXRvQ2xhaW0gPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBncm91cCwgY29uc3VtZXIsIG1pbklkbGVUaW1lLCBzdGFydCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICAgIGlmIChvcHRpb25zPy5jb3VudCkge1xuICAgICAgY29tbWFuZHMucHVzaChcIkNPVU5UXCIsIG9wdGlvbnMuY291bnQpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8uanVzdElkKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiSlVTVElEXCIpO1xuICAgIH1cbiAgICBzdXBlcihbXCJYQVVUT0NMQUlNXCIsIGtleSwgZ3JvdXAsIGNvbnN1bWVyLCBtaW5JZGxlVGltZSwgc3RhcnQsIC4uLmNvbW1hbmRzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94Y2xhaW0udHNcbnZhciBYQ2xhaW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgZ3JvdXAsIGNvbnN1bWVyLCBtaW5JZGxlVGltZSwgaWQsIG9wdGlvbnNdLCBvcHRzKSB7XG4gICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShpZCkgPyBbLi4uaWRdIDogW2lkXTtcbiAgICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICAgIGlmIChvcHRpb25zPy5pZGxlTVMpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJJRExFXCIsIG9wdGlvbnMuaWRsZU1TKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LmlkbGVNUykge1xuICAgICAgY29tbWFuZHMucHVzaChcIlRJTUVcIiwgb3B0aW9ucy50aW1lTVMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8ucmV0cnlDb3VudCkge1xuICAgICAgY29tbWFuZHMucHVzaChcIlJFVFJZQ09VTlRcIiwgb3B0aW9ucy5yZXRyeUNvdW50KTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LmZvcmNlKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiRk9SQ0VcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5qdXN0SWQpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJKVVNUSURcIik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5sYXN0SWQpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJMQVNUSURcIiwgb3B0aW9ucy5sYXN0SWQpO1xuICAgIH1cbiAgICBzdXBlcihbXCJYQ0xBSU1cIiwga2V5LCBncm91cCwgY29uc3VtZXIsIG1pbklkbGVUaW1lLCAuLi5pZHMsIC4uLmNvbW1hbmRzXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94ZGVsLnRzXG52YXIgWERlbENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBpZHNdLCBvcHRzKSB7XG4gICAgY29uc3QgY21kcyA9IEFycmF5LmlzQXJyYXkoaWRzKSA/IFsuLi5pZHNdIDogW2lkc107XG4gICAgc3VwZXIoW1wiWERFTFwiLCBrZXksIC4uLmNtZHNdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hkZWxleC50c1xudmFyIFhEZWxFeENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBvcHRzLCAuLi5pZHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcIlhERUxFWFwiLCBrZXldO1xuICAgIGlmIChvcHRzKSB7XG4gICAgICBjb21tYW5kLnB1c2gob3B0cy50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKFwiSURTXCIsIGlkcy5sZW5ndGgsIC4uLmlkcyk7XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94Z3JvdXAudHNcbnZhciBYR3JvdXBDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2tleSwgb3B0c10sIGNvbW1hbmRPcHRpb25zKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcIlhHUk9VUFwiXTtcbiAgICBzd2l0Y2ggKG9wdHMudHlwZSkge1xuICAgICAgY2FzZSBcIkNSRUFURVwiOiB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIkNSRUFURVwiLCBrZXksIG9wdHMuZ3JvdXAsIG9wdHMuaWQpO1xuICAgICAgICBpZiAob3B0cy5vcHRpb25zKSB7XG4gICAgICAgICAgaWYgKG9wdHMub3B0aW9ucy5NS1NUUkVBTSkge1xuICAgICAgICAgICAgY29tbWFuZC5wdXNoKFwiTUtTVFJFQU1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvcHRzLm9wdGlvbnMuRU5UUklFU1JFQUQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29tbWFuZC5wdXNoKFwiRU5UUklFU1JFQURcIiwgb3B0cy5vcHRpb25zLkVOVFJJRVNSRUFELnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJDUkVBVEVDT05TVU1FUlwiOiB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIkNSRUFURUNPTlNVTUVSXCIsIGtleSwgb3B0cy5ncm91cCwgb3B0cy5jb25zdW1lcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIkRFTENPTlNVTUVSXCI6IHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwiREVMQ09OU1VNRVJcIiwga2V5LCBvcHRzLmdyb3VwLCBvcHRzLmNvbnN1bWVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiREVTVFJPWVwiOiB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIkRFU1RST1lcIiwga2V5LCBvcHRzLmdyb3VwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiU0VUSURcIjoge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJTRVRJRFwiLCBrZXksIG9wdHMuZ3JvdXAsIG9wdHMuaWQpO1xuICAgICAgICBpZiAob3B0cy5vcHRpb25zPy5FTlRSSUVTUkVBRCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgY29tbWFuZC5wdXNoKFwiRU5UUklFU1JFQURcIiwgb3B0cy5vcHRpb25zLkVOVFJJRVNSRUFELnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFhHUk9VUFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY29tbWFuZE9wdGlvbnMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveGluZm8udHNcbnZhciBYSW5mb0NvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBvcHRpb25zXSwgb3B0cykge1xuICAgIGNvbnN0IGNtZHMgPSBbXTtcbiAgICBpZiAob3B0aW9ucy50eXBlID09PSBcIkNPTlNVTUVSU1wiKSB7XG4gICAgICBjbWRzLnB1c2goXCJDT05TVU1FUlNcIiwga2V5LCBvcHRpb25zLmdyb3VwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY21kcy5wdXNoKFwiR1JPVVBTXCIsIGtleSk7XG4gICAgfVxuICAgIHN1cGVyKFtcIlhJTkZPXCIsIC4uLmNtZHNdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hsZW4udHNcbnZhciBYTGVuQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcIlhMRU5cIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94cGVuZGluZy50c1xudmFyIFhQZW5kaW5nQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGdyb3VwLCBzdGFydCwgZW5kLCBjb3VudCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBjb25zdCBjb25zdW1lcnMgPSBvcHRpb25zPy5jb25zdW1lciA9PT0gdm9pZCAwID8gW10gOiBBcnJheS5pc0FycmF5KG9wdGlvbnMuY29uc3VtZXIpID8gWy4uLm9wdGlvbnMuY29uc3VtZXJdIDogW29wdGlvbnMuY29uc3VtZXJdO1xuICAgIHN1cGVyKFxuICAgICAgW1xuICAgICAgICBcIlhQRU5ESU5HXCIsXG4gICAgICAgIGtleSxcbiAgICAgICAgZ3JvdXAsXG4gICAgICAgIC4uLm9wdGlvbnM/LmlkbGVUaW1lID8gW1wiSURMRVwiLCBvcHRpb25zLmlkbGVUaW1lXSA6IFtdLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kLFxuICAgICAgICBjb3VudCxcbiAgICAgICAgLi4uY29uc3VtZXJzXG4gICAgICBdLFxuICAgICAgb3B0c1xuICAgICk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy94cmFuZ2UudHNcbmZ1bmN0aW9uIGRlc2VyaWFsaXplNihyZXN1bHQpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGZvciAoY29uc3QgZSBvZiByZXN1bHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGNvbnN0IHN0cmVhbUlkID0gZVtpXTtcbiAgICAgIGNvbnN0IGVudHJpZXMgPSBlW2kgKyAxXTtcbiAgICAgIGlmICghKHN0cmVhbUlkIGluIG9iaikpIHtcbiAgICAgICAgb2JqW3N0cmVhbUlkXSA9IHt9O1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbnRyaWVzLmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZW50cmllc1tqXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbnRyaWVzW2ogKyAxXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvYmpbc3RyZWFtSWRdW2ZpZWxkXSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBvYmpbc3RyZWFtSWRdW2ZpZWxkXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG52YXIgWFJhbmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIHN0YXJ0LCBlbmQsIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJYUkFOR0VcIiwga2V5LCBzdGFydCwgZW5kXTtcbiAgICBpZiAodHlwZW9mIGNvdW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJDT1VOVFwiLCBjb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIHtcbiAgICAgIGRlc2VyaWFsaXplOiAocmVzdWx0KSA9PiBkZXNlcmlhbGl6ZTYocmVzdWx0KSxcbiAgICAgIC4uLm9wdHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hyZWFkLnRzXG52YXIgVU5CQUxBTkNFRF9YUkVBRF9FUlIgPSBcIkVSUiBVbmJhbGFuY2VkIFhSRUFEIGxpc3Qgb2Ygc3RyZWFtczogZm9yIGVhY2ggc3RyZWFtIGtleSBhbiBJRCBvciAnJCcgbXVzdCBiZSBzcGVjaWZpZWRcIjtcbnZhciBYUmVhZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBpZCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpICYmIEFycmF5LmlzQXJyYXkoaWQpICYmIGtleS5sZW5ndGggIT09IGlkLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFVOQkFMQU5DRURfWFJFQURfRVJSKTtcbiAgICB9XG4gICAgY29uc3QgY29tbWFuZHMgPSBbXTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnM/LmNvdW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiQ09VTlRcIiwgb3B0aW9ucy5jb3VudCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucz8uYmxvY2tNUyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZHMucHVzaChcIkJMT0NLXCIsIG9wdGlvbnMuYmxvY2tNUyk7XG4gICAgfVxuICAgIGNvbW1hbmRzLnB1c2goXG4gICAgICBcIlNUUkVBTVNcIixcbiAgICAgIC4uLkFycmF5LmlzQXJyYXkoa2V5KSA/IFsuLi5rZXldIDogW2tleV0sXG4gICAgICAuLi5BcnJheS5pc0FycmF5KGlkKSA/IFsuLi5pZF0gOiBbaWRdXG4gICAgKTtcbiAgICBzdXBlcihbXCJYUkVBRFwiLCAuLi5jb21tYW5kc10sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMveHJlYWRncm91cC50c1xudmFyIFVOQkFMQU5DRURfWFJFQURHUk9VUF9FUlIgPSBcIkVSUiBVbmJhbGFuY2VkIFhSRUFER1JPVVAgbGlzdCBvZiBzdHJlYW1zOiBmb3IgZWFjaCBzdHJlYW0ga2V5IGFuIElEIG9yICckJyBtdXN0IGJlIHNwZWNpZmllZFwiO1xudmFyIFhSZWFkR3JvdXBDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2dyb3VwLCBjb25zdW1lciwga2V5LCBpZCwgb3B0aW9uc10sIG9wdHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpICYmIEFycmF5LmlzQXJyYXkoaWQpICYmIGtleS5sZW5ndGggIT09IGlkLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFVOQkFMQU5DRURfWFJFQURHUk9VUF9FUlIpO1xuICAgIH1cbiAgICBjb25zdCBjb21tYW5kcyA9IFtdO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucz8uY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmRzLnB1c2goXCJDT1VOVFwiLCBvcHRpb25zLmNvdW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zPy5ibG9ja01TID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb21tYW5kcy5wdXNoKFwiQkxPQ0tcIiwgb3B0aW9ucy5ibG9ja01TKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zPy5OT0FDSyA9PT0gXCJib29sZWFuXCIgJiYgb3B0aW9ucy5OT0FDSykge1xuICAgICAgY29tbWFuZHMucHVzaChcIk5PQUNLXCIpO1xuICAgIH1cbiAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgXCJTVFJFQU1TXCIsXG4gICAgICAuLi5BcnJheS5pc0FycmF5KGtleSkgPyBbLi4ua2V5XSA6IFtrZXldLFxuICAgICAgLi4uQXJyYXkuaXNBcnJheShpZCkgPyBbLi4uaWRdIDogW2lkXVxuICAgICk7XG4gICAgc3VwZXIoW1wiWFJFQURHUk9VUFwiLCBcIkdST1VQXCIsIGdyb3VwLCBjb25zdW1lciwgLi4uY29tbWFuZHNdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3hyZXZyYW5nZS50c1xudmFyIFhSZXZSYW5nZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBlbmQsIHN0YXJ0LCBjb3VudF0sIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiWFJFVlJBTkdFXCIsIGtleSwgZW5kLCBzdGFydF07XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKFwiQ09VTlRcIiwgY291bnQpO1xuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogKHJlc3VsdCkgPT4gZGVzZXJpYWxpemU3KHJlc3VsdCksXG4gICAgICAuLi5vcHRzXG4gICAgfSk7XG4gIH1cbn07XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZTcocmVzdWx0KSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBmb3IgKGNvbnN0IGUgb2YgcmVzdWx0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBjb25zdCBzdHJlYW1JZCA9IGVbaV07XG4gICAgICBjb25zdCBlbnRyaWVzID0gZVtpICsgMV07XG4gICAgICBpZiAoIShzdHJlYW1JZCBpbiBvYmopKSB7XG4gICAgICAgIG9ialtzdHJlYW1JZF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZW50cmllcy5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGVudHJpZXNbal07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZW50cmllc1tqICsgMV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb2JqW3N0cmVhbUlkXVtmaWVsZF0gPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgb2JqW3N0cmVhbUlkXVtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vLyBwa2cvY29tbWFuZHMveHRyaW0udHNcbnZhciBYVHJpbUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBvcHRpb25zXSwgb3B0cykge1xuICAgIGNvbnN0IHsgbGltaXQsIHN0cmF0ZWd5LCB0aHJlc2hvbGQsIGV4YWN0bmVzcyA9IFwiflwiIH0gPSBvcHRpb25zO1xuICAgIHN1cGVyKFtcIlhUUklNXCIsIGtleSwgc3RyYXRlZ3ksIGV4YWN0bmVzcywgdGhyZXNob2xkLCAuLi5saW1pdCA/IFtcIkxJTUlUXCIsIGxpbWl0XSA6IFtdXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96YWRkLnRzXG52YXIgWkFkZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBhcmcxLCAuLi5hcmcyXSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJ6YWRkXCIsIGtleV07XG4gICAgaWYgKFwibnhcIiBpbiBhcmcxICYmIGFyZzEubngpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcIm54XCIpO1xuICAgIH0gZWxzZSBpZiAoXCJ4eFwiIGluIGFyZzEgJiYgYXJnMS54eCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwieHhcIik7XG4gICAgfVxuICAgIGlmIChcImNoXCIgaW4gYXJnMSAmJiBhcmcxLmNoKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJjaFwiKTtcbiAgICB9XG4gICAgaWYgKFwiaW5jclwiIGluIGFyZzEgJiYgYXJnMS5pbmNyKSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJpbmNyXCIpO1xuICAgIH1cbiAgICBpZiAoXCJsdFwiIGluIGFyZzEgJiYgYXJnMS5sdCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibHRcIik7XG4gICAgfSBlbHNlIGlmIChcImd0XCIgaW4gYXJnMSAmJiBhcmcxLmd0KSB7XG4gICAgICBjb21tYW5kLnB1c2goXCJndFwiKTtcbiAgICB9XG4gICAgaWYgKFwic2NvcmVcIiBpbiBhcmcxICYmIFwibWVtYmVyXCIgaW4gYXJnMSkge1xuICAgICAgY29tbWFuZC5wdXNoKGFyZzEuc2NvcmUsIGFyZzEubWVtYmVyKTtcbiAgICB9XG4gICAgY29tbWFuZC5wdXNoKC4uLmFyZzIuZmxhdE1hcCgoeyBzY29yZSwgbWVtYmVyIH0pID0+IFtzY29yZSwgbWVtYmVyXSkpO1xuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvemNhcmQudHNcbnZhciBaQ2FyZENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ6Y2FyZFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pjb3VudC50c1xudmFyIFpDb3VudENvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ6Y291bnRcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96aW5jcmJ5LnRzXG52YXIgWkluY3JCeUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBzdXBlcihbXCJ6aW5jcmJ5XCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvemludGVyc3RvcmUudHNcbnZhciBaSW50ZXJTdG9yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihbZGVzdGluYXRpb24sIG51bUtleXMsIGtleU9yS2V5cywgb3B0c10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wiemludGVyc3RvcmVcIiwgZGVzdGluYXRpb24sIG51bUtleXNdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGtleU9yS2V5cykpIHtcbiAgICAgIGNvbW1hbmQucHVzaCguLi5rZXlPcktleXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21tYW5kLnB1c2goa2V5T3JLZXlzKTtcbiAgICB9XG4gICAgaWYgKG9wdHMpIHtcbiAgICAgIGlmIChcIndlaWdodHNcIiBpbiBvcHRzICYmIG9wdHMud2VpZ2h0cykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJ3ZWlnaHRzXCIsIC4uLm9wdHMud2VpZ2h0cyk7XG4gICAgICB9IGVsc2UgaWYgKFwid2VpZ2h0XCIgaW4gb3B0cyAmJiB0eXBlb2Ygb3B0cy53ZWlnaHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwid2VpZ2h0c1wiLCBvcHRzLndlaWdodCk7XG4gICAgICB9XG4gICAgICBpZiAoXCJhZ2dyZWdhdGVcIiBpbiBvcHRzKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcImFnZ3JlZ2F0ZVwiLCBvcHRzLmFnZ3JlZ2F0ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIGNtZE9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvemxleGNvdW50LnRzXG52YXIgWkxleENvdW50Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInpsZXhjb3VudFwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pwb3BtYXgudHNcbnZhciBaUG9wTWF4Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGNvdW50XSwgb3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJ6cG9wbWF4XCIsIGtleV07XG4gICAgaWYgKHR5cGVvZiBjb3VudCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29tbWFuZC5wdXNoKGNvdW50KTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96cG9wbWluLnRzXG52YXIgWlBvcE1pbkNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3Rvcihba2V5LCBjb3VudF0sIG9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wienBvcG1pblwiLCBrZXldO1xuICAgIGlmICh0eXBlb2YgY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChjb3VudCk7XG4gICAgfVxuICAgIHN1cGVyKGNvbW1hbmQsIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenJhbmdlLnRzXG52YXIgWlJhbmdlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIG1pbiwgbWF4LCBvcHRzXSwgY21kT3B0cykge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBbXCJ6cmFuZ2VcIiwga2V5LCBtaW4sIG1heF07XG4gICAgaWYgKG9wdHM/LmJ5U2NvcmUpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImJ5c2NvcmVcIik7XG4gICAgfVxuICAgIGlmIChvcHRzPy5ieUxleCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwiYnlsZXhcIik7XG4gICAgfVxuICAgIGlmIChvcHRzPy5yZXYpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcInJldlwiKTtcbiAgICB9XG4gICAgaWYgKG9wdHM/LmNvdW50ICE9PSB2b2lkIDAgJiYgb3B0cy5vZmZzZXQgIT09IHZvaWQgMCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibGltaXRcIiwgb3B0cy5vZmZzZXQsIG9wdHMuY291bnQpO1xuICAgIH1cbiAgICBpZiAob3B0cz8ud2l0aFNjb3Jlcykge1xuICAgICAgY29tbWFuZC5wdXNoKFwid2l0aHNjb3Jlc1wiKTtcbiAgICB9XG4gICAgc3VwZXIoY29tbWFuZCwgY21kT3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96cmFuay50c1xudmFyIFpSYW5rQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInpyYW5rXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenJlbS50c1xudmFyIFpSZW1Db21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pyZW1yYW5nZWJ5bGV4LnRzXG52YXIgWlJlbVJhbmdlQnlMZXhDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbXJhbmdlYnlsZXhcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96cmVtcmFuZ2VieXJhbmsudHNcbnZhciBaUmVtUmFuZ2VCeVJhbmtDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbXJhbmdlYnlyYW5rXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenJlbXJhbmdlYnlzY29yZS50c1xudmFyIFpSZW1SYW5nZUJ5U2NvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJlbXJhbmdlYnlzY29yZVwiLCAuLi5jbWRdLCBvcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pyZXZyYW5rLnRzXG52YXIgWlJldlJhbmtDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienJldnJhbmtcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96c2Nhbi50c1xudmFyIFpTY2FuQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtrZXksIGN1cnNvciwgb3B0c10sIGNtZE9wdHMpIHtcbiAgICBjb25zdCBjb21tYW5kID0gW1wienNjYW5cIiwga2V5LCBjdXJzb3JdO1xuICAgIGlmIChvcHRzPy5tYXRjaCkge1xuICAgICAgY29tbWFuZC5wdXNoKFwibWF0Y2hcIiwgb3B0cy5tYXRjaCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cz8uY291bnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbW1hbmQucHVzaChcImNvdW50XCIsIG9wdHMuY291bnQpO1xuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCB7XG4gICAgICBkZXNlcmlhbGl6ZTogZGVzZXJpYWxpemVTY2FuUmVzcG9uc2UsXG4gICAgICAuLi5jbWRPcHRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96c2NvcmUudHNcbnZhciBaU2NvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoY21kLCBvcHRzKSB7XG4gICAgc3VwZXIoW1wienNjb3JlXCIsIC4uLmNtZF0sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvY29tbWFuZHMvenVuaW9uLnRzXG52YXIgWlVuaW9uQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKFtudW1LZXlzLCBrZXlPcktleXMsIG9wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcInp1bmlvblwiLCBudW1LZXlzXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlPcktleXMpKSB7XG4gICAgICBjb21tYW5kLnB1c2goLi4ua2V5T3JLZXlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWFuZC5wdXNoKGtleU9yS2V5cyk7XG4gICAgfVxuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAoXCJ3ZWlnaHRzXCIgaW4gb3B0cyAmJiBvcHRzLndlaWdodHMpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwid2VpZ2h0c1wiLCAuLi5vcHRzLndlaWdodHMpO1xuICAgICAgfSBlbHNlIGlmIChcIndlaWdodFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMud2VpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIndlaWdodHNcIiwgb3B0cy53ZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKFwiYWdncmVnYXRlXCIgaW4gb3B0cykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJhZ2dyZWdhdGVcIiwgb3B0cy5hZ2dyZWdhdGUpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMud2l0aFNjb3Jlcykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJ3aXRoc2NvcmVzXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3p1bmlvbnN0b3JlLnRzXG52YXIgWlVuaW9uU3RvcmVDb21tYW5kID0gY2xhc3MgZXh0ZW5kcyBDb21tYW5kIHtcbiAgY29uc3RydWN0b3IoW2Rlc3RpbmF0aW9uLCBudW1LZXlzLCBrZXlPcktleXMsIG9wdHNdLCBjbWRPcHRzKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IFtcInp1bmlvbnN0b3JlXCIsIGRlc3RpbmF0aW9uLCBudW1LZXlzXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShrZXlPcktleXMpKSB7XG4gICAgICBjb21tYW5kLnB1c2goLi4ua2V5T3JLZXlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWFuZC5wdXNoKGtleU9yS2V5cyk7XG4gICAgfVxuICAgIGlmIChvcHRzKSB7XG4gICAgICBpZiAoXCJ3ZWlnaHRzXCIgaW4gb3B0cyAmJiBvcHRzLndlaWdodHMpIHtcbiAgICAgICAgY29tbWFuZC5wdXNoKFwid2VpZ2h0c1wiLCAuLi5vcHRzLndlaWdodHMpO1xuICAgICAgfSBlbHNlIGlmIChcIndlaWdodFwiIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMud2VpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGNvbW1hbmQucHVzaChcIndlaWdodHNcIiwgb3B0cy53ZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKFwiYWdncmVnYXRlXCIgaW4gb3B0cykge1xuICAgICAgICBjb21tYW5kLnB1c2goXCJhZ2dyZWdhdGVcIiwgb3B0cy5hZ2dyZWdhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcihjb21tYW5kLCBjbWRPcHRzKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3pkaWZmc3RvcmUudHNcbnZhciBaRGlmZlN0b3JlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIHN1cGVyKFtcInpkaWZmc3RvcmVcIiwgLi4uY21kXSwgb3B0cyk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy96bXNjb3JlLnRzXG52YXIgWk1TY29yZUNvbW1hbmQgPSBjbGFzcyBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbWQsIG9wdHMpIHtcbiAgICBjb25zdCBba2V5LCBtZW1iZXJzXSA9IGNtZDtcbiAgICBzdXBlcihbXCJ6bXNjb3JlXCIsIGtleSwgLi4ubWVtYmVyc10sIG9wdHMpO1xuICB9XG59O1xuXG4vLyBwa2cvcGlwZWxpbmUudHNcbnZhciBQaXBlbGluZSA9IGNsYXNzIHtcbiAgY2xpZW50O1xuICBjb21tYW5kcztcbiAgY29tbWFuZE9wdGlvbnM7XG4gIG11bHRpRXhlYztcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHRoaXMuY2xpZW50ID0gb3B0cy5jbGllbnQ7XG4gICAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICAgIHRoaXMuY29tbWFuZE9wdGlvbnMgPSBvcHRzLmNvbW1hbmRPcHRpb25zO1xuICAgIHRoaXMubXVsdGlFeGVjID0gb3B0cy5tdWx0aUV4ZWMgPz8gZmFsc2U7XG4gICAgaWYgKHRoaXMuY29tbWFuZE9wdGlvbnM/LmxhdGVuY3lMb2dnaW5nKSB7XG4gICAgICBjb25zdCBvcmlnaW5hbEV4ZWMgPSB0aGlzLmV4ZWMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZXhlYyA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChvcHRpb25zID8gb3JpZ2luYWxFeGVjKG9wdGlvbnMpIDogb3JpZ2luYWxFeGVjKCkpO1xuICAgICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgY29uc3QgbG9nZ2VyUmVzdWx0ID0gKGVuZCAtIHN0YXJ0KS50b0ZpeGVkKDIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgTGF0ZW5jeSBmb3IgXFx4MUJbMzg7MjsxOTsxODU7MzltJHt0aGlzLm11bHRpRXhlYyA/IFtcIk1VTFRJLUVYRUNcIl0gOiBbXCJQSVBFTElORVwiXS50b1N0cmluZygpLnRvVXBwZXJDYXNlKCl9XFx4MUJbMG06IFxceDFCWzM4OzI7MDsyNTU7MjU1bSR7bG9nZ2VyUmVzdWx0fSBtc1xceDFCWzBtYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgZXhlYyA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgaWYgKHRoaXMuY29tbWFuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQaXBlbGluZSBpcyBlbXB0eVwiKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IHRoaXMubXVsdGlFeGVjID8gW1wibXVsdGktZXhlY1wiXSA6IFtcInBpcGVsaW5lXCJdO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3Qoe1xuICAgICAgcGF0aCxcbiAgICAgIGJvZHk6IE9iamVjdC52YWx1ZXModGhpcy5jb21tYW5kcykubWFwKChjKSA9PiBjLmNvbW1hbmQpXG4gICAgfSk7XG4gICAgcmV0dXJuIG9wdGlvbnM/LmtlZXBFcnJvcnMgPyByZXMubWFwKCh7IGVycm9yLCByZXN1bHQgfSwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHJlc3VsdDogdGhpcy5jb21tYW5kc1tpXS5kZXNlcmlhbGl6ZShyZXN1bHQpXG4gICAgICB9O1xuICAgIH0pIDogcmVzLm1hcCgoeyBlcnJvciwgcmVzdWx0IH0sIGkpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgVXBzdGFzaEVycm9yKFxuICAgICAgICAgIGBDb21tYW5kICR7aSArIDF9IFsgJHt0aGlzLmNvbW1hbmRzW2ldLmNvbW1hbmRbMF19IF0gZmFpbGVkOiAke2Vycm9yfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzW2ldLmRlc2VyaWFsaXplKHJlc3VsdCk7XG4gICAgfSk7XG4gIH07XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgcGlwZWxpbmUgYmVmb3JlIHRoZSBleGVjdXRpb25cbiAgICovXG4gIGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb21tYW5kcy5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2hlcyBhIGNvbW1hbmQgaW50byB0aGUgcGlwZWxpbmUgYW5kIHJldHVybnMgYSBjaGFpbmFibGUgaW5zdGFuY2Ugb2YgdGhlXG4gICAqIHBpcGVsaW5lXG4gICAqL1xuICBjaGFpbihjb21tYW5kKSB7XG4gICAgdGhpcy5jb21tYW5kcy5wdXNoKGNvbW1hbmQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYXBwZW5kXG4gICAqL1xuICBhcHBlbmQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQXBwZW5kQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYml0Y291bnRcbiAgICovXG4gIGJpdGNvdW50ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEJpdENvdW50Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBgQklURklFTERgIGNvbW1hbmRzIG9uIG9uZSBrZXkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogcmVkaXMuc2V0KFwibXlrZXlcIiwgMCk7XG4gICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlZGlzLnBpcGVsaW5lKClcbiAgICogICAuYml0ZmllbGQoXCJteWtleVwiKVxuICAgKiAgIC5zZXQoXCJ1NFwiLCAwLCAxNilcbiAgICogICAuaW5jcihcInU0XCIsIFwiIzFcIiwgMSlcbiAgICogICAuZXhlYygpO1xuICAgKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyBbWzAsIDFdXVxuICAgKiBgYGBcbiAgICpcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdGZpZWxkXG4gICAqL1xuICBiaXRmaWVsZCA9ICguLi5hcmdzKSA9PiBuZXcgQml0RmllbGRDb21tYW5kKGFyZ3MsIHRoaXMuY2xpZW50LCB0aGlzLmNvbW1hbmRPcHRpb25zLCB0aGlzLmNoYWluLmJpbmQodGhpcykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdG9wXG4gICAqL1xuICBiaXRvcCA9IChvcCwgZGVzdGluYXRpb25LZXksIHNvdXJjZUtleSwgLi4uc291cmNlS2V5cykgPT4gdGhpcy5jaGFpbihcbiAgICBuZXcgQml0T3BDb21tYW5kKFtvcCwgZGVzdGluYXRpb25LZXksIHNvdXJjZUtleSwgLi4uc291cmNlS2V5c10sIHRoaXMuY29tbWFuZE9wdGlvbnMpXG4gICk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYml0cG9zXG4gICAqL1xuICBiaXRwb3MgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQml0UG9zQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvY2xpZW50LXNldGluZm9cbiAgICovXG4gIGNsaWVudFNldGluZm8gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQ2xpZW50U2V0SW5mb0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2NvcHlcbiAgICovXG4gIGNvcHkgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgQ29weUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pkaWZmc3RvcmVcbiAgICovXG4gIHpkaWZmc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWkRpZmZTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2Ric2l6ZVxuICAgKi9cbiAgZGJzaXplID0gKCkgPT4gdGhpcy5jaGFpbihuZXcgREJTaXplQ29tbWFuZCh0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVjclxuICAgKi9cbiAgZGVjciA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBEZWNyQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVjcmJ5XG4gICAqL1xuICBkZWNyYnkgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRGVjckJ5Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVsXG4gICAqL1xuICBkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRGVsQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZWNob1xuICAgKi9cbiAgZWNobyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFY2hvQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZXZhbF9yb1xuICAgKi9cbiAgZXZhbFJvID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEV2YWxST0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxcbiAgICovXG4gIGV2YWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRXZhbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxzaGFfcm9cbiAgICovXG4gIGV2YWxzaGFSbyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFdmFsc2hhUk9Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ldmFsc2hhXG4gICAqL1xuICBldmFsc2hhID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEV2YWxzaGFDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leGlzdHNcbiAgICovXG4gIGV4aXN0cyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFeGlzdHNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leHBpcmVcbiAgICovXG4gIGV4cGlyZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBFeHBpcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leHBpcmVhdFxuICAgKi9cbiAgZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRXhwaXJlQXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9mbHVzaGFsbFxuICAgKi9cbiAgZmx1c2hhbGwgPSAoYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRmx1c2hBbGxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9mbHVzaGRiXG4gICAqL1xuICBmbHVzaGRiID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEZsdXNoREJDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9hZGRcbiAgICovXG4gIGdlb2FkZCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZW9BZGRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9kaXN0XG4gICAqL1xuICBnZW9kaXN0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEdlb0Rpc3RDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9wb3NcbiAgICovXG4gIGdlb3BvcyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZW9Qb3NDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9oYXNoXG4gICAqL1xuICBnZW9oYXNoID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEdlb0hhc2hDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9zZWFyY2hcbiAgICovXG4gIGdlb3NlYXJjaCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZW9TZWFyY2hDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9zZWFyY2hzdG9yZVxuICAgKi9cbiAgZ2Vvc2VhcmNoc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgR2VvU2VhcmNoU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRcbiAgICovXG4gIGdldCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRiaXRcbiAgICovXG4gIGdldGJpdCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZXRCaXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRkZWxcbiAgICovXG4gIGdldGRlbCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBHZXREZWxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRleFxuICAgKi9cbiAgZ2V0ZXggPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgR2V0RXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRyYW5nZVxuICAgKi9cbiAgZ2V0cmFuZ2UgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgR2V0UmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRzZXRcbiAgICovXG4gIGdldHNldCA9IChrZXksIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBHZXRTZXRDb21tYW5kKFtrZXksIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hkZWxcbiAgICovXG4gIGhkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSERlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleGlzdHNcbiAgICovXG4gIGhleGlzdHMgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEV4aXN0c0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmVcbiAgICovXG4gIGhleHBpcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmVhdFxuICAgKi9cbiAgaGV4cGlyZWF0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhFeHBpcmVBdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmV0aW1lXG4gICAqL1xuICBoZXhwaXJldGltZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIRXhwaXJlVGltZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2h0dGxcbiAgICovXG4gIGh0dGwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFR0bENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJlXG4gICAqL1xuICBocGV4cGlyZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIUEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJlYXRcbiAgICovXG4gIGhwZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFBFeHBpcmVBdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJldGltZVxuICAgKi9cbiAgaHBleHBpcmV0aW1lID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhQRXhwaXJlVGltZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwdHRsXG4gICAqL1xuICBocHR0bCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIUFR0bENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXJzaXN0XG4gICAqL1xuICBocGVyc2lzdCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIUGVyc2lzdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRcbiAgICovXG4gIGhnZXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEdldENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRhbGxcbiAgICovXG4gIGhnZXRhbGwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEdldEFsbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRkZWxcbiAgICovXG4gIGhnZXRkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEdldERlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRleFxuICAgKi9cbiAgaGdldGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhHZXRFeENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hpbmNyYnlcbiAgICovXG4gIGhpbmNyYnkgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSEluY3JCeUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hpbmNyYnlmbG9hdFxuICAgKi9cbiAgaGluY3JieWZsb2F0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhJbmNyQnlGbG9hdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hrZXlzXG4gICAqL1xuICBoa2V5cyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBIS2V5c0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hsZW5cbiAgICovXG4gIGhsZW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSExlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2htZ2V0XG4gICAqL1xuICBobWdldCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBITUdldENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2htc2V0XG4gICAqL1xuICBobXNldCA9IChrZXksIGt2KSA9PiB0aGlzLmNoYWluKG5ldyBITVNldENvbW1hbmQoW2tleSwga3ZdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHJhbmRmaWVsZFxuICAgKi9cbiAgaHJhbmRmaWVsZCA9IChrZXksIGNvdW50LCB3aXRoVmFsdWVzKSA9PiB0aGlzLmNoYWluKG5ldyBIUmFuZEZpZWxkQ29tbWFuZChba2V5LCBjb3VudCwgd2l0aFZhbHVlc10sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2NhblxuICAgKi9cbiAgaHNjYW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFNjYW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2V0XG4gICAqL1xuICBoc2V0ID0gKGtleSwga3YpID0+IHRoaXMuY2hhaW4obmV3IEhTZXRDb21tYW5kKFtrZXksIGt2XSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRleFxuICAgKi9cbiAgaHNldGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhTZXRFeENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRueFxuICAgKi9cbiAgaHNldG54ID0gKGtleSwgZmllbGQsIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBIU2V0TlhDb21tYW5kKFtrZXksIGZpZWxkLCB2YWx1ZV0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc3RybGVuXG4gICAqL1xuICBoc3RybGVuID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEhTdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9odmFsc1xuICAgKi9cbiAgaHZhbHMgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSFZhbHNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyXG4gICAqL1xuICBpbmNyID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEluY3JDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyYnlcbiAgICovXG4gIGluY3JieSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBJbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyYnlmbG9hdFxuICAgKi9cbiAgaW5jcmJ5ZmxvYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSW5jckJ5RmxvYXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9rZXlzXG4gICAqL1xuICBrZXlzID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEtleXNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9saW5kZXhcbiAgICovXG4gIGxpbmRleCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMSW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9saW5zZXJ0XG4gICAqL1xuICBsaW5zZXJ0ID0gKGtleSwgZGlyZWN0aW9uLCBwaXZvdCwgdmFsdWUpID0+IHRoaXMuY2hhaW4obmV3IExJbnNlcnRDb21tYW5kKFtrZXksIGRpcmVjdGlvbiwgcGl2b3QsIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xsZW5cbiAgICovXG4gIGxsZW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTExlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xtb3ZlXG4gICAqL1xuICBsbW92ZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMTW92ZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xwb3BcbiAgICovXG4gIGxwb3AgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTFBvcENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xtcG9wXG4gICAqL1xuICBsbXBvcCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMbVBvcENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xwb3NcbiAgICovXG4gIGxwb3MgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTFBvc0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xwdXNoXG4gICAqL1xuICBscHVzaCA9IChrZXksIC4uLmVsZW1lbnRzKSA9PiB0aGlzLmNoYWluKG5ldyBMUHVzaENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHB1c2h4XG4gICAqL1xuICBscHVzaHggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gdGhpcy5jaGFpbihuZXcgTFB1c2hYQ29tbWFuZChba2V5LCAuLi5lbGVtZW50c10sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scmFuZ2VcbiAgICovXG4gIGxyYW5nZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scmVtXG4gICAqL1xuICBscmVtID0gKGtleSwgY291bnQsIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBMUmVtQ29tbWFuZChba2V5LCBjb3VudCwgdmFsdWVdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHNldFxuICAgKi9cbiAgbHNldCA9IChrZXksIGluZGV4LCB2YWx1ZSkgPT4gdGhpcy5jaGFpbihuZXcgTFNldENvbW1hbmQoW2tleSwgaW5kZXgsIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2x0cmltXG4gICAqL1xuICBsdHJpbSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBMVHJpbUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21nZXRcbiAgICovXG4gIG1nZXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgTUdldENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21zZXRcbiAgICovXG4gIG1zZXQgPSAoa3YpID0+IHRoaXMuY2hhaW4obmV3IE1TZXRDb21tYW5kKFtrdl0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9tc2V0bnhcbiAgICovXG4gIG1zZXRueCA9IChrdikgPT4gdGhpcy5jaGFpbihuZXcgTVNldE5YQ29tbWFuZChba3ZdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGVyc2lzdFxuICAgKi9cbiAgcGVyc2lzdCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQZXJzaXN0Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGV4cGlyZVxuICAgKi9cbiAgcGV4cGlyZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQRXhwaXJlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGV4cGlyZWF0XG4gICAqL1xuICBwZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgUEV4cGlyZUF0Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZhZGRcbiAgICovXG4gIHBmYWRkID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFBmQWRkQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZjb3VudFxuICAgKi9cbiAgcGZjb3VudCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQZkNvdW50Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZtZXJnZVxuICAgKi9cbiAgcGZtZXJnZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQZk1lcmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGluZ1xuICAgKi9cbiAgcGluZyA9IChhcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQaW5nQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHNldGV4XG4gICAqL1xuICBwc2V0ZXggPSAoa2V5LCB0dGwsIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBQU2V0RVhDb21tYW5kKFtrZXksIHR0bCwgdmFsdWVdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHR0bFxuICAgKi9cbiAgcHR0bCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQVHRsQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHVibGlzaFxuICAgKi9cbiAgcHVibGlzaCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBQdWJsaXNoQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcmFuZG9ta2V5XG4gICAqL1xuICByYW5kb21rZXkgPSAoKSA9PiB0aGlzLmNoYWluKG5ldyBSYW5kb21LZXlDb21tYW5kKHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9yZW5hbWVcbiAgICovXG4gIHJlbmFtZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBSZW5hbWVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9yZW5hbWVueFxuICAgKi9cbiAgcmVuYW1lbnggPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgUmVuYW1lTlhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ycG9wXG4gICAqL1xuICBycG9wID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFJQb3BDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ycHVzaFxuICAgKi9cbiAgcnB1c2ggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gdGhpcy5jaGFpbihuZXcgUlB1c2hDb21tYW5kKFtrZXksIC4uLmVsZW1lbnRzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3JwdXNoeFxuICAgKi9cbiAgcnB1c2h4ID0gKGtleSwgLi4uZWxlbWVudHMpID0+IHRoaXMuY2hhaW4obmV3IFJQdXNoWENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2FkZFxuICAgKi9cbiAgc2FkZCA9IChrZXksIG1lbWJlciwgLi4ubWVtYmVycykgPT4gdGhpcy5jaGFpbihuZXcgU0FkZENvbW1hbmQoW2tleSwgbWVtYmVyLCAuLi5tZW1iZXJzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjYW5cbiAgICovXG4gIHNjYW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU2NhbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjYXJkXG4gICAqL1xuICBzY2FyZCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTQ2FyZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1leGlzdHNcbiAgICovXG4gIHNjcmlwdEV4aXN0cyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTY3JpcHRFeGlzdHNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zY3JpcHQtZmx1c2hcbiAgICovXG4gIHNjcmlwdEZsdXNoID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNjcmlwdEZsdXNoQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2NyaXB0LWxvYWRcbiAgICovXG4gIHNjcmlwdExvYWQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU2NyaXB0TG9hZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKikqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZGlmZlxuICAgKi9cbiAgc2RpZmYgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU0RpZmZDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZGlmZnN0b3JlXG4gICAqL1xuICBzZGlmZnN0b3JlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNEaWZmU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRcbiAgICovXG4gIHNldCA9IChrZXksIHZhbHVlLCBvcHRzKSA9PiB0aGlzLmNoYWluKG5ldyBTZXRDb21tYW5kKFtrZXksIHZhbHVlLCBvcHRzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldGJpdFxuICAgKi9cbiAgc2V0Yml0ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNldEJpdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldGV4XG4gICAqL1xuICBzZXRleCA9IChrZXksIHR0bCwgdmFsdWUpID0+IHRoaXMuY2hhaW4obmV3IFNldEV4Q29tbWFuZChba2V5LCB0dGwsIHZhbHVlXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldG54XG4gICAqL1xuICBzZXRueCA9IChrZXksIHZhbHVlKSA9PiB0aGlzLmNoYWluKG5ldyBTZXROeENvbW1hbmQoW2tleSwgdmFsdWVdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2V0cmFuZ2VcbiAgICovXG4gIHNldHJhbmdlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNldFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2ludGVyXG4gICAqL1xuICBzaW50ZXIgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU0ludGVyQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2ludGVyc3RvcmVcbiAgICovXG4gIHNpbnRlcnN0b3JlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNJbnRlclN0b3JlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2lzbWVtYmVyXG4gICAqL1xuICBzaXNtZW1iZXIgPSAoa2V5LCBtZW1iZXIpID0+IHRoaXMuY2hhaW4obmV3IFNJc01lbWJlckNvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NtZW1iZXJzXG4gICAqL1xuICBzbWVtYmVycyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTTWVtYmVyc0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NtaXNtZW1iZXJcbiAgICovXG4gIHNtaXNtZW1iZXIgPSAoa2V5LCBtZW1iZXJzKSA9PiB0aGlzLmNoYWluKG5ldyBTTUlzTWVtYmVyQ29tbWFuZChba2V5LCBtZW1iZXJzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3Ntb3ZlXG4gICAqL1xuICBzbW92ZSA9IChzb3VyY2UsIGRlc3RpbmF0aW9uLCBtZW1iZXIpID0+IHRoaXMuY2hhaW4obmV3IFNNb3ZlQ29tbWFuZChbc291cmNlLCBkZXN0aW5hdGlvbiwgbWVtYmVyXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3Nwb3BcbiAgICovXG4gIHNwb3AgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgU1BvcENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NyYW5kbWVtYmVyXG4gICAqL1xuICBzcmFuZG1lbWJlciA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTUmFuZE1lbWJlckNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NyZW1cbiAgICovXG4gIHNyZW0gPSAoa2V5LCAuLi5tZW1iZXJzKSA9PiB0aGlzLmNoYWluKG5ldyBTUmVtQ29tbWFuZChba2V5LCAuLi5tZW1iZXJzXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NzY2FuXG4gICAqL1xuICBzc2NhbiA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTU2NhbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N0cmxlblxuICAgKi9cbiAgc3RybGVuID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFN0ckxlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N1bmlvblxuICAgKi9cbiAgc3VuaW9uID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFNVbmlvbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N1bmlvbnN0b3JlXG4gICAqL1xuICBzdW5pb25zdG9yZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBTVW5pb25TdG9yZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3RpbWVcbiAgICovXG4gIHRpbWUgPSAoKSA9PiB0aGlzLmNoYWluKG5ldyBUaW1lQ29tbWFuZCh0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdG91Y2hcbiAgICovXG4gIHRvdWNoID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFRvdWNoQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdHRsXG4gICAqL1xuICB0dGwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgVHRsQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdHlwZVxuICAgKi9cbiAgdHlwZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBUeXBlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdW5saW5rXG4gICAqL1xuICB1bmxpbmsgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgVW5saW5rQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemFkZFxuICAgKi9cbiAgemFkZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKFwic2NvcmVcIiBpbiBhcmdzWzFdKSB7XG4gICAgICByZXR1cm4gdGhpcy5jaGFpbihcbiAgICAgICAgbmV3IFpBZGRDb21tYW5kKFthcmdzWzBdLCBhcmdzWzFdLCAuLi5hcmdzLnNsaWNlKDIpXSwgdGhpcy5jb21tYW5kT3B0aW9ucylcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoYWluKFxuICAgICAgbmV3IFpBZGRDb21tYW5kKFxuICAgICAgICBbYXJnc1swXSwgYXJnc1sxXSwgLi4uYXJncy5zbGljZSgyKV0sXG4gICAgICAgIHRoaXMuY29tbWFuZE9wdGlvbnNcbiAgICAgIClcbiAgICApO1xuICB9O1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhZGRcbiAgICovXG4gIHhhZGQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEFkZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhY2tcbiAgICovXG4gIHhhY2sgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEFja0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhY2tkZWxcbiAgICovXG4gIHhhY2tkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEFja0RlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hkZWxcbiAgICovXG4gIHhkZWwgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWERlbENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hkZWxleFxuICAgKi9cbiAgeGRlbGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhEZWxFeENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hncm91cFxuICAgKi9cbiAgeGdyb3VwID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhHcm91cENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyZWFkXG4gICAqL1xuICB4cmVhZCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBYUmVhZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyZWFkZ3JvdXBcbiAgICovXG4gIHhyZWFkZ3JvdXAgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWFJlYWRHcm91cENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hpbmZvXG4gICAqL1xuICB4aW5mbyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBYSW5mb0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hsZW5cbiAgICovXG4gIHhsZW4gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWExlbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hwZW5kaW5nXG4gICAqL1xuICB4cGVuZGluZyA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBYUGVuZGluZ0NvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hjbGFpbVxuICAgKi9cbiAgeGNsYWltID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhDbGFpbUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhdXRvY2xhaW1cbiAgICovXG4gIHhhdXRvY2xhaW0gPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWEF1dG9DbGFpbShhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHRyaW1cbiAgICovXG4gIHh0cmltID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFhUcmltQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJhbmdlXG4gICAqL1xuICB4cmFuZ2UgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJldnJhbmdlXG4gICAqL1xuICB4cmV2cmFuZ2UgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWFJldlJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemNhcmRcbiAgICovXG4gIHpjYXJkID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpDYXJkQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemNvdW50XG4gICAqL1xuICB6Y291bnQgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWkNvdW50Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemluY3JieVxuICAgKi9cbiAgemluY3JieSA9IChrZXksIGluY3JlbWVudCwgbWVtYmVyKSA9PiB0aGlzLmNoYWluKG5ldyBaSW5jckJ5Q29tbWFuZChba2V5LCBpbmNyZW1lbnQsIG1lbWJlcl0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96aW50ZXJzdG9yZVxuICAgKi9cbiAgemludGVyc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWkludGVyU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96bGV4Y291bnRcbiAgICovXG4gIHpsZXhjb3VudCA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaTGV4Q291bnRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96bXNjb3JlXG4gICAqL1xuICB6bXNjb3JlID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpNU2NvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cG9wbWF4XG4gICAqL1xuICB6cG9wbWF4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpQb3BNYXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cG9wbWluXG4gICAqL1xuICB6cG9wbWluID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpQb3BNaW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmFuZ2VcbiAgICovXG4gIHpyYW5nZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmFua1xuICAgKi9cbiAgenJhbmsgPSAoa2V5LCBtZW1iZXIpID0+IHRoaXMuY2hhaW4obmV3IFpSYW5rQ29tbWFuZChba2V5LCBtZW1iZXJdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbVxuICAgKi9cbiAgenJlbSA9IChrZXksIC4uLm1lbWJlcnMpID0+IHRoaXMuY2hhaW4obmV3IFpSZW1Db21tYW5kKFtrZXksIC4uLm1lbWJlcnNdLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlsZXhcbiAgICovXG4gIHpyZW1yYW5nZWJ5bGV4ID0gKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IFpSZW1SYW5nZUJ5TGV4Q29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlyYW5rXG4gICAqL1xuICB6cmVtcmFuZ2VieXJhbmsgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWlJlbVJhbmdlQnlSYW5rQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlzY29yZVxuICAgKi9cbiAgenJlbXJhbmdlYnlzY29yZSA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaUmVtUmFuZ2VCeVNjb3JlQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJldnJhbmtcbiAgICovXG4gIHpyZXZyYW5rID0gKGtleSwgbWVtYmVyKSA9PiB0aGlzLmNoYWluKG5ldyBaUmV2UmFua0NvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pzY2FuXG4gICAqL1xuICB6c2NhbiA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaU2NhbkNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pzY29yZVxuICAgKi9cbiAgenNjb3JlID0gKGtleSwgbWVtYmVyKSA9PiB0aGlzLmNoYWluKG5ldyBaU2NvcmVDb21tYW5kKFtrZXksIG1lbWJlcl0sIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96dW5pb25zdG9yZVxuICAgKi9cbiAgenVuaW9uc3RvcmUgPSAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgWlVuaW9uU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96dW5pb25cbiAgICovXG4gIHp1bmlvbiA9ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBaVW5pb25Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy8/Z3JvdXA9anNvblxuICAgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyYXBwZW5kXG4gICAgICAgKi9cbiAgICAgIGFycmFwcGVuZDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJBcHBlbmRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyaW5kZXhcbiAgICAgICAqL1xuICAgICAgYXJyaW5kZXg6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBKc29uQXJySW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyaW5zZXJ0XG4gICAgICAgKi9cbiAgICAgIGFycmluc2VydDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJJbnNlcnRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJybGVuXG4gICAgICAgKi9cbiAgICAgIGFycmxlbjogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJycG9wXG4gICAgICAgKi9cbiAgICAgIGFycnBvcDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25BcnJQb3BDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJydHJpbVxuICAgICAgICovXG4gICAgICBhcnJ0cmltOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbkFyclRyaW1Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uY2xlYXJcbiAgICAgICAqL1xuICAgICAgY2xlYXI6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBKc29uQ2xlYXJDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZGVsXG4gICAgICAgKi9cbiAgICAgIGRlbDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25EZWxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZm9yZ2V0XG4gICAgICAgKi9cbiAgICAgIGZvcmdldDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25Gb3JnZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25HZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubWVyZ2VcbiAgICAgICAqL1xuICAgICAgbWVyZ2U6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBKc29uTWVyZ2VDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubWdldFxuICAgICAgICovXG4gICAgICBtZ2V0OiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbk1HZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubXNldFxuICAgICAgICovXG4gICAgICBtc2V0OiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbk1TZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubnVtaW5jcmJ5XG4gICAgICAgKi9cbiAgICAgIG51bWluY3JieTogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25OdW1JbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubnVtbXVsdGJ5XG4gICAgICAgKi9cbiAgICAgIG51bW11bHRieTogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25OdW1NdWx0QnlDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ub2Jqa2V5c1xuICAgICAgICovXG4gICAgICBvYmprZXlzOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvbk9iaktleXNDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ub2JqbGVuXG4gICAgICAgKi9cbiAgICAgIG9iamxlbjogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25PYmpMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ucmVzcFxuICAgICAgICovXG4gICAgICByZXNwOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvblJlc3BDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc2V0XG4gICAgICAgKi9cbiAgICAgIHNldDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25TZXRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc3RyYXBwZW5kXG4gICAgICAgKi9cbiAgICAgIHN0cmFwcGVuZDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25TdHJBcHBlbmRDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc3RybGVuXG4gICAgICAgKi9cbiAgICAgIHN0cmxlbjogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25TdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24udG9nZ2xlXG4gICAgICAgKi9cbiAgICAgIHRvZ2dsZTogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEpzb25Ub2dnbGVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24udHlwZVxuICAgICAgICovXG4gICAgICB0eXBlOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgSnNvblR5cGVDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKVxuICAgIH07XG4gIH1cbiAgZ2V0IGZ1bmN0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tbG9hZC9cbiAgICAgICAqL1xuICAgICAgbG9hZDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEZ1bmN0aW9uTG9hZENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tbGlzdC9cbiAgICAgICAqL1xuICAgICAgbGlzdDogKC4uLmFyZ3MpID0+IHRoaXMuY2hhaW4obmV3IEZ1bmN0aW9uTGlzdENvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tZGVsZXRlL1xuICAgICAgICovXG4gICAgICBkZWxldGU6ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBGdW5jdGlvbkRlbGV0ZUNvbW1hbmQoYXJncywgdGhpcy5jb21tYW5kT3B0aW9ucykpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tZmx1c2gvXG4gICAgICAgKi9cbiAgICAgIGZsdXNoOiAoKSA9PiB0aGlzLmNoYWluKG5ldyBGdW5jdGlvbkZsdXNoQ29tbWFuZCh0aGlzLmNvbW1hbmRPcHRpb25zKSksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9kb2NzL2xhdGVzdC9jb21tYW5kcy9mdW5jdGlvbi1zdGF0cy9cbiAgICAgICAqL1xuICAgICAgc3RhdHM6ICgpID0+IHRoaXMuY2hhaW4obmV3IEZ1bmN0aW9uU3RhdHNDb21tYW5kKHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2ZjYWxsL1xuICAgICAgICovXG4gICAgICBjYWxsOiAoLi4uYXJncykgPT4gdGhpcy5jaGFpbihuZXcgRkNhbGxDb21tYW5kKGFyZ3MsIHRoaXMuY29tbWFuZE9wdGlvbnMpKSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2ZjYWxsX3JvL1xuICAgICAgICovXG4gICAgICBjYWxsUm86ICguLi5hcmdzKSA9PiB0aGlzLmNoYWluKG5ldyBGQ2FsbFJvQ29tbWFuZChhcmdzLCB0aGlzLmNvbW1hbmRPcHRpb25zKSlcbiAgICB9O1xuICB9XG59O1xuXG4vLyBwa2cvYXV0by1waXBlbGluZS50c1xudmFyIEVYQ0xVREVfQ09NTUFORFMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwic2NhblwiLFxuICBcImtleXNcIixcbiAgXCJmbHVzaGRiXCIsXG4gIFwiZmx1c2hhbGxcIixcbiAgXCJkYnNpemVcIixcbiAgXCJoc2NhblwiLFxuICBcImhnZXRhbGxcIixcbiAgXCJoa2V5c1wiLFxuICBcImxyYW5nZVwiLFxuICBcInNzY2FuXCIsXG4gIFwic21lbWJlcnNcIixcbiAgXCJ4cmFuZ2VcIixcbiAgXCJ4cmV2cmFuZ2VcIixcbiAgXCJ6c2NhblwiLFxuICBcInpyYW5nZVwiLFxuICBcImV4ZWNcIlxuXSk7XG5mdW5jdGlvbiBjcmVhdGVBdXRvUGlwZWxpbmVQcm94eShfcmVkaXMsIG5hbWVzcGFjZSA9IFwicm9vdFwiKSB7XG4gIGNvbnN0IHJlZGlzID0gX3JlZGlzO1xuICBpZiAoIXJlZGlzLmF1dG9QaXBlbGluZUV4ZWN1dG9yKSB7XG4gICAgcmVkaXMuYXV0b1BpcGVsaW5lRXhlY3V0b3IgPSBuZXcgQXV0b1BpcGVsaW5lRXhlY3V0b3IocmVkaXMpO1xuICB9XG4gIHJldHVybiBuZXcgUHJveHkocmVkaXMsIHtcbiAgICBnZXQ6IChyZWRpczIsIGNvbW1hbmQpID0+IHtcbiAgICAgIGlmIChjb21tYW5kID09PSBcInBpcGVsaW5lQ291bnRlclwiKSB7XG4gICAgICAgIHJldHVybiByZWRpczIuYXV0b1BpcGVsaW5lRXhlY3V0b3IucGlwZWxpbmVDb3VudGVyO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJyb290XCIgJiYgY29tbWFuZCA9PT0gXCJqc29uXCIpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUF1dG9QaXBlbGluZVByb3h5KHJlZGlzMiwgXCJqc29uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJyb290XCIgJiYgY29tbWFuZCA9PT0gXCJmdW5jdGlvbnNcIikge1xuICAgICAgICByZXR1cm4gY3JlYXRlQXV0b1BpcGVsaW5lUHJveHkocmVkaXMyLCBcImZ1bmN0aW9uc1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwicm9vdFwiKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRJblJlZGlzQnV0Tm90UGlwZWxpbmUgPSBjb21tYW5kIGluIHJlZGlzMiAmJiAhKGNvbW1hbmQgaW4gcmVkaXMyLmF1dG9QaXBlbGluZUV4ZWN1dG9yLnBpcGVsaW5lKTtcbiAgICAgICAgY29uc3QgaXNDb21tYW5kRXhjbHVkZWQgPSBFWENMVURFX0NPTU1BTkRTLmhhcyhjb21tYW5kKTtcbiAgICAgICAgaWYgKGNvbW1hbmRJblJlZGlzQnV0Tm90UGlwZWxpbmUgfHwgaXNDb21tYW5kRXhjbHVkZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVkaXMyW2NvbW1hbmRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwaXBlbGluZSA9IHJlZGlzMi5hdXRvUGlwZWxpbmVFeGVjdXRvci5waXBlbGluZTtcbiAgICAgIGNvbnN0IHRhcmdldEZ1bmN0aW9uID0gbmFtZXNwYWNlID09PSBcImpzb25cIiA/IHBpcGVsaW5lLmpzb25bY29tbWFuZF0gOiBuYW1lc3BhY2UgPT09IFwiZnVuY3Rpb25zXCIgPyBwaXBlbGluZS5mdW5jdGlvbnNbY29tbWFuZF0gOiBwaXBlbGluZVtjb21tYW5kXTtcbiAgICAgIGNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlb2YgdGFyZ2V0RnVuY3Rpb24gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIHJldHVybiByZWRpczIuYXV0b1BpcGVsaW5lRXhlY3V0b3Iud2l0aEF1dG9QaXBlbGluZSgocGlwZWxpbmUyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRGdW5jdGlvbjIgPSBuYW1lc3BhY2UgPT09IFwianNvblwiID8gcGlwZWxpbmUyLmpzb25bY29tbWFuZF0gOiBuYW1lc3BhY2UgPT09IFwiZnVuY3Rpb25zXCIgPyBwaXBlbGluZTIuZnVuY3Rpb25zW2NvbW1hbmRdIDogcGlwZWxpbmUyW2NvbW1hbmRdO1xuICAgICAgICAgICAgdGFyZ2V0RnVuY3Rpb24yKC4uLmFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldEZ1bmN0aW9uO1xuICAgIH1cbiAgfSk7XG59XG52YXIgQXV0b1BpcGVsaW5lRXhlY3V0b3IgPSBjbGFzcyB7XG4gIHBpcGVsaW5lUHJvbWlzZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgYWN0aXZlUGlwZWxpbmUgPSBudWxsO1xuICBpbmRleEluQ3VycmVudFBpcGVsaW5lID0gMDtcbiAgcmVkaXM7XG4gIHBpcGVsaW5lO1xuICAvLyBvbmx5IHRvIG1ha2Ugc3VyZSB0aGF0IHByb3h5IGNhbiB3b3JrXG4gIHBpcGVsaW5lQ291bnRlciA9IDA7XG4gIC8vIHRvIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgdGltZXMgYSBwaXBlbGluZSB3YXMgZXhlY3V0ZWRcbiAgY29uc3RydWN0b3IocmVkaXMpIHtcbiAgICB0aGlzLnJlZGlzID0gcmVkaXM7XG4gICAgdGhpcy5waXBlbGluZSA9IHJlZGlzLnBpcGVsaW5lKCk7XG4gIH1cbiAgYXN5bmMgd2l0aEF1dG9QaXBlbGluZShleGVjdXRlV2l0aFBpcGVsaW5lKSB7XG4gICAgY29uc3QgcGlwZWxpbmUgPSB0aGlzLmFjdGl2ZVBpcGVsaW5lID8/IHRoaXMucmVkaXMucGlwZWxpbmUoKTtcbiAgICBpZiAoIXRoaXMuYWN0aXZlUGlwZWxpbmUpIHtcbiAgICAgIHRoaXMuYWN0aXZlUGlwZWxpbmUgPSBwaXBlbGluZTtcbiAgICAgIHRoaXMuaW5kZXhJbkN1cnJlbnRQaXBlbGluZSA9IDA7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleEluQ3VycmVudFBpcGVsaW5lKys7XG4gICAgZXhlY3V0ZVdpdGhQaXBlbGluZShwaXBlbGluZSk7XG4gICAgY29uc3QgcGlwZWxpbmVEb25lID0gdGhpcy5kZWZlckV4ZWN1dGlvbigpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnBpcGVsaW5lUHJvbWlzZXMuaGFzKHBpcGVsaW5lKSkge1xuICAgICAgICBjb25zdCBwaXBlbGluZVByb21pc2UgPSBwaXBlbGluZS5leGVjKHsga2VlcEVycm9yczogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5waXBlbGluZUNvdW50ZXIgKz0gMTtcbiAgICAgICAgdGhpcy5waXBlbGluZVByb21pc2VzLnNldChwaXBlbGluZSwgcGlwZWxpbmVQcm9taXNlKTtcbiAgICAgICAgdGhpcy5hY3RpdmVQaXBlbGluZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5waXBlbGluZVByb21pc2VzLmdldChwaXBlbGluZSk7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBpcGVsaW5lRG9uZTtcbiAgICBjb25zdCBjb21tYW5kUmVzdWx0ID0gcmVzdWx0c1tpbmRleF07XG4gICAgaWYgKGNvbW1hbmRSZXN1bHQuZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBVcHN0YXNoRXJyb3IoYENvbW1hbmQgZmFpbGVkOiAke2NvbW1hbmRSZXN1bHQuZXJyb3J9YCk7XG4gICAgfVxuICAgIHJldHVybiBjb21tYW5kUmVzdWx0LnJlc3VsdDtcbiAgfVxuICBhc3luYyBkZWZlckV4ZWN1dGlvbigpIHtcbiAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy8gcGtnL2NvbW1hbmRzL3BzdWJzY3JpYmUudHNcbnZhciBQU3Vic2NyaWJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IHNzZUhlYWRlcnMgPSB7XG4gICAgICBBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcbiAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLWNhY2hlXCIsXG4gICAgICBDb25uZWN0aW9uOiBcImtlZXAtYWxpdmVcIlxuICAgIH07XG4gICAgc3VwZXIoW10sIHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICBoZWFkZXJzOiBzc2VIZWFkZXJzLFxuICAgICAgcGF0aDogW1wicHN1YnNjcmliZVwiLCAuLi5jbWRdLFxuICAgICAgc3RyZWFtT3B0aW9uczoge1xuICAgICAgICBpc1N0cmVhbWluZzogdHJ1ZSxcbiAgICAgICAgb25NZXNzYWdlOiBvcHRzPy5zdHJlYW1PcHRpb25zPy5vbk1lc3NhZ2UsXG4gICAgICAgIHNpZ25hbDogb3B0cz8uc3RyZWFtT3B0aW9ucz8uc2lnbmFsXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHBrZy9jb21tYW5kcy9zdWJzY3JpYmUudHNcbnZhciBTdWJzY3JpYmVyID0gY2xhc3MgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIHN1YnNjcmlwdGlvbnM7XG4gIGNsaWVudDtcbiAgbGlzdGVuZXJzO1xuICBvcHRzO1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGNoYW5uZWxzLCBpc1BhdHRlcm4gPSBmYWxzZSwgb3B0cykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICBmb3IgKGNvbnN0IGNoYW5uZWwgb2YgY2hhbm5lbHMpIHtcbiAgICAgIGlmIChpc1BhdHRlcm4pIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1BhdHRlcm4oY2hhbm5lbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvQ2hhbm5lbChjaGFubmVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3Vic2NyaWJlVG9DaGFubmVsKGNoYW5uZWwpIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgU3Vic2NyaWJlQ29tbWFuZChbY2hhbm5lbF0sIHtcbiAgICAgIHN0cmVhbU9wdGlvbnM6IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgb25NZXNzYWdlOiAoZGF0YSkgPT4gdGhpcy5oYW5kbGVNZXNzYWdlKGRhdGEsIGZhbHNlKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmQuZXhlYyh0aGlzLmNsaWVudCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IubmFtZSAhPT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKFwiZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQoY2hhbm5lbCwge1xuICAgICAgY29tbWFuZCxcbiAgICAgIGNvbnRyb2xsZXIsXG4gICAgICBpc1BhdHRlcm46IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgc3Vic2NyaWJlVG9QYXR0ZXJuKHBhdHRlcm4pIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgUFN1YnNjcmliZUNvbW1hbmQoW3BhdHRlcm5dLCB7XG4gICAgICBzdHJlYW1PcHRpb25zOiB7XG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIG9uTWVzc2FnZTogKGRhdGEpID0+IHRoaXMuaGFuZGxlTWVzc2FnZShkYXRhLCB0cnVlKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmQuZXhlYyh0aGlzLmNsaWVudCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IubmFtZSAhPT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKFwiZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQocGF0dGVybiwge1xuICAgICAgY29tbWFuZCxcbiAgICAgIGNvbnRyb2xsZXIsXG4gICAgICBpc1BhdHRlcm46IHRydWVcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVNZXNzYWdlKGRhdGEsIGlzUGF0dGVybikge1xuICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0gZGF0YS5yZXBsYWNlKC9eZGF0YTpcXHMqLywgXCJcIik7XG4gICAgY29uc3QgZmlyc3RDb21tYUluZGV4ID0gbWVzc2FnZURhdGEuaW5kZXhPZihcIixcIik7XG4gICAgY29uc3Qgc2Vjb25kQ29tbWFJbmRleCA9IG1lc3NhZ2VEYXRhLmluZGV4T2YoXCIsXCIsIGZpcnN0Q29tbWFJbmRleCArIDEpO1xuICAgIGNvbnN0IHRoaXJkQ29tbWFJbmRleCA9IGlzUGF0dGVybiA/IG1lc3NhZ2VEYXRhLmluZGV4T2YoXCIsXCIsIHNlY29uZENvbW1hSW5kZXggKyAxKSA6IC0xO1xuICAgIGlmIChmaXJzdENvbW1hSW5kZXggIT09IC0xICYmIHNlY29uZENvbW1hSW5kZXggIT09IC0xKSB7XG4gICAgICBjb25zdCB0eXBlID0gbWVzc2FnZURhdGEuc2xpY2UoMCwgZmlyc3RDb21tYUluZGV4KTtcbiAgICAgIGlmIChpc1BhdHRlcm4gJiYgdHlwZSA9PT0gXCJwbWVzc2FnZVwiICYmIHRoaXJkQ29tbWFJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IG1lc3NhZ2VEYXRhLnNsaWNlKGZpcnN0Q29tbWFJbmRleCArIDEsIHNlY29uZENvbW1hSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGFubmVsID0gbWVzc2FnZURhdGEuc2xpY2Uoc2Vjb25kQ29tbWFJbmRleCArIDEsIHRoaXJkQ29tbWFJbmRleCk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VTdHIgPSBtZXNzYWdlRGF0YS5zbGljZSh0aGlyZENvbW1hSW5kZXggKyAxKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5vcHRzPy5hdXRvbWF0aWNEZXNlcmlhbGl6YXRpb24gPT09IGZhbHNlID8gbWVzc2FnZVN0ciA6IEpTT04ucGFyc2UobWVzc2FnZVN0cik7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKFwicG1lc3NhZ2VcIiwgeyBwYXR0ZXJuLCBjaGFubmVsLCBtZXNzYWdlIH0pO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUb0xpc3RlbmVycyhgcG1lc3NhZ2U6JHtwYXR0ZXJufWAsIHsgcGF0dGVybiwgY2hhbm5lbCwgbWVzc2FnZSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoVG9MaXN0ZW5lcnMoXCJlcnJvclwiLCBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBtZXNzYWdlOiAke2Vycm9yfWApKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IG1lc3NhZ2VEYXRhLnNsaWNlKGZpcnN0Q29tbWFJbmRleCArIDEsIHNlY29uZENvbW1hSW5kZXgpO1xuICAgICAgICBjb25zdCBtZXNzYWdlU3RyID0gbWVzc2FnZURhdGEuc2xpY2Uoc2Vjb25kQ29tbWFJbmRleCArIDEpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0eXBlID09PSBcInN1YnNjcmliZVwiIHx8IHR5cGUgPT09IFwicHN1YnNjcmliZVwiIHx8IHR5cGUgPT09IFwidW5zdWJzY3JpYmVcIiB8fCB0eXBlID09PSBcInB1bnN1YnNjcmliZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IE51bWJlci5wYXJzZUludChtZXNzYWdlU3RyKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUb0xpc3RlbmVycyh0eXBlLCBjb3VudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm9wdHM/LmF1dG9tYXRpY0Rlc2VyaWFsaXphdGlvbiA9PT0gZmFsc2UgPyBtZXNzYWdlU3RyIDogcGFyc2VXaXRoVHJ5Q2F0Y2gobWVzc2FnZVN0cik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoVG9MaXN0ZW5lcnModHlwZSwgeyBjaGFubmVsLCBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFRvTGlzdGVuZXJzKGAke3R5cGV9OiR7Y2hhbm5lbH1gLCB7IGNoYW5uZWwsIG1lc3NhZ2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hUb0xpc3RlbmVycyhcImVycm9yXCIsIG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIG1lc3NhZ2U6ICR7ZXJyb3J9YCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRpc3BhdGNoVG9MaXN0ZW5lcnModHlwZSwgZGF0YSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldCh0eXBlKTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICBsaXN0ZW5lcihkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyh0eXBlKSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHR5cGUsIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycy5nZXQodHlwZSk/LmFkZChsaXN0ZW5lcik7XG4gIH1cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gIH1cbiAgYXN5bmMgdW5zdWJzY3JpYmUoY2hhbm5lbHMpIHtcbiAgICBpZiAoY2hhbm5lbHMpIHtcbiAgICAgIGZvciAoY29uc3QgY2hhbm5lbCBvZiBjaGFubmVscykge1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGNoYW5uZWwpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoY2hhbm5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgdGhpcy5zdWJzY3JpcHRpb25zLnZhbHVlcygpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5jbGVhcigpO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cbiAgZ2V0U3Vic2NyaWJlZENoYW5uZWxzKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5zdWJzY3JpcHRpb25zLmtleXMoKV07XG4gIH1cbn07XG52YXIgU3Vic2NyaWJlQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZCB7XG4gIGNvbnN0cnVjdG9yKGNtZCwgb3B0cykge1xuICAgIGNvbnN0IHNzZUhlYWRlcnMgPSB7XG4gICAgICBBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcbiAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLWNhY2hlXCIsXG4gICAgICBDb25uZWN0aW9uOiBcImtlZXAtYWxpdmVcIlxuICAgIH07XG4gICAgc3VwZXIoW10sIHtcbiAgICAgIC4uLm9wdHMsXG4gICAgICBoZWFkZXJzOiBzc2VIZWFkZXJzLFxuICAgICAgcGF0aDogW1wic3Vic2NyaWJlXCIsIC4uLmNtZF0sXG4gICAgICBzdHJlYW1PcHRpb25zOiB7XG4gICAgICAgIGlzU3RyZWFtaW5nOiB0cnVlLFxuICAgICAgICBvbk1lc3NhZ2U6IG9wdHM/LnN0cmVhbU9wdGlvbnM/Lm9uTWVzc2FnZSxcbiAgICAgICAgc2lnbmFsOiBvcHRzPy5zdHJlYW1PcHRpb25zPy5zaWduYWxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbnZhciBwYXJzZVdpdGhUcnlDYXRjaCA9IChzdHIpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59O1xuXG4vLyBwa2cvc2NyaXB0LnRzXG5pbXBvcnQgeyBzdWJ0bGUgfSBmcm9tIFwidW5jcnlwdG9cIjtcbnZhciBTY3JpcHQgPSBjbGFzcyB7XG4gIHNjcmlwdDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgcHJvcGVydHkgaXMgaW5pdGlhbGl6ZWQgdG8gYW4gZW1wdHkgc3RyaW5nIGFuZCB3aWxsIGJlIHNldCBpbiB0aGUgaW5pdCBtZXRob2RcbiAgICogYXN5bmNocm9ub3VzbHkuIERvIG5vdCB1c2UgdGhpcyBwcm9wZXJ0eSBpbW1pZGlhdGVseSBhZnRlciB0aGUgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb25seSBleHBvc2VkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZVxuICAgKiBmdXR1cmUgbWFqb3IgcmVsZWFzZS5cbiAgICovXG4gIHNoYTE7XG4gIHJlZGlzO1xuICBjb25zdHJ1Y3RvcihyZWRpcywgc2NyaXB0KSB7XG4gICAgdGhpcy5yZWRpcyA9IHJlZGlzO1xuICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuICAgIHRoaXMuc2hhMSA9IFwiXCI7XG4gICAgdm9pZCB0aGlzLmluaXQoc2NyaXB0KTtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgc2NyaXB0IGJ5IGNvbXB1dGluZyBpdHMgU0hBLTEgaGFzaC5cbiAgICovXG4gIGFzeW5jIGluaXQoc2NyaXB0KSB7XG4gICAgaWYgKHRoaXMuc2hhMSkgcmV0dXJuO1xuICAgIHRoaXMuc2hhMSA9IGF3YWl0IHRoaXMuZGlnZXN0KHNjcmlwdCk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmQgYW4gYEVWQUxgIGNvbW1hbmQgdG8gcmVkaXMuXG4gICAqL1xuICBhc3luYyBldmFsKGtleXMsIGFyZ3MpIHtcbiAgICBhd2FpdCB0aGlzLmluaXQodGhpcy5zY3JpcHQpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlZGlzLmV2YWwodGhpcy5zY3JpcHQsIGtleXMsIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzaGExIGhhc2ggb2YgdGhlIHNjcmlwdCBhbmQgdGhlbiBjYWxscyBgRVZBTFNIQWAuXG4gICAqL1xuICBhc3luYyBldmFsc2hhKGtleXMsIGFyZ3MpIHtcbiAgICBhd2FpdCB0aGlzLmluaXQodGhpcy5zY3JpcHQpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlZGlzLmV2YWxzaGEodGhpcy5zaGExLCBrZXlzLCBhcmdzKTtcbiAgfVxuICAvKipcbiAgICogT3B0aW1pc3RpY2FsbHkgdHJ5IHRvIHJ1biBgRVZBTFNIQWAgZmlyc3QuXG4gICAqIElmIHRoZSBzY3JpcHQgaXMgbm90IGxvYWRlZCBpbiByZWRpcywgaXQgd2lsbCBmYWxsIGJhY2sgYW5kIHRyeSBhZ2FpbiB3aXRoIGBFVkFMYC5cbiAgICpcbiAgICogRm9sbG93aW5nIGNhbGxzIHdpbGwgYmUgYWJsZSB0byB1c2UgdGhlIGNhY2hlZCBzY3JpcHRcbiAgICovXG4gIGFzeW5jIGV4ZWMoa2V5cywgYXJncykge1xuICAgIGF3YWl0IHRoaXMuaW5pdCh0aGlzLnNjcmlwdCk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5yZWRpcy5ldmFsc2hhKHRoaXMuc2hhMSwga2V5cywgYXJncykuY2F0Y2goYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJub3NjcmlwdFwiKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWRpcy5ldmFsKHRoaXMuc2NyaXB0LCBrZXlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIHNoYTEgaGFzaCBvZiB0aGUgc2NyaXB0IGFuZCByZXR1cm4gaXRzIGhleCByZXByZXNlbnRhdGlvbi5cbiAgICovXG4gIGFzeW5jIGRpZ2VzdChzKSB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTtcbiAgICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgc3VidGxlLmRpZ2VzdChcIlNIQS0xXCIsIGRhdGEpO1xuICAgIGNvbnN0IGhhc2hBcnJheSA9IFsuLi5uZXcgVWludDhBcnJheShoYXNoQnVmZmVyKV07XG4gICAgcmV0dXJuIGhhc2hBcnJheS5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbiAgfVxufTtcblxuLy8gcGtnL3NjcmlwdFJvLnRzXG5pbXBvcnQgeyBzdWJ0bGUgYXMgc3VidGxlMiB9IGZyb20gXCJ1bmNyeXB0b1wiO1xudmFyIFNjcmlwdFJPID0gY2xhc3Mge1xuICBzY3JpcHQ7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIHByb3BlcnR5IGlzIGluaXRpYWxpemVkIHRvIGFuIGVtcHR5IHN0cmluZyBhbmQgd2lsbCBiZSBzZXQgaW4gdGhlIGluaXQgbWV0aG9kXG4gICAqIGFzeW5jaHJvbm91c2x5LiBEbyBub3QgdXNlIHRoaXMgcHJvcGVydHkgaW1taWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBUaGlzIHByb3BlcnR5IGlzIG9ubHkgZXhwb3NlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGVcbiAgICogZnV0dXJlIG1ham9yIHJlbGVhc2UuXG4gICAqL1xuICBzaGExO1xuICByZWRpcztcbiAgY29uc3RydWN0b3IocmVkaXMsIHNjcmlwdCkge1xuICAgIHRoaXMucmVkaXMgPSByZWRpcztcbiAgICB0aGlzLnNoYTEgPSBcIlwiO1xuICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuICAgIHZvaWQgdGhpcy5pbml0KHNjcmlwdCk7XG4gIH1cbiAgYXN5bmMgaW5pdChzY3JpcHQpIHtcbiAgICBpZiAodGhpcy5zaGExKSByZXR1cm47XG4gICAgdGhpcy5zaGExID0gYXdhaXQgdGhpcy5kaWdlc3Qoc2NyaXB0KTtcbiAgfVxuICAvKipcbiAgICogU2VuZCBhbiBgRVZBTF9ST2AgY29tbWFuZCB0byByZWRpcy5cbiAgICovXG4gIGFzeW5jIGV2YWxSbyhrZXlzLCBhcmdzKSB7XG4gICAgYXdhaXQgdGhpcy5pbml0KHRoaXMuc2NyaXB0KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWRpcy5ldmFsUm8odGhpcy5zY3JpcHQsIGtleXMsIGFyZ3MpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBzaGExIGhhc2ggb2YgdGhlIHNjcmlwdCBhbmQgdGhlbiBjYWxscyBgRVZBTFNIQV9ST2AuXG4gICAqL1xuICBhc3luYyBldmFsc2hhUm8oa2V5cywgYXJncykge1xuICAgIGF3YWl0IHRoaXMuaW5pdCh0aGlzLnNjcmlwdCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucmVkaXMuZXZhbHNoYVJvKHRoaXMuc2hhMSwga2V5cywgYXJncyk7XG4gIH1cbiAgLyoqXG4gICAqIE9wdGltaXN0aWNhbGx5IHRyeSB0byBydW4gYEVWQUxTSEFfUk9gIGZpcnN0LlxuICAgKiBJZiB0aGUgc2NyaXB0IGlzIG5vdCBsb2FkZWQgaW4gcmVkaXMsIGl0IHdpbGwgZmFsbCBiYWNrIGFuZCB0cnkgYWdhaW4gd2l0aCBgRVZBTF9ST2AuXG4gICAqXG4gICAqIEZvbGxvd2luZyBjYWxscyB3aWxsIGJlIGFibGUgdG8gdXNlIHRoZSBjYWNoZWQgc2NyaXB0XG4gICAqL1xuICBhc3luYyBleGVjKGtleXMsIGFyZ3MpIHtcbiAgICBhd2FpdCB0aGlzLmluaXQodGhpcy5zY3JpcHQpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucmVkaXMuZXZhbHNoYVJvKHRoaXMuc2hhMSwga2V5cywgYXJncykuY2F0Y2goYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJub3NjcmlwdFwiKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWRpcy5ldmFsUm8odGhpcy5zY3JpcHQsIGtleXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgc2hhMSBoYXNoIG9mIHRoZSBzY3JpcHQgYW5kIHJldHVybiBpdHMgaGV4IHJlcHJlc2VudGF0aW9uLlxuICAgKi9cbiAgYXN5bmMgZGlnZXN0KHMpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHMpO1xuICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBzdWJ0bGUyLmRpZ2VzdChcIlNIQS0xXCIsIGRhdGEpO1xuICAgIGNvbnN0IGhhc2hBcnJheSA9IFsuLi5uZXcgVWludDhBcnJheShoYXNoQnVmZmVyKV07XG4gICAgcmV0dXJuIGhhc2hBcnJheS5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSkuam9pbihcIlwiKTtcbiAgfVxufTtcblxuLy8gcGtnL3JlZGlzLnRzXG52YXIgUmVkaXMgPSBjbGFzcyB7XG4gIGNsaWVudDtcbiAgb3B0cztcbiAgZW5hYmxlVGVsZW1ldHJ5O1xuICBlbmFibGVBdXRvUGlwZWxpbmluZztcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyByZWRpcyBjbGllbnRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBjb25zdCByZWRpcyA9IG5ldyBSZWRpcyh7XG4gICAqICB1cmw6IFwiPFVQU1RBU0hfUkVESVNfUkVTVF9VUkw+XCIsXG4gICAqICB0b2tlbjogXCI8VVBTVEFTSF9SRURJU19SRVNUX1RPS0VOPlwiLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIG9wdHMpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgIHRoaXMuZW5hYmxlVGVsZW1ldHJ5ID0gb3B0cz8uZW5hYmxlVGVsZW1ldHJ5ID8/IHRydWU7XG4gICAgaWYgKG9wdHM/LnJlYWRZb3VyV3JpdGVzID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5jbGllbnQucmVhZFlvdXJXcml0ZXMgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5lbmFibGVBdXRvUGlwZWxpbmluZyA9IG9wdHM/LmVuYWJsZUF1dG9QaXBlbGluaW5nID8/IHRydWU7XG4gIH1cbiAgZ2V0IHJlYWRZb3VyV3JpdGVzU3luY1Rva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC51cHN0YXNoU3luY1Rva2VuO1xuICB9XG4gIHNldCByZWFkWW91cldyaXRlc1N5bmNUb2tlbihzZXNzaW9uKSB7XG4gICAgdGhpcy5jbGllbnQudXBzdGFzaFN5bmNUb2tlbiA9IHNlc3Npb247XG4gIH1cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJyYXBwZW5kXG4gICAgICAgKi9cbiAgICAgIGFycmFwcGVuZDogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJyQXBwZW5kQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5hcnJpbmRleFxuICAgICAgICovXG4gICAgICBhcnJpbmRleDogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJySW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLmFycmluc2VydFxuICAgICAgICovXG4gICAgICBhcnJpbnNlcnQ6ICguLi5hcmdzKSA9PiBuZXcgSnNvbkFyckluc2VydENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uYXJybGVuXG4gICAgICAgKi9cbiAgICAgIGFycmxlbjogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJyTGVuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5hcnJwb3BcbiAgICAgICAqL1xuICAgICAgYXJycG9wOiAoLi4uYXJncykgPT4gbmV3IEpzb25BcnJQb3BDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLmFycnRyaW1cbiAgICAgICAqL1xuICAgICAgYXJydHJpbTogKC4uLmFyZ3MpID0+IG5ldyBKc29uQXJyVHJpbUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uY2xlYXJcbiAgICAgICAqL1xuICAgICAgY2xlYXI6ICguLi5hcmdzKSA9PiBuZXcgSnNvbkNsZWFyQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5kZWxcbiAgICAgICAqL1xuICAgICAgZGVsOiAoLi4uYXJncykgPT4gbmV3IEpzb25EZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLmZvcmdldFxuICAgICAgICovXG4gICAgICBmb3JnZXQ6ICguLi5hcmdzKSA9PiBuZXcgSnNvbkZvcmdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uZ2V0XG4gICAgICAgKi9cbiAgICAgIGdldDogKC4uLmFyZ3MpID0+IG5ldyBKc29uR2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5tZXJnZVxuICAgICAgICovXG4gICAgICBtZXJnZTogKC4uLmFyZ3MpID0+IG5ldyBKc29uTWVyZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLm1nZXRcbiAgICAgICAqL1xuICAgICAgbWdldDogKC4uLmFyZ3MpID0+IG5ldyBKc29uTUdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ubXNldFxuICAgICAgICovXG4gICAgICBtc2V0OiAoLi4uYXJncykgPT4gbmV3IEpzb25NU2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5udW1pbmNyYnlcbiAgICAgICAqL1xuICAgICAgbnVtaW5jcmJ5OiAoLi4uYXJncykgPT4gbmV3IEpzb25OdW1JbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLm51bW11bHRieVxuICAgICAgICovXG4gICAgICBudW1tdWx0Ynk6ICguLi5hcmdzKSA9PiBuZXcgSnNvbk51bU11bHRCeUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24ub2Jqa2V5c1xuICAgICAgICovXG4gICAgICBvYmprZXlzOiAoLi4uYXJncykgPT4gbmV3IEpzb25PYmpLZXlzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5vYmpsZW5cbiAgICAgICAqL1xuICAgICAgb2JqbGVuOiAoLi4uYXJncykgPT4gbmV3IEpzb25PYmpMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLnJlc3BcbiAgICAgICAqL1xuICAgICAgcmVzcDogKC4uLmFyZ3MpID0+IG5ldyBKc29uUmVzcENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24uc2V0XG4gICAgICAgKi9cbiAgICAgIHNldDogKC4uLmFyZ3MpID0+IG5ldyBKc29uU2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi5zdHJhcHBlbmRcbiAgICAgICAqL1xuICAgICAgc3RyYXBwZW5kOiAoLi4uYXJncykgPT4gbmV3IEpzb25TdHJBcHBlbmRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9qc29uLnN0cmxlblxuICAgICAgICovXG4gICAgICBzdHJsZW46ICguLi5hcmdzKSA9PiBuZXcgSnNvblN0ckxlbkNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2pzb24udG9nZ2xlXG4gICAgICAgKi9cbiAgICAgIHRvZ2dsZTogKC4uLmFyZ3MpID0+IG5ldyBKc29uVG9nZ2xlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvanNvbi50eXBlXG4gICAgICAgKi9cbiAgICAgIHR5cGU6ICguLi5hcmdzKSA9PiBuZXcgSnNvblR5cGVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudClcbiAgICB9O1xuICB9XG4gIGdldCBmdW5jdGlvbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2Z1bmN0aW9uLWxvYWQvXG4gICAgICAgKi9cbiAgICAgIGxvYWQ6ICguLi5hcmdzKSA9PiBuZXcgRnVuY3Rpb25Mb2FkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZnVuY3Rpb24tbGlzdC9cbiAgICAgICAqL1xuICAgICAgbGlzdDogKC4uLmFyZ3MpID0+IG5ldyBGdW5jdGlvbkxpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9kb2NzL2xhdGVzdC9jb21tYW5kcy9mdW5jdGlvbi1kZWxldGUvXG4gICAgICAgKi9cbiAgICAgIGRlbGV0ZTogKC4uLmFyZ3MpID0+IG5ldyBGdW5jdGlvbkRlbGV0ZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2Z1bmN0aW9uLWZsdXNoL1xuICAgICAgICovXG4gICAgICBmbHVzaDogKCkgPT4gbmV3IEZ1bmN0aW9uRmx1c2hDb21tYW5kKHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCksXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9kb2NzL2xhdGVzdC9jb21tYW5kcy9mdW5jdGlvbi1zdGF0cy9cbiAgICAgICAqXG4gICAgICAgKiBOb3RlOiBgcnVubmluZ19zY3JpcHRgIGZpZWxkIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHRoZXJlZm9yZSBub3QgaW5jbHVkZWQgaW4gdGhlIHR5cGUuXG4gICAgICAgKi9cbiAgICAgIHN0YXRzOiAoKSA9PiBuZXcgRnVuY3Rpb25TdGF0c0NvbW1hbmQodGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KSxcbiAgICAgIC8qKlxuICAgICAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2RvY3MvbGF0ZXN0L2NvbW1hbmRzL2ZjYWxsL1xuICAgICAgICovXG4gICAgICBjYWxsOiAoLi4uYXJncykgPT4gbmV3IEZDYWxsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vZG9jcy9sYXRlc3QvY29tbWFuZHMvZmNhbGxfcm8vXG4gICAgICAgKi9cbiAgICAgIGNhbGxSbzogKC4uLmFyZ3MpID0+IG5ldyBGQ2FsbFJvQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogV3JhcCBhIG5ldyBtaWRkbGV3YXJlIGFyb3VuZCB0aGUgSFRUUCBjbGllbnQuXG4gICAqL1xuICB1c2UgPSAobWlkZGxld2FyZSkgPT4ge1xuICAgIGNvbnN0IG1ha2VSZXF1ZXN0ID0gdGhpcy5jbGllbnQucmVxdWVzdC5iaW5kKHRoaXMuY2xpZW50KTtcbiAgICB0aGlzLmNsaWVudC5yZXF1ZXN0ID0gKHJlcSkgPT4gbWlkZGxld2FyZShyZXEsIG1ha2VSZXF1ZXN0KTtcbiAgfTtcbiAgLyoqXG4gICAqIFRlY2huaWNhbGx5IHRoaXMgaXMgbm90IHByaXZhdGUsIHdlIGNhbiBoaWRlIGl0IGZyb20gaW50ZWxsaXNlbnNlIGJ5IGRvaW5nIHRoaXNcbiAgICovXG4gIGFkZFRlbGVtZXRyeSA9ICh0ZWxlbWV0cnkpID0+IHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlVGVsZW1ldHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLmNsaWVudC5tZXJnZVRlbGVtZXRyeSh0ZWxlbWV0cnkpO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgc2NyaXB0LlxuICAgKlxuICAgKiBTY3JpcHRzIG9mZmVyIHRoZSBhYmlsaXR5IHRvIG9wdGltaXN0aWNhbGx5IHRyeSB0byBleGVjdXRlIGEgc2NyaXB0IHdpdGhvdXQgaGF2aW5nIHRvIHNlbmQgdGhlXG4gICAqIGVudGlyZSBzY3JpcHQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHNjcmlwdCBpcyBsb2FkZWQgb24gdGhlIHNlcnZlciwgaXQgdHJpZXMgYWdhaW4gYnkgc2VuZGluZ1xuICAgKiB0aGUgZW50aXJlIHNjcmlwdC4gQWZ0ZXJ3YXJkcywgdGhlIHNjcmlwdCBpcyBjYWNoZWQgb24gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHBhcmFtIHNjcmlwdCAtIFRoZSBzY3JpcHQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRzIC0gT3B0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBzY3JpcHQgYHsgcmVhZG9ubHk/OiBib29sZWFuIH1gXG4gICAqIEByZXR1cm5zIEEgbmV3IHNjcmlwdFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZWRpcyA9IG5ldyBSZWRpcyh7Li4ufSlcbiAgICpcbiAgICogY29uc3Qgc2NyaXB0ID0gcmVkaXMuY3JlYXRlU2NyaXB0PHN0cmluZz4oXCJyZXR1cm4gQVJHVlsxXTtcIilcbiAgICogY29uc3QgYXJnMSA9IGF3YWl0IHNjcmlwdC5ldmFsKFtdLCBbXCJIZWxsbyBXb3JsZFwiXSlcbiAgICogZXhwZWN0KGFyZzEsIFwiSGVsbG8gV29ybGRcIilcbiAgICogYGBgXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlZGlzID0gbmV3IFJlZGlzKHsuLi59KVxuICAgKlxuICAgKiBjb25zdCBzY3JpcHQgPSByZWRpcy5jcmVhdGVTY3JpcHQ8c3RyaW5nPihcInJldHVybiBBUkdWWzFdO1wiLCB7IHJlYWRvbmx5OiB0cnVlIH0pXG4gICAqIGNvbnN0IGFyZzEgPSBhd2FpdCBzY3JpcHQuZXZhbFJvKFtdLCBbXCJIZWxsbyBXb3JsZFwiXSlcbiAgICogZXhwZWN0KGFyZzEsIFwiSGVsbG8gV29ybGRcIilcbiAgICogYGBgXG4gICAqL1xuICBjcmVhdGVTY3JpcHQoc2NyaXB0LCBvcHRzKSB7XG4gICAgcmV0dXJuIG9wdHM/LnJlYWRvbmx5ID8gbmV3IFNjcmlwdFJPKHRoaXMsIHNjcmlwdCkgOiBuZXcgU2NyaXB0KHRoaXMsIHNjcmlwdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwaXBlbGluZSB0aGF0IGFsbG93cyB5b3UgdG8gc2VuZCByZXF1ZXN0cyBpbiBidWxrLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBQaXBlbGluZX1cbiAgICovXG4gIHBpcGVsaW5lID0gKCkgPT4gbmV3IFBpcGVsaW5lKHtcbiAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgIGNvbW1hbmRPcHRpb25zOiB0aGlzLm9wdHMsXG4gICAgbXVsdGlFeGVjOiBmYWxzZVxuICB9KTtcbiAgYXV0b1BpcGVsaW5lID0gKCkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVBdXRvUGlwZWxpbmVQcm94eSh0aGlzKTtcbiAgfTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiB0byBhbGxvdyBleGVjdXRpbmcgbXVsdGlwbGUgc3RlcHMgYXRvbWljYWxseS5cbiAgICpcbiAgICogQWxsIHRoZSBjb21tYW5kcyBpbiBhIHRyYW5zYWN0aW9uIGFyZSBzZXJpYWxpemVkIGFuZCBleGVjdXRlZCBzZXF1ZW50aWFsbHkuIEEgcmVxdWVzdCBzZW50IGJ5XG4gICAqIGFub3RoZXIgY2xpZW50IHdpbGwgbmV2ZXIgYmUgc2VydmVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIGV4ZWN1dGlvbiBvZiBhIFJlZGlzIFRyYW5zYWN0aW9uLiBUaGlzXG4gICAqIGd1YXJhbnRlZXMgdGhhdCB0aGUgY29tbWFuZHMgYXJlIGV4ZWN1dGVkIGFzIGEgc2luZ2xlIGlzb2xhdGVkIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgUGlwZWxpbmV9XG4gICAqL1xuICBtdWx0aSA9ICgpID0+IG5ldyBQaXBlbGluZSh7XG4gICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICBjb21tYW5kT3B0aW9uczogdGhpcy5vcHRzLFxuICAgIG11bHRpRXhlYzogdHJ1ZVxuICB9KTtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gaW5zdGFuY2UgdGhhdCBjYW4gYmUgdXNlZCB0byBleGVjdXRlIGBCSVRGSUVMRGAgY29tbWFuZHMgb24gb25lIGtleS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiByZWRpcy5zZXQoXCJteWtleVwiLCAwKTtcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVkaXMuYml0ZmllbGQoXCJteWtleVwiKVxuICAgKiAgIC5zZXQoXCJ1NFwiLCAwLCAxNilcbiAgICogICAuaW5jcihcInU0XCIsIFwiIzFcIiwgMSlcbiAgICogICAuZXhlYygpO1xuICAgKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyBbMCwgMV1cbiAgICogYGBgXG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9iaXRmaWVsZFxuICAgKi9cbiAgYml0ZmllbGQgPSAoLi4uYXJncykgPT4gbmV3IEJpdEZpZWxkQ29tbWFuZChhcmdzLCB0aGlzLmNsaWVudCwgdGhpcy5vcHRzKTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9hcHBlbmRcbiAgICovXG4gIGFwcGVuZCA9ICguLi5hcmdzKSA9PiBuZXcgQXBwZW5kQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdGNvdW50XG4gICAqL1xuICBiaXRjb3VudCA9ICguLi5hcmdzKSA9PiBuZXcgQml0Q291bnRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvYml0b3BcbiAgICovXG4gIGJpdG9wID0gKG9wLCBkZXN0aW5hdGlvbktleSwgc291cmNlS2V5LCAuLi5zb3VyY2VLZXlzKSA9PiBuZXcgQml0T3BDb21tYW5kKFtvcCwgZGVzdGluYXRpb25LZXksIHNvdXJjZUtleSwgLi4uc291cmNlS2V5c10sIHRoaXMub3B0cykuZXhlYyhcbiAgICB0aGlzLmNsaWVudFxuICApO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2JpdHBvc1xuICAgKi9cbiAgYml0cG9zID0gKC4uLmFyZ3MpID0+IG5ldyBCaXRQb3NDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvY2xpZW50LXNldGluZm9cbiAgICovXG4gIGNsaWVudFNldGluZm8gPSAoLi4uYXJncykgPT4gbmV3IENsaWVudFNldEluZm9Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvY29weVxuICAgKi9cbiAgY29weSA9ICguLi5hcmdzKSA9PiBuZXcgQ29weUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9kYnNpemVcbiAgICovXG4gIGRic2l6ZSA9ICgpID0+IG5ldyBEQlNpemVDb21tYW5kKHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZGVjclxuICAgKi9cbiAgZGVjciA9ICguLi5hcmdzKSA9PiBuZXcgRGVjckNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9kZWNyYnlcbiAgICovXG4gIGRlY3JieSA9ICguLi5hcmdzKSA9PiBuZXcgRGVjckJ5Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2RlbFxuICAgKi9cbiAgZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBEZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZWNob1xuICAgKi9cbiAgZWNobyA9ICguLi5hcmdzKSA9PiBuZXcgRWNob0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ldmFsX3JvXG4gICAqL1xuICBldmFsUm8gPSAoLi4uYXJncykgPT4gbmV3IEV2YWxST0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ldmFsXG4gICAqL1xuICBldmFsID0gKC4uLmFyZ3MpID0+IG5ldyBFdmFsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxzaGFfcm9cbiAgICovXG4gIGV2YWxzaGFSbyA9ICguLi5hcmdzKSA9PiBuZXcgRXZhbHNoYVJPQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V2YWxzaGFcbiAgICovXG4gIGV2YWxzaGEgPSAoLi4uYXJncykgPT4gbmV3IEV2YWxzaGFDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBHZW5lcmljIG1ldGhvZCB0byBleGVjdXRlIGFueSBSZWRpcyBjb21tYW5kLlxuICAgKi9cbiAgZXhlYyA9IChhcmdzKSA9PiBuZXcgRXhlY0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9leGlzdHNcbiAgICovXG4gIGV4aXN0cyA9ICguLi5hcmdzKSA9PiBuZXcgRXhpc3RzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2V4cGlyZVxuICAgKi9cbiAgZXhwaXJlID0gKC4uLmFyZ3MpID0+IG5ldyBFeHBpcmVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZXhwaXJlYXRcbiAgICovXG4gIGV4cGlyZWF0ID0gKC4uLmFyZ3MpID0+IG5ldyBFeHBpcmVBdENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9mbHVzaGFsbFxuICAgKi9cbiAgZmx1c2hhbGwgPSAoYXJncykgPT4gbmV3IEZsdXNoQWxsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2ZsdXNoZGJcbiAgICovXG4gIGZsdXNoZGIgPSAoLi4uYXJncykgPT4gbmV3IEZsdXNoREJDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2VvYWRkXG4gICAqL1xuICBnZW9hZGQgPSAoLi4uYXJncykgPT4gbmV3IEdlb0FkZENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9wb3NcbiAgICovXG4gIGdlb3BvcyA9ICguLi5hcmdzKSA9PiBuZXcgR2VvUG9zQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dlb2Rpc3RcbiAgICovXG4gIGdlb2Rpc3QgPSAoLi4uYXJncykgPT4gbmV3IEdlb0Rpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2VvaGFzaFxuICAgKi9cbiAgZ2VvaGFzaCA9ICguLi5hcmdzKSA9PiBuZXcgR2VvSGFzaENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZW9zZWFyY2hcbiAgICovXG4gIGdlb3NlYXJjaCA9ICguLi5hcmdzKSA9PiBuZXcgR2VvU2VhcmNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dlb3NlYXJjaHN0b3JlXG4gICAqL1xuICBnZW9zZWFyY2hzdG9yZSA9ICguLi5hcmdzKSA9PiBuZXcgR2VvU2VhcmNoU3RvcmVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2V0XG4gICAqL1xuICBnZXQgPSAoLi4uYXJncykgPT4gbmV3IEdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRiaXRcbiAgICovXG4gIGdldGJpdCA9ICguLi5hcmdzKSA9PiBuZXcgR2V0Qml0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dldGRlbFxuICAgKi9cbiAgZ2V0ZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBHZXREZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvZ2V0ZXhcbiAgICovXG4gIGdldGV4ID0gKC4uLmFyZ3MpID0+IG5ldyBHZXRFeENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9nZXRyYW5nZVxuICAgKi9cbiAgZ2V0cmFuZ2UgPSAoLi4uYXJncykgPT4gbmV3IEdldFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2dldHNldFxuICAgKi9cbiAgZ2V0c2V0ID0gKGtleSwgdmFsdWUpID0+IG5ldyBHZXRTZXRDb21tYW5kKFtrZXksIHZhbHVlXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oZGVsXG4gICAqL1xuICBoZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBIRGVsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleGlzdHNcbiAgICovXG4gIGhleGlzdHMgPSAoLi4uYXJncykgPT4gbmV3IEhFeGlzdHNDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGV4cGlyZVxuICAgKi9cbiAgaGV4cGlyZSA9ICguLi5hcmdzKSA9PiBuZXcgSEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oZXhwaXJlYXRcbiAgICovXG4gIGhleHBpcmVhdCA9ICguLi5hcmdzKSA9PiBuZXcgSEV4cGlyZUF0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hleHBpcmV0aW1lXG4gICAqL1xuICBoZXhwaXJldGltZSA9ICguLi5hcmdzKSA9PiBuZXcgSEV4cGlyZVRpbWVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHR0bFxuICAgKi9cbiAgaHR0bCA9ICguLi5hcmdzKSA9PiBuZXcgSFR0bENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ocGV4cGlyZVxuICAgKi9cbiAgaHBleHBpcmUgPSAoLi4uYXJncykgPT4gbmV3IEhQRXhwaXJlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXhwaXJlYXRcbiAgICovXG4gIGhwZXhwaXJlYXQgPSAoLi4uYXJncykgPT4gbmV3IEhQRXhwaXJlQXRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHBleHBpcmV0aW1lXG4gICAqL1xuICBocGV4cGlyZXRpbWUgPSAoLi4uYXJncykgPT4gbmV3IEhQRXhwaXJlVGltZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ocHR0bFxuICAgKi9cbiAgaHB0dGwgPSAoLi4uYXJncykgPT4gbmV3IEhQVHRsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hwZXJzaXN0XG4gICAqL1xuICBocGVyc2lzdCA9ICguLi5hcmdzKSA9PiBuZXcgSFBlcnNpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGdldFxuICAgKi9cbiAgaGdldCA9ICguLi5hcmdzKSA9PiBuZXcgSEdldENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oZ2V0YWxsXG4gICAqL1xuICBoZ2V0YWxsID0gKC4uLmFyZ3MpID0+IG5ldyBIR2V0QWxsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hnZXRkZWxcbiAgICovXG4gIGhnZXRkZWwgPSAoLi4uYXJncykgPT4gbmV3IEhHZXREZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGdldGV4XG4gICAqL1xuICBoZ2V0ZXggPSAoLi4uYXJncykgPT4gbmV3IEhHZXRFeENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oaW5jcmJ5XG4gICAqL1xuICBoaW5jcmJ5ID0gKC4uLmFyZ3MpID0+IG5ldyBISW5jckJ5Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hpbmNyYnlmbG9hdFxuICAgKi9cbiAgaGluY3JieWZsb2F0ID0gKC4uLmFyZ3MpID0+IG5ldyBISW5jckJ5RmxvYXRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaGtleXNcbiAgICovXG4gIGhrZXlzID0gKC4uLmFyZ3MpID0+IG5ldyBIS2V5c0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9obGVuXG4gICAqL1xuICBobGVuID0gKC4uLmFyZ3MpID0+IG5ldyBITGVuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2htZ2V0XG4gICAqL1xuICBobWdldCA9ICguLi5hcmdzKSA9PiBuZXcgSE1HZXRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaG1zZXRcbiAgICovXG4gIGhtc2V0ID0gKGtleSwga3YpID0+IG5ldyBITVNldENvbW1hbmQoW2tleSwga3ZdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hyYW5kZmllbGRcbiAgICovXG4gIGhyYW5kZmllbGQgPSAoa2V5LCBjb3VudCwgd2l0aFZhbHVlcykgPT4gbmV3IEhSYW5kRmllbGRDb21tYW5kKFtrZXksIGNvdW50LCB3aXRoVmFsdWVzXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2NhblxuICAgKi9cbiAgaHNjYW4gPSAoLi4uYXJncykgPT4gbmV3IEhTY2FuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRcbiAgICovXG4gIGhzZXQgPSAoa2V5LCBrdikgPT4gbmV3IEhTZXRDb21tYW5kKFtrZXksIGt2XSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9oc2V0ZXhcbiAgICovXG4gIGhzZXRleCA9ICguLi5hcmdzKSA9PiBuZXcgSFNldEV4Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzZXRueFxuICAgKi9cbiAgaHNldG54ID0gKGtleSwgZmllbGQsIHZhbHVlKSA9PiBuZXcgSFNldE5YQ29tbWFuZChba2V5LCBmaWVsZCwgdmFsdWVdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2hzdHJsZW5cbiAgICovXG4gIGhzdHJsZW4gPSAoLi4uYXJncykgPT4gbmV3IEhTdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaHZhbHNcbiAgICovXG4gIGh2YWxzID0gKC4uLmFyZ3MpID0+IG5ldyBIVmFsc0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9pbmNyXG4gICAqL1xuICBpbmNyID0gKC4uLmFyZ3MpID0+IG5ldyBJbmNyQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2luY3JieVxuICAgKi9cbiAgaW5jcmJ5ID0gKC4uLmFyZ3MpID0+IG5ldyBJbmNyQnlDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvaW5jcmJ5ZmxvYXRcbiAgICovXG4gIGluY3JieWZsb2F0ID0gKC4uLmFyZ3MpID0+IG5ldyBJbmNyQnlGbG9hdENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9rZXlzXG4gICAqL1xuICBrZXlzID0gKC4uLmFyZ3MpID0+IG5ldyBLZXlzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xpbmRleFxuICAgKi9cbiAgbGluZGV4ID0gKC4uLmFyZ3MpID0+IG5ldyBMSW5kZXhDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbGluc2VydFxuICAgKi9cbiAgbGluc2VydCA9IChrZXksIGRpcmVjdGlvbiwgcGl2b3QsIHZhbHVlKSA9PiBuZXcgTEluc2VydENvbW1hbmQoW2tleSwgZGlyZWN0aW9uLCBwaXZvdCwgdmFsdWVdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xsZW5cbiAgICovXG4gIGxsZW4gPSAoLi4uYXJncykgPT4gbmV3IExMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbG1vdmVcbiAgICovXG4gIGxtb3ZlID0gKC4uLmFyZ3MpID0+IG5ldyBMTW92ZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scG9wXG4gICAqL1xuICBscG9wID0gKC4uLmFyZ3MpID0+IG5ldyBMUG9wQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xtcG9wXG4gICAqL1xuICBsbXBvcCA9ICguLi5hcmdzKSA9PiBuZXcgTG1Qb3BDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHBvc1xuICAgKi9cbiAgbHBvcyA9ICguLi5hcmdzKSA9PiBuZXcgTFBvc0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9scHVzaFxuICAgKi9cbiAgbHB1c2ggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IExQdXNoQ29tbWFuZChba2V5LCAuLi5lbGVtZW50c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHB1c2h4XG4gICAqL1xuICBscHVzaHggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IExQdXNoWENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL2xyYW5nZVxuICAgKi9cbiAgbHJhbmdlID0gKC4uLmFyZ3MpID0+IG5ldyBMUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHJlbVxuICAgKi9cbiAgbHJlbSA9IChrZXksIGNvdW50LCB2YWx1ZSkgPT4gbmV3IExSZW1Db21tYW5kKFtrZXksIGNvdW50LCB2YWx1ZV0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHNldFxuICAgKi9cbiAgbHNldCA9IChrZXksIGluZGV4LCB2YWx1ZSkgPT4gbmV3IExTZXRDb21tYW5kKFtrZXksIGluZGV4LCB2YWx1ZV0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvbHRyaW1cbiAgICovXG4gIGx0cmltID0gKC4uLmFyZ3MpID0+IG5ldyBMVHJpbUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9tZ2V0XG4gICAqL1xuICBtZ2V0ID0gKC4uLmFyZ3MpID0+IG5ldyBNR2V0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21zZXRcbiAgICovXG4gIG1zZXQgPSAoa3YpID0+IG5ldyBNU2V0Q29tbWFuZChba3ZdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL21zZXRueFxuICAgKi9cbiAgbXNldG54ID0gKGt2KSA9PiBuZXcgTVNldE5YQ29tbWFuZChba3ZdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3BlcnNpc3RcbiAgICovXG4gIHBlcnNpc3QgPSAoLi4uYXJncykgPT4gbmV3IFBlcnNpc3RDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGV4cGlyZVxuICAgKi9cbiAgcGV4cGlyZSA9ICguLi5hcmdzKSA9PiBuZXcgUEV4cGlyZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wZXhwaXJlYXRcbiAgICovXG4gIHBleHBpcmVhdCA9ICguLi5hcmdzKSA9PiBuZXcgUEV4cGlyZUF0Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3BmYWRkXG4gICAqL1xuICBwZmFkZCA9ICguLi5hcmdzKSA9PiBuZXcgUGZBZGRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcGZjb3VudFxuICAgKi9cbiAgcGZjb3VudCA9ICguLi5hcmdzKSA9PiBuZXcgUGZDb3VudENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wZm1lcmdlXG4gICAqL1xuICBwZm1lcmdlID0gKC4uLmFyZ3MpID0+IG5ldyBQZk1lcmdlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3BpbmdcbiAgICovXG4gIHBpbmcgPSAoYXJncykgPT4gbmV3IFBpbmdDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHNldGV4XG4gICAqL1xuICBwc2V0ZXggPSAoa2V5LCB0dGwsIHZhbHVlKSA9PiBuZXcgUFNldEVYQ29tbWFuZChba2V5LCB0dGwsIHZhbHVlXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wc3Vic2NyaWJlXG4gICAqL1xuICBwc3Vic2NyaWJlID0gKHBhdHRlcm5zKSA9PiB7XG4gICAgY29uc3QgcGF0dGVybkFycmF5ID0gQXJyYXkuaXNBcnJheShwYXR0ZXJucykgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKHRoaXMuY2xpZW50LCBwYXR0ZXJuQXJyYXksIHRydWUsIHRoaXMub3B0cyk7XG4gIH07XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcHR0bFxuICAgKi9cbiAgcHR0bCA9ICguLi5hcmdzKSA9PiBuZXcgUFR0bENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9wdWJsaXNoXG4gICAqL1xuICBwdWJsaXNoID0gKC4uLmFyZ3MpID0+IG5ldyBQdWJsaXNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3JhbmRvbWtleVxuICAgKi9cbiAgcmFuZG9ta2V5ID0gKCkgPT4gbmV3IFJhbmRvbUtleUNvbW1hbmQoKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9yZW5hbWVcbiAgICovXG4gIHJlbmFtZSA9ICguLi5hcmdzKSA9PiBuZXcgUmVuYW1lQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3JlbmFtZW54XG4gICAqL1xuICByZW5hbWVueCA9ICguLi5hcmdzKSA9PiBuZXcgUmVuYW1lTlhDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcnBvcFxuICAgKi9cbiAgcnBvcCA9ICguLi5hcmdzKSA9PiBuZXcgUlBvcENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9ycHVzaFxuICAgKi9cbiAgcnB1c2ggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IFJQdXNoQ29tbWFuZChba2V5LCAuLi5lbGVtZW50c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvcnB1c2h4XG4gICAqL1xuICBycHVzaHggPSAoa2V5LCAuLi5lbGVtZW50cykgPT4gbmV3IFJQdXNoWENvbW1hbmQoW2tleSwgLi4uZWxlbWVudHNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NhZGRcbiAgICovXG4gIHNhZGQgPSAoa2V5LCBtZW1iZXIsIC4uLm1lbWJlcnMpID0+IG5ldyBTQWRkQ29tbWFuZChba2V5LCBtZW1iZXIsIC4uLm1lbWJlcnNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICBzY2FuKGN1cnNvciwgb3B0cykge1xuICAgIHJldHVybiBuZXcgU2NhbkNvbW1hbmQoW2N1cnNvciwgb3B0c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zY2FyZFxuICAgKi9cbiAgc2NhcmQgPSAoLi4uYXJncykgPT4gbmV3IFNDYXJkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1leGlzdHNcbiAgICovXG4gIHNjcmlwdEV4aXN0cyA9ICguLi5hcmdzKSA9PiBuZXcgU2NyaXB0RXhpc3RzQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1mbHVzaFxuICAgKi9cbiAgc2NyaXB0Rmx1c2ggPSAoLi4uYXJncykgPT4gbmV3IFNjcmlwdEZsdXNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NjcmlwdC1sb2FkXG4gICAqL1xuICBzY3JpcHRMb2FkID0gKC4uLmFyZ3MpID0+IG5ldyBTY3JpcHRMb2FkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NkaWZmXG4gICAqL1xuICBzZGlmZiA9ICguLi5hcmdzKSA9PiBuZXcgU0RpZmZDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2RpZmZzdG9yZVxuICAgKi9cbiAgc2RpZmZzdG9yZSA9ICguLi5hcmdzKSA9PiBuZXcgU0RpZmZTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRcbiAgICovXG4gIHNldCA9IChrZXksIHZhbHVlLCBvcHRzKSA9PiBuZXcgU2V0Q29tbWFuZChba2V5LCB2YWx1ZSwgb3B0c10sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2V0Yml0XG4gICAqL1xuICBzZXRiaXQgPSAoLi4uYXJncykgPT4gbmV3IFNldEJpdENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRleFxuICAgKi9cbiAgc2V0ZXggPSAoa2V5LCB0dGwsIHZhbHVlKSA9PiBuZXcgU2V0RXhDb21tYW5kKFtrZXksIHR0bCwgdmFsdWVdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NldG54XG4gICAqL1xuICBzZXRueCA9IChrZXksIHZhbHVlKSA9PiBuZXcgU2V0TnhDb21tYW5kKFtrZXksIHZhbHVlXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zZXRyYW5nZVxuICAgKi9cbiAgc2V0cmFuZ2UgPSAoLi4uYXJncykgPT4gbmV3IFNldFJhbmdlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NpbnRlclxuICAgKi9cbiAgc2ludGVyID0gKC4uLmFyZ3MpID0+IG5ldyBTSW50ZXJDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc2ludGVyc3RvcmVcbiAgICovXG4gIHNpbnRlcnN0b3JlID0gKC4uLmFyZ3MpID0+IG5ldyBTSW50ZXJTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zaXNtZW1iZXJcbiAgICovXG4gIHNpc21lbWJlciA9IChrZXksIG1lbWJlcikgPT4gbmV3IFNJc01lbWJlckNvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zbWlzbWVtYmVyXG4gICAqL1xuICBzbWlzbWVtYmVyID0gKGtleSwgbWVtYmVycykgPT4gbmV3IFNNSXNNZW1iZXJDb21tYW5kKFtrZXksIG1lbWJlcnNdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NtZW1iZXJzXG4gICAqL1xuICBzbWVtYmVycyA9ICguLi5hcmdzKSA9PiBuZXcgU01lbWJlcnNDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc21vdmVcbiAgICovXG4gIHNtb3ZlID0gKHNvdXJjZSwgZGVzdGluYXRpb24sIG1lbWJlcikgPT4gbmV3IFNNb3ZlQ29tbWFuZChbc291cmNlLCBkZXN0aW5hdGlvbiwgbWVtYmVyXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zcG9wXG4gICAqL1xuICBzcG9wID0gKC4uLmFyZ3MpID0+IG5ldyBTUG9wQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3NyYW5kbWVtYmVyXG4gICAqL1xuICBzcmFuZG1lbWJlciA9ICguLi5hcmdzKSA9PiBuZXcgU1JhbmRNZW1iZXJDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc3JlbVxuICAgKi9cbiAgc3JlbSA9IChrZXksIC4uLm1lbWJlcnMpID0+IG5ldyBTUmVtQ29tbWFuZChba2V5LCAuLi5tZW1iZXJzXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zc2NhblxuICAgKi9cbiAgc3NjYW4gPSAoLi4uYXJncykgPT4gbmV3IFNTY2FuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3N0cmxlblxuICAgKi9cbiAgc3RybGVuID0gKC4uLmFyZ3MpID0+IG5ldyBTdHJMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc3Vic2NyaWJlXG4gICAqL1xuICBzdWJzY3JpYmUgPSAoY2hhbm5lbHMpID0+IHtcbiAgICBjb25zdCBjaGFubmVsQXJyYXkgPSBBcnJheS5pc0FycmF5KGNoYW5uZWxzKSA/IGNoYW5uZWxzIDogW2NoYW5uZWxzXTtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIodGhpcy5jbGllbnQsIGNoYW5uZWxBcnJheSwgZmFsc2UsIHRoaXMub3B0cyk7XG4gIH07XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvc3VuaW9uXG4gICAqL1xuICBzdW5pb24gPSAoLi4uYXJncykgPT4gbmV3IFNVbmlvbkNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy9zdW5pb25zdG9yZVxuICAgKi9cbiAgc3VuaW9uc3RvcmUgPSAoLi4uYXJncykgPT4gbmV3IFNVbmlvblN0b3JlQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3RpbWVcbiAgICovXG4gIHRpbWUgPSAoKSA9PiBuZXcgVGltZUNvbW1hbmQoKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy90b3VjaFxuICAgKi9cbiAgdG91Y2ggPSAoLi4uYXJncykgPT4gbmV3IFRvdWNoQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3R0bFxuICAgKi9cbiAgdHRsID0gKC4uLmFyZ3MpID0+IG5ldyBUdGxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvdHlwZVxuICAgKi9cbiAgdHlwZSA9ICguLi5hcmdzKSA9PiBuZXcgVHlwZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy91bmxpbmtcbiAgICovXG4gIHVubGluayA9ICguLi5hcmdzKSA9PiBuZXcgVW5saW5rQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhZGRcbiAgICovXG4gIHhhZGQgPSAoLi4uYXJncykgPT4gbmV3IFhBZGRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveGFja1xuICAgKi9cbiAgeGFjayA9ICguLi5hcmdzKSA9PiBuZXcgWEFja0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94YWNrZGVsXG4gICAqL1xuICB4YWNrZGVsID0gKC4uLmFyZ3MpID0+IG5ldyBYQWNrRGVsQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hkZWxcbiAgICovXG4gIHhkZWwgPSAoLi4uYXJncykgPT4gbmV3IFhEZWxDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveGRlbGV4XG4gICAqL1xuICB4ZGVsZXggPSAoLi4uYXJncykgPT4gbmV3IFhEZWxFeENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94Z3JvdXBcbiAgICovXG4gIHhncm91cCA9ICguLi5hcmdzKSA9PiBuZXcgWEdyb3VwQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyZWFkXG4gICAqL1xuICB4cmVhZCA9ICguLi5hcmdzKSA9PiBuZXcgWFJlYWRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJlYWRncm91cFxuICAgKi9cbiAgeHJlYWRncm91cCA9ICguLi5hcmdzKSA9PiBuZXcgWFJlYWRHcm91cENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94aW5mb1xuICAgKi9cbiAgeGluZm8gPSAoLi4uYXJncykgPT4gbmV3IFhJbmZvQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hsZW5cbiAgICovXG4gIHhsZW4gPSAoLi4uYXJncykgPT4gbmV3IFhMZW5Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHBlbmRpbmdcbiAgICovXG4gIHhwZW5kaW5nID0gKC4uLmFyZ3MpID0+IG5ldyBYUGVuZGluZ0NvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94Y2xhaW1cbiAgICovXG4gIHhjbGFpbSA9ICguLi5hcmdzKSA9PiBuZXcgWENsYWltQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hhdXRvY2xhaW1cbiAgICovXG4gIHhhdXRvY2xhaW0gPSAoLi4uYXJncykgPT4gbmV3IFhBdXRvQ2xhaW0oYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy94dHJpbVxuICAgKi9cbiAgeHRyaW0gPSAoLi4uYXJncykgPT4gbmV3IFhUcmltQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3hyYW5nZVxuICAgKi9cbiAgeHJhbmdlID0gKC4uLmFyZ3MpID0+IG5ldyBYUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMveHJldnJhbmdlXG4gICAqL1xuICB4cmV2cmFuZ2UgPSAoLi4uYXJncykgPT4gbmV3IFhSZXZSYW5nZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96YWRkXG4gICAqL1xuICB6YWRkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoXCJzY29yZVwiIGluIGFyZ3NbMV0pIHtcbiAgICAgIHJldHVybiBuZXcgWkFkZENvbW1hbmQoW2FyZ3NbMF0sIGFyZ3NbMV0sIC4uLmFyZ3Muc2xpY2UoMildLCB0aGlzLm9wdHMpLmV4ZWMoXG4gICAgICAgIHRoaXMuY2xpZW50XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpBZGRDb21tYW5kKFxuICAgICAgW2FyZ3NbMF0sIGFyZ3NbMV0sIC4uLmFyZ3Muc2xpY2UoMildLFxuICAgICAgdGhpcy5vcHRzXG4gICAgKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96Y2FyZFxuICAgKi9cbiAgemNhcmQgPSAoLi4uYXJncykgPT4gbmV3IFpDYXJkQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pjb3VudFxuICAgKi9cbiAgemNvdW50ID0gKC4uLmFyZ3MpID0+IG5ldyBaQ291bnRDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemRpZmZzdG9yZVxuICAgKi9cbiAgemRpZmZzdG9yZSA9ICguLi5hcmdzKSA9PiBuZXcgWkRpZmZTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96aW5jcmJ5XG4gICAqL1xuICB6aW5jcmJ5ID0gKGtleSwgaW5jcmVtZW50LCBtZW1iZXIpID0+IG5ldyBaSW5jckJ5Q29tbWFuZChba2V5LCBpbmNyZW1lbnQsIG1lbWJlcl0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvemludGVyc3RvcmVcbiAgICovXG4gIHppbnRlcnN0b3JlID0gKC4uLmFyZ3MpID0+IG5ldyBaSW50ZXJTdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96bGV4Y291bnRcbiAgICovXG4gIHpsZXhjb3VudCA9ICguLi5hcmdzKSA9PiBuZXcgWkxleENvdW50Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3ptc2NvcmVcbiAgICovXG4gIHptc2NvcmUgPSAoLi4uYXJncykgPT4gbmV3IFpNU2NvcmVDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenBvcG1heFxuICAgKi9cbiAgenBvcG1heCA9ICguLi5hcmdzKSA9PiBuZXcgWlBvcE1heENvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cG9wbWluXG4gICAqL1xuICB6cG9wbWluID0gKC4uLmFyZ3MpID0+IG5ldyBaUG9wTWluQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pyYW5nZVxuICAgKi9cbiAgenJhbmdlID0gKC4uLmFyZ3MpID0+IG5ldyBaUmFuZ2VDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJhbmtcbiAgICovXG4gIHpyYW5rID0gKGtleSwgbWVtYmVyKSA9PiBuZXcgWlJhbmtDb21tYW5kKFtrZXksIG1lbWJlcl0sIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbVxuICAgKi9cbiAgenJlbSA9IChrZXksIC4uLm1lbWJlcnMpID0+IG5ldyBaUmVtQ29tbWFuZChba2V5LCAuLi5tZW1iZXJzXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmVtcmFuZ2VieWxleFxuICAgKi9cbiAgenJlbXJhbmdlYnlsZXggPSAoLi4uYXJncykgPT4gbmV3IFpSZW1SYW5nZUJ5TGV4Q29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pyZW1yYW5nZWJ5cmFua1xuICAgKi9cbiAgenJlbXJhbmdlYnlyYW5rID0gKC4uLmFyZ3MpID0+IG5ldyBaUmVtUmFuZ2VCeVJhbmtDb21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenJlbXJhbmdlYnlzY29yZVxuICAgKi9cbiAgenJlbXJhbmdlYnlzY29yZSA9ICguLi5hcmdzKSA9PiBuZXcgWlJlbVJhbmdlQnlTY29yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96cmV2cmFua1xuICAgKi9cbiAgenJldnJhbmsgPSAoa2V5LCBtZW1iZXIpID0+IG5ldyBaUmV2UmFua0NvbW1hbmQoW2tleSwgbWVtYmVyXSwgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbiAgLyoqXG4gICAqIEBzZWUgaHR0cHM6Ly9yZWRpcy5pby9jb21tYW5kcy96c2NhblxuICAgKi9cbiAgenNjYW4gPSAoLi4uYXJncykgPT4gbmV3IFpTY2FuQ29tbWFuZChhcmdzLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3pzY29yZVxuICAgKi9cbiAgenNjb3JlID0gKGtleSwgbWVtYmVyKSA9PiBuZXcgWlNjb3JlQ29tbWFuZChba2V5LCBtZW1iZXJdLCB0aGlzLm9wdHMpLmV4ZWModGhpcy5jbGllbnQpO1xuICAvKipcbiAgICogQHNlZSBodHRwczovL3JlZGlzLmlvL2NvbW1hbmRzL3p1bmlvblxuICAgKi9cbiAgenVuaW9uID0gKC4uLmFyZ3MpID0+IG5ldyBaVW5pb25Db21tYW5kKGFyZ3MsIHRoaXMub3B0cykuZXhlYyh0aGlzLmNsaWVudCk7XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vcmVkaXMuaW8vY29tbWFuZHMvenVuaW9uc3RvcmVcbiAgICovXG4gIHp1bmlvbnN0b3JlID0gKC4uLmFyZ3MpID0+IG5ldyBaVW5pb25TdG9yZUNvbW1hbmQoYXJncywgdGhpcy5vcHRzKS5leGVjKHRoaXMuY2xpZW50KTtcbn07XG5cbi8vIHZlcnNpb24udHNcbnZhciBWRVJTSU9OID0gXCJ2MS4zNi4yXCI7XG5cbmV4cG9ydCB7XG4gIGVycm9yX2V4cG9ydHMsXG4gIEh0dHBDbGllbnQsXG4gIFJlZGlzLFxuICBWRVJTSU9OXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/nodejs.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/nodejs.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Redis: () => (/* binding */ Redis2),\n/* harmony export */   errors: () => (/* reexport safe */ _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.error_exports)\n/* harmony export */ });\n/* harmony import */ var _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-Q3SWX4BB.mjs */ \"(ssr)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/chunk-Q3SWX4BB.mjs\");\n\n\n// platforms/nodejs.ts\nif (typeof atob === \"undefined\") {\n  global.atob = (b64) => Buffer.from(b64, \"base64\").toString(\"utf8\");\n}\nvar Redis2 = class _Redis extends _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.Redis {\n  /**\n   * Create a new redis client by providing a custom `Requester` implementation\n   *\n   * @example\n   * ```ts\n   *\n   * import { UpstashRequest, Requester, UpstashResponse, Redis } from \"@upstash/redis\"\n   *\n   *  const requester: Requester = {\n   *    request: <TResult>(req: UpstashRequest): Promise<UpstashResponse<TResult>> => {\n   *      // ...\n   *    }\n   *  }\n   *\n   * const redis = new Redis(requester)\n   * ```\n   */\n  constructor(configOrRequester) {\n    if (\"request\" in configOrRequester) {\n      super(configOrRequester);\n      return;\n    }\n    if (!configOrRequester.url) {\n      console.warn(\n        `[Upstash Redis] The 'url' property is missing or undefined in your Redis config.`\n      );\n    } else if (configOrRequester.url.startsWith(\" \") || configOrRequester.url.endsWith(\" \") || /\\r|\\n/.test(configOrRequester.url)) {\n      console.warn(\n        \"[Upstash Redis] The redis url contains whitespace or newline, which can cause errors!\"\n      );\n    }\n    if (!configOrRequester.token) {\n      console.warn(\n        `[Upstash Redis] The 'token' property is missing or undefined in your Redis config.`\n      );\n    } else if (configOrRequester.token.startsWith(\" \") || configOrRequester.token.endsWith(\" \") || /\\r|\\n/.test(configOrRequester.token)) {\n      console.warn(\n        \"[Upstash Redis] The redis token contains whitespace or newline, which can cause errors!\"\n      );\n    }\n    const client = new _chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpClient({\n      baseUrl: configOrRequester.url,\n      retry: configOrRequester.retry,\n      headers: { authorization: `Bearer ${configOrRequester.token}` },\n      agent: configOrRequester.agent,\n      responseEncoding: configOrRequester.responseEncoding,\n      cache: configOrRequester.cache ?? \"no-store\",\n      signal: configOrRequester.signal,\n      keepAlive: configOrRequester.keepAlive,\n      readYourWrites: configOrRequester.readYourWrites\n    });\n    const safeEnv = typeof process === \"object\" && process && typeof process.env === \"object\" && process.env ? process.env : {};\n    super(client, {\n      automaticDeserialization: configOrRequester.automaticDeserialization,\n      enableTelemetry: configOrRequester.enableTelemetry ?? !safeEnv.UPSTASH_DISABLE_TELEMETRY,\n      latencyLogging: configOrRequester.latencyLogging,\n      enableAutoPipelining: configOrRequester.enableAutoPipelining\n    });\n    const nodeVersion = typeof process === \"object\" && process ? process.version : void 0;\n    this.addTelemetry({\n      runtime: (\n        // @ts-expect-error to silence compiler\n        typeof EdgeRuntime === \"string\" ? \"edge-light\" : nodeVersion ? `node@${nodeVersion}` : \"unknown\"\n      ),\n      platform: safeEnv.UPSTASH_CONSOLE ? \"console\" : safeEnv.VERCEL ? \"vercel\" : safeEnv.AWS_REGION ? \"aws\" : \"unknown\",\n      sdk: `@upstash/redis@${_chunk_Q3SWX4BB_mjs__WEBPACK_IMPORTED_MODULE_0__.VERSION}`\n    });\n    if (this.enableAutoPipelining) {\n      return this.autoPipeline();\n    }\n  }\n  /**\n   * Create a new Upstash Redis instance from environment variables.\n   *\n   * Use this to automatically load connection secrets from your environment\n   * variables. For instance when using the Vercel integration.\n   *\n   * This tries to load connection details from your environment using `process.env`:\n   * - URL: `UPSTASH_REDIS_REST_URL` or fallback to `KV_REST_API_URL`\n   * - Token: `UPSTASH_REDIS_REST_TOKEN` or fallback to `KV_REST_API_TOKEN`\n   *\n   * The fallback variables provide compatibility with Vercel KV and other platforms\n   * that may use different naming conventions.\n   */\n  static fromEnv(config) {\n    if (typeof process !== \"object\" || !process || typeof process.env !== \"object\" || !process.env) {\n      throw new TypeError(\n        '[Upstash Redis] Unable to get environment variables, `process.env` is undefined. If you are deploying to cloudflare, please import from \"@upstash/redis/cloudflare\" instead'\n      );\n    }\n    const url = process.env.UPSTASH_REDIS_REST_URL || process.env.KV_REST_API_URL;\n    if (!url) {\n      console.warn(\"[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_URL`\");\n    }\n    const token = process.env.UPSTASH_REDIS_REST_TOKEN || process.env.KV_REST_API_TOKEN;\n    if (!token) {\n      console.warn(\n        \"[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_TOKEN`\"\n      );\n    }\n    return new _Redis({ ...config, url, token });\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHVwc3Rhc2grcmVkaXNAMS4zNi4yL25vZGVfbW9kdWxlcy9AdXBzdGFzaC9yZWRpcy9ub2RlanMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUs4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msc0RBQUs7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvREFBb0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyREFBVTtBQUNqQztBQUNBO0FBQ0EsaUJBQWlCLHlCQUF5Qix3QkFBd0IsR0FBRztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLFlBQVk7QUFDM0Y7QUFDQTtBQUNBLDZCQUE2Qix3REFBTyxDQUFDO0FBQ3JDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFJRSIsInNvdXJjZXMiOlsiL1VzZXJzL3RpYW56aWhhby9Db2RlQnVkZHkvUHJvdG9mb2xpby9ub2RlX21vZHVsZXMvLnBucG0vQHVwc3Rhc2grcmVkaXNAMS4zNi4yL25vZGVfbW9kdWxlcy9AdXBzdGFzaC9yZWRpcy9ub2RlanMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEh0dHBDbGllbnQsXG4gIFJlZGlzLFxuICBWRVJTSU9OLFxuICBlcnJvcl9leHBvcnRzXG59IGZyb20gXCIuL2NodW5rLVEzU1dYNEJCLm1qc1wiO1xuXG4vLyBwbGF0Zm9ybXMvbm9kZWpzLnRzXG5pZiAodHlwZW9mIGF0b2IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgZ2xvYmFsLmF0b2IgPSAoYjY0KSA9PiBCdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKTtcbn1cbnZhciBSZWRpczIgPSBjbGFzcyBfUmVkaXMgZXh0ZW5kcyBSZWRpcyB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcmVkaXMgY2xpZW50IGJ5IHByb3ZpZGluZyBhIGN1c3RvbSBgUmVxdWVzdGVyYCBpbXBsZW1lbnRhdGlvblxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKlxuICAgKiBpbXBvcnQgeyBVcHN0YXNoUmVxdWVzdCwgUmVxdWVzdGVyLCBVcHN0YXNoUmVzcG9uc2UsIFJlZGlzIH0gZnJvbSBcIkB1cHN0YXNoL3JlZGlzXCJcbiAgICpcbiAgICogIGNvbnN0IHJlcXVlc3RlcjogUmVxdWVzdGVyID0ge1xuICAgKiAgICByZXF1ZXN0OiA8VFJlc3VsdD4ocmVxOiBVcHN0YXNoUmVxdWVzdCk6IFByb21pc2U8VXBzdGFzaFJlc3BvbnNlPFRSZXN1bHQ+PiA9PiB7XG4gICAqICAgICAgLy8gLi4uXG4gICAqICAgIH1cbiAgICogIH1cbiAgICpcbiAgICogY29uc3QgcmVkaXMgPSBuZXcgUmVkaXMocmVxdWVzdGVyKVxuICAgKiBgYGBcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZ09yUmVxdWVzdGVyKSB7XG4gICAgaWYgKFwicmVxdWVzdFwiIGluIGNvbmZpZ09yUmVxdWVzdGVyKSB7XG4gICAgICBzdXBlcihjb25maWdPclJlcXVlc3Rlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29uZmlnT3JSZXF1ZXN0ZXIudXJsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBbVXBzdGFzaCBSZWRpc10gVGhlICd1cmwnIHByb3BlcnR5IGlzIG1pc3Npbmcgb3IgdW5kZWZpbmVkIGluIHlvdXIgUmVkaXMgY29uZmlnLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb25maWdPclJlcXVlc3Rlci51cmwuc3RhcnRzV2l0aChcIiBcIikgfHwgY29uZmlnT3JSZXF1ZXN0ZXIudXJsLmVuZHNXaXRoKFwiIFwiKSB8fCAvXFxyfFxcbi8udGVzdChjb25maWdPclJlcXVlc3Rlci51cmwpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW1Vwc3Rhc2ggUmVkaXNdIFRoZSByZWRpcyB1cmwgY29udGFpbnMgd2hpdGVzcGFjZSBvciBuZXdsaW5lLCB3aGljaCBjYW4gY2F1c2UgZXJyb3JzIVwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZ09yUmVxdWVzdGVyLnRva2VuKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBbVXBzdGFzaCBSZWRpc10gVGhlICd0b2tlbicgcHJvcGVydHkgaXMgbWlzc2luZyBvciB1bmRlZmluZWQgaW4geW91ciBSZWRpcyBjb25maWcuYFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZ09yUmVxdWVzdGVyLnRva2VuLnN0YXJ0c1dpdGgoXCIgXCIpIHx8IGNvbmZpZ09yUmVxdWVzdGVyLnRva2VuLmVuZHNXaXRoKFwiIFwiKSB8fCAvXFxyfFxcbi8udGVzdChjb25maWdPclJlcXVlc3Rlci50b2tlbikpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbVXBzdGFzaCBSZWRpc10gVGhlIHJlZGlzIHRva2VuIGNvbnRhaW5zIHdoaXRlc3BhY2Ugb3IgbmV3bGluZSwgd2hpY2ggY2FuIGNhdXNlIGVycm9ycyFcIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IEh0dHBDbGllbnQoe1xuICAgICAgYmFzZVVybDogY29uZmlnT3JSZXF1ZXN0ZXIudXJsLFxuICAgICAgcmV0cnk6IGNvbmZpZ09yUmVxdWVzdGVyLnJldHJ5LFxuICAgICAgaGVhZGVyczogeyBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Y29uZmlnT3JSZXF1ZXN0ZXIudG9rZW59YCB9LFxuICAgICAgYWdlbnQ6IGNvbmZpZ09yUmVxdWVzdGVyLmFnZW50LFxuICAgICAgcmVzcG9uc2VFbmNvZGluZzogY29uZmlnT3JSZXF1ZXN0ZXIucmVzcG9uc2VFbmNvZGluZyxcbiAgICAgIGNhY2hlOiBjb25maWdPclJlcXVlc3Rlci5jYWNoZSA/PyBcIm5vLXN0b3JlXCIsXG4gICAgICBzaWduYWw6IGNvbmZpZ09yUmVxdWVzdGVyLnNpZ25hbCxcbiAgICAgIGtlZXBBbGl2ZTogY29uZmlnT3JSZXF1ZXN0ZXIua2VlcEFsaXZlLFxuICAgICAgcmVhZFlvdXJXcml0ZXM6IGNvbmZpZ09yUmVxdWVzdGVyLnJlYWRZb3VyV3JpdGVzXG4gICAgfSk7XG4gICAgY29uc3Qgc2FmZUVudiA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgdHlwZW9mIHByb2Nlc3MuZW52ID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ID8gcHJvY2Vzcy5lbnYgOiB7fTtcbiAgICBzdXBlcihjbGllbnQsIHtcbiAgICAgIGF1dG9tYXRpY0Rlc2VyaWFsaXphdGlvbjogY29uZmlnT3JSZXF1ZXN0ZXIuYXV0b21hdGljRGVzZXJpYWxpemF0aW9uLFxuICAgICAgZW5hYmxlVGVsZW1ldHJ5OiBjb25maWdPclJlcXVlc3Rlci5lbmFibGVUZWxlbWV0cnkgPz8gIXNhZmVFbnYuVVBTVEFTSF9ESVNBQkxFX1RFTEVNRVRSWSxcbiAgICAgIGxhdGVuY3lMb2dnaW5nOiBjb25maWdPclJlcXVlc3Rlci5sYXRlbmN5TG9nZ2luZyxcbiAgICAgIGVuYWJsZUF1dG9QaXBlbGluaW5nOiBjb25maWdPclJlcXVlc3Rlci5lbmFibGVBdXRvUGlwZWxpbmluZ1xuICAgIH0pO1xuICAgIGNvbnN0IG5vZGVWZXJzaW9uID0gdHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyA/IHByb2Nlc3MudmVyc2lvbiA6IHZvaWQgMDtcbiAgICB0aGlzLmFkZFRlbGVtZXRyeSh7XG4gICAgICBydW50aW1lOiAoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdG8gc2lsZW5jZSBjb21waWxlclxuICAgICAgICB0eXBlb2YgRWRnZVJ1bnRpbWUgPT09IFwic3RyaW5nXCIgPyBcImVkZ2UtbGlnaHRcIiA6IG5vZGVWZXJzaW9uID8gYG5vZGVAJHtub2RlVmVyc2lvbn1gIDogXCJ1bmtub3duXCJcbiAgICAgICksXG4gICAgICBwbGF0Zm9ybTogc2FmZUVudi5VUFNUQVNIX0NPTlNPTEUgPyBcImNvbnNvbGVcIiA6IHNhZmVFbnYuVkVSQ0VMID8gXCJ2ZXJjZWxcIiA6IHNhZmVFbnYuQVdTX1JFR0lPTiA/IFwiYXdzXCIgOiBcInVua25vd25cIixcbiAgICAgIHNkazogYEB1cHN0YXNoL3JlZGlzQCR7VkVSU0lPTn1gXG4gICAgfSk7XG4gICAgaWYgKHRoaXMuZW5hYmxlQXV0b1BpcGVsaW5pbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLmF1dG9QaXBlbGluZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFVwc3Rhc2ggUmVkaXMgaW5zdGFuY2UgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gICAqXG4gICAqIFVzZSB0aGlzIHRvIGF1dG9tYXRpY2FsbHkgbG9hZCBjb25uZWN0aW9uIHNlY3JldHMgZnJvbSB5b3VyIGVudmlyb25tZW50XG4gICAqIHZhcmlhYmxlcy4gRm9yIGluc3RhbmNlIHdoZW4gdXNpbmcgdGhlIFZlcmNlbCBpbnRlZ3JhdGlvbi5cbiAgICpcbiAgICogVGhpcyB0cmllcyB0byBsb2FkIGNvbm5lY3Rpb24gZGV0YWlscyBmcm9tIHlvdXIgZW52aXJvbm1lbnQgdXNpbmcgYHByb2Nlc3MuZW52YDpcbiAgICogLSBVUkw6IGBVUFNUQVNIX1JFRElTX1JFU1RfVVJMYCBvciBmYWxsYmFjayB0byBgS1ZfUkVTVF9BUElfVVJMYFxuICAgKiAtIFRva2VuOiBgVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOYCBvciBmYWxsYmFjayB0byBgS1ZfUkVTVF9BUElfVE9LRU5gXG4gICAqXG4gICAqIFRoZSBmYWxsYmFjayB2YXJpYWJsZXMgcHJvdmlkZSBjb21wYXRpYmlsaXR5IHdpdGggVmVyY2VsIEtWIGFuZCBvdGhlciBwbGF0Zm9ybXNcbiAgICogdGhhdCBtYXkgdXNlIGRpZmZlcmVudCBuYW1pbmcgY29udmVudGlvbnMuXG4gICAqL1xuICBzdGF0aWMgZnJvbUVudihjb25maWcpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09IFwib2JqZWN0XCIgfHwgIXByb2Nlc3MgfHwgdHlwZW9mIHByb2Nlc3MuZW52ICE9PSBcIm9iamVjdFwiIHx8ICFwcm9jZXNzLmVudikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ1tVcHN0YXNoIFJlZGlzXSBVbmFibGUgdG8gZ2V0IGVudmlyb25tZW50IHZhcmlhYmxlcywgYHByb2Nlc3MuZW52YCBpcyB1bmRlZmluZWQuIElmIHlvdSBhcmUgZGVwbG95aW5nIHRvIGNsb3VkZmxhcmUsIHBsZWFzZSBpbXBvcnQgZnJvbSBcIkB1cHN0YXNoL3JlZGlzL2Nsb3VkZmxhcmVcIiBpbnN0ZWFkJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1VSTCB8fCBwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9VUkw7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltVcHN0YXNoIFJlZGlzXSBVbmFibGUgdG8gZmluZCBlbnZpcm9ubWVudCB2YXJpYWJsZTogYFVQU1RBU0hfUkVESVNfUkVTVF9VUkxgXCIpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9UT0tFTiB8fCBwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9UT0tFTjtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW1Vwc3Rhc2ggUmVkaXNdIFVuYWJsZSB0byBmaW5kIGVudmlyb25tZW50IHZhcmlhYmxlOiBgVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOYFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9SZWRpcyh7IC4uLmNvbmZpZywgdXJsLCB0b2tlbiB9KTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIFJlZGlzMiBhcyBSZWRpcyxcbiAgZXJyb3JfZXhwb3J0cyBhcyBlcnJvcnNcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@upstash+redis@1.36.2/node_modules/@upstash/redis/nodejs.mjs\n");

/***/ })

};
;